"use strict";(self.webpackChunklevana_website=self.webpackChunklevana_website||[]).push([[9606],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>k});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),o=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},m=function(e){var t=o(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,m=p(e,["components","mdxType","originalType","parentName"]),u=o(n),k=r,c=u["".concat(s,".").concat(k)]||u[k]||d[k]||l;return n?a.createElement(c,i(i({ref:t},m),{},{components:n})):a.createElement(c,i({ref:t},m))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=u;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p.mdxType="string"==typeof e?e:r,i[1]=p;for(var o=2;o<l;o++)i[o]=n[o];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},3009:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>l,metadata:()=>p,toc:()=>o});var a=n(7462),r=(n(7294),n(3905));const l={sidebar_position:7},i="JSP",p={unversionedId:"Java/JSP&\u4f1a\u8bdd\u6280\u672f",id:"Java/JSP&\u4f1a\u8bdd\u6280\u672f",title:"JSP",description:"\u76ee\u6807\uff1a",source:"@site/study/dev/Java/JSP&\u4f1a\u8bdd\u6280\u672f.md",sourceDirName:"Java",slug:"/Java/JSP&\u4f1a\u8bdd\u6280\u672f",permalink:"/levana/dev/Java/JSP&\u4f1a\u8bdd\u6280\u672f",draft:!1,tags:[],version:"current",lastUpdatedBy:"levana",lastUpdatedAt:1677156293,formattedLastUpdatedAt:"2023\u5e742\u670823\u65e5",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"Request&Response",permalink:"/levana/dev/Java/Request&Response"},next:{title:"Filter&Listener&Ajax",permalink:"/levana/dev/Java/Filter&Listener&Ajax"}},s={},o=[{value:"1\uff0cJSP \u6982\u8ff0",id:"1jsp-\u6982\u8ff0",level:2},{value:"2\uff0cJSP \u5feb\u901f\u5165\u95e8",id:"2jsp-\u5feb\u901f\u5165\u95e8",level:2},{value:"2.1  \u642d\u5efa\u73af\u5883",id:"21--\u642d\u5efa\u73af\u5883",level:3},{value:"2.2  \u5bfc\u5165 JSP \u4f9d\u8d56",id:"22--\u5bfc\u5165-jsp-\u4f9d\u8d56",level:3},{value:"2.3  \u521b\u5efa jsp \u9875\u9762",id:"23--\u521b\u5efa-jsp-\u9875\u9762",level:3},{value:"2.4  \u7f16\u5199\u4ee3\u7801",id:"24--\u7f16\u5199\u4ee3\u7801",level:3},{value:"2.5  \u6d4b\u8bd5",id:"25--\u6d4b\u8bd5",level:3},{value:"3\uff0cJSP \u539f\u7406",id:"3jsp-\u539f\u7406",level:2},{value:"4\uff0cJSP \u811a\u672c",id:"4jsp-\u811a\u672c",level:2},{value:"4.1  JSP \u811a\u672c\u5206\u7c7b",id:"41--jsp-\u811a\u672c\u5206\u7c7b",level:3},{value:"4.2  \u6848\u4f8b",id:"42--\u6848\u4f8b",level:3},{value:"4.2.1  \u9700\u6c42",id:"421--\u9700\u6c42",level:4},{value:"4.2.2  \u5b9e\u73b0",id:"422--\u5b9e\u73b0",level:4},{value:"4.2.3  \u6210\u54c1\u4ee3\u7801",id:"423--\u6210\u54c1\u4ee3\u7801",level:4},{value:"4.2.4  \u6d4b\u8bd5",id:"424--\u6d4b\u8bd5",level:4},{value:"4.3  JSP \u7f3a\u70b9",id:"43--jsp-\u7f3a\u70b9",level:3},{value:"5\uff0cEL \u8868\u8fbe\u5f0f",id:"5el-\u8868\u8fbe\u5f0f",level:2},{value:"5.1  \u6982\u8ff0",id:"51--\u6982\u8ff0",level:3},{value:"5.2  \u4ee3\u7801\u6f14\u793a",id:"52--\u4ee3\u7801\u6f14\u793a",level:3},{value:"5.3  \u57df\u5bf9\u8c61",id:"53--\u57df\u5bf9\u8c61",level:3},{value:"6\uff0cJSTL\u6807\u7b7e",id:"6jstl\u6807\u7b7e",level:2},{value:"6.1  \u6982\u8ff0",id:"61--\u6982\u8ff0",level:3},{value:"6.2  if \u6807\u7b7e",id:"62--if-\u6807\u7b7e",level:3},{value:"6.3  forEach \u6807\u7b7e",id:"63--foreach-\u6807\u7b7e",level:3},{value:"6.3.1  \u7528\u6cd5\u4e00",id:"631--\u7528\u6cd5\u4e00",level:4},{value:"6.3.2  \u7528\u6cd5\u4e8c",id:"632--\u7528\u6cd5\u4e8c",level:4},{value:"7\uff0cMVC\u6a21\u5f0f\u548c\u4e09\u5c42\u67b6\u6784",id:"7mvc\u6a21\u5f0f\u548c\u4e09\u5c42\u67b6\u6784",level:2},{value:"7.2  \u4e09\u5c42\u67b6\u6784",id:"72--\u4e09\u5c42\u67b6\u6784",level:3},{value:"7.3  MVC \u548c \u4e09\u5c42\u67b6\u6784",id:"73--mvc-\u548c-\u4e09\u5c42\u67b6\u6784",level:3},{value:"8\uff0c\u6848\u4f8b",id:"8\u6848\u4f8b",level:2},{value:"8.1  \u73af\u5883\u51c6\u5907",id:"81--\u73af\u5883\u51c6\u5907",level:3},{value:"8.1.1  \u521b\u5efa\u5de5\u7a0b",id:"811--\u521b\u5efa\u5de5\u7a0b",level:4},{value:"8.1.2  \u521b\u5efa\u5305",id:"812--\u521b\u5efa\u5305",level:4},{value:"8.1.3  \u521b\u5efa\u8868",id:"813--\u521b\u5efa\u8868",level:4},{value:"8.1.4  \u521b\u5efa\u5b9e\u4f53\u7c7b",id:"814--\u521b\u5efa\u5b9e\u4f53\u7c7b",level:4},{value:"8.1.5   \u51c6\u5907mybatis\u73af\u5883",id:"815---\u51c6\u5907mybatis\u73af\u5883",level:4},{value:"8.2  \u67e5\u8be2\u6240\u6709",id:"82--\u67e5\u8be2\u6240\u6709",level:3},{value:"8.2.1  \u7f16\u5199BrandMapper",id:"821--\u7f16\u5199brandmapper",level:4},{value:"8.2.2  \u7f16\u5199\u5de5\u5177\u7c7b",id:"822--\u7f16\u5199\u5de5\u5177\u7c7b",level:4},{value:"8.2.3  \u7f16\u5199BrandService",id:"823--\u7f16\u5199brandservice",level:4},{value:"8.2.4  \u7f16\u5199Servlet",id:"824--\u7f16\u5199servlet",level:4},{value:"8.2.5  \u7f16\u5199brand.jsp\u9875\u9762",id:"825--\u7f16\u5199brandjsp\u9875\u9762",level:4},{value:"8.2.6  \u6d4b\u8bd5",id:"826--\u6d4b\u8bd5",level:4},{value:"8.3  \u6dfb\u52a0",id:"83--\u6dfb\u52a0",level:3},{value:"8.3.1  \u7f16\u5199BrandMapper\u65b9\u6cd5",id:"831--\u7f16\u5199brandmapper\u65b9\u6cd5",level:4},{value:"8.3.2  \u7f16\u5199BrandService\u65b9\u6cd5",id:"832--\u7f16\u5199brandservice\u65b9\u6cd5",level:4},{value:"8.3.3  \u6539\u8fdbbrand.jsp\u9875\u9762",id:"833--\u6539\u8fdbbrandjsp\u9875\u9762",level:4},{value:"8.3.4  \u7f16\u5199addBrand.jsp\u9875\u9762",id:"834--\u7f16\u5199addbrandjsp\u9875\u9762",level:4},{value:"8.3.5  \u7f16\u5199servlet",id:"835--\u7f16\u5199servlet",level:4},{value:"8.3.6  \u6d4b\u8bd5",id:"836--\u6d4b\u8bd5",level:4},{value:"8.4  \u4fee\u6539",id:"84--\u4fee\u6539",level:3},{value:"8.4.1  \u56de\u663e\u6570\u636e",id:"841--\u56de\u663e\u6570\u636e",level:4},{value:"8.4.1.1  \u7f16\u5199BrandMapper\u65b9\u6cd5",id:"8411--\u7f16\u5199brandmapper\u65b9\u6cd5",level:5},{value:"8.4.1.2  \u7f16\u5199BrandService\u65b9\u6cd5",id:"8412--\u7f16\u5199brandservice\u65b9\u6cd5",level:5},{value:"8.4.1.3  \u7f16\u5199servlet",id:"8413--\u7f16\u5199servlet",level:5},{value:"8.4.1.4  \u7f16\u5199update.jsp\u9875\u9762",id:"8414--\u7f16\u5199updatejsp\u9875\u9762",level:5},{value:"8.4.2  \u4fee\u6539\u6570\u636e",id:"842--\u4fee\u6539\u6570\u636e",level:4},{value:"8.4.2.1  \u7f16\u5199BrandMapper\u65b9\u6cd5",id:"8421--\u7f16\u5199brandmapper\u65b9\u6cd5",level:5},{value:"8.4.2.2  \u7f16\u5199BrandService\u65b9\u6cd5",id:"8422--\u7f16\u5199brandservice\u65b9\u6cd5",level:5},{value:"8.4.2.3  \u7f16\u5199servlet",id:"8423--\u7f16\u5199servlet",level:5},{value:"1\uff0c\u4f1a\u8bdd\u8ddf\u8e2a\u6280\u672f\u7684\u6982\u8ff0",id:"1\u4f1a\u8bdd\u8ddf\u8e2a\u6280\u672f\u7684\u6982\u8ff0",level:2},{value:"2\uff0cCookie",id:"2cookie",level:2},{value:"2.1 Cookie\u7684\u57fa\u672c\u4f7f\u7528",id:"21-cookie\u7684\u57fa\u672c\u4f7f\u7528",level:3},{value:"2.2 Cookie\u7684\u539f\u7406\u5206\u6790",id:"22-cookie\u7684\u539f\u7406\u5206\u6790",level:3},{value:"2.3 Cookie\u7684\u4f7f\u7528\u7ec6\u8282",id:"23-cookie\u7684\u4f7f\u7528\u7ec6\u8282",level:3},{value:"2.3.1 Cookie\u7684\u5b58\u6d3b\u65f6\u95f4",id:"231-cookie\u7684\u5b58\u6d3b\u65f6\u95f4",level:4},{value:"2.3.2 Cookie\u5b58\u50a8\u4e2d\u6587",id:"232-cookie\u5b58\u50a8\u4e2d\u6587",level:4},{value:"3\uff0cSession",id:"3session",level:2},{value:"3.1 Session\u7684\u57fa\u672c\u4f7f\u7528",id:"31-session\u7684\u57fa\u672c\u4f7f\u7528",level:3},{value:"3.2 Session\u7684\u539f\u7406\u5206\u6790",id:"32-session\u7684\u539f\u7406\u5206\u6790",level:3},{value:"3.3 Session\u7684\u4f7f\u7528\u7ec6\u8282",id:"33-session\u7684\u4f7f\u7528\u7ec6\u8282",level:3},{value:"3.3.1 Session\u949d\u5316\u4e0e\u6d3b\u5316",id:"331-session\u949d\u5316\u4e0e\u6d3b\u5316",level:4},{value:"3.3.2 Session\u9500\u6bc1",id:"332-session\u9500\u6bc1",level:4},{value:"4\uff0c\u7528\u6237\u767b\u5f55\u6ce8\u518c\u6848\u4f8b",id:"4\u7528\u6237\u767b\u5f55\u6ce8\u518c\u6848\u4f8b",level:2},{value:"4.1 \u9700\u6c42\u5206\u6790",id:"41-\u9700\u6c42\u5206\u6790",level:3},{value:"4.2 \u7528\u6237\u767b\u5f55\u529f\u80fd",id:"42-\u7528\u6237\u767b\u5f55\u529f\u80fd",level:3},{value:"4.3 \u8bb0\u4f4f\u6211-\u8bbe\u7f6eCookie",id:"43-\u8bb0\u4f4f\u6211-\u8bbe\u7f6ecookie",level:3},{value:"4.4 \u8bb0\u4f4f\u6211-\u83b7\u53d6Cookie",id:"44-\u8bb0\u4f4f\u6211-\u83b7\u53d6cookie",level:3},{value:"4.5 \u7528\u6237\u6ce8\u518c\u529f\u80fd",id:"45-\u7528\u6237\u6ce8\u518c\u529f\u80fd",level:3},{value:"4.6 \u9a8c\u8bc1\u7801-\u5c55\u793a",id:"46-\u9a8c\u8bc1\u7801-\u5c55\u793a",level:3},{value:"4.7\u9a8c\u8bc1\u7801-\u6821\u9a8c",id:"47\u9a8c\u8bc1\u7801-\u6821\u9a8c",level:3}],m={toc:o};function d(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"jsp"},"JSP"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u76ee\u6807\uff1a")),(0,r.kt)("blockquote",null,(0,r.kt)("ul",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ul"},"\u7406\u89e3 JSP \u53ca JSP \u539f\u7406"),(0,r.kt)("li",{parentName:"ul"},"\u80fd\u5728 JSP\u4e2d\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"EL\u8868\u8fbe\u5f0f")," \u548c ",(0,r.kt)("inlineCode",{parentName:"li"},"JSTL\u6807\u7b7e")),(0,r.kt)("li",{parentName:"ul"},"\u7406\u89e3 ",(0,r.kt)("inlineCode",{parentName:"li"},"MVC\u6a21\u5f0f")," \u548c ",(0,r.kt)("inlineCode",{parentName:"li"},"\u4e09\u5c42\u67b6\u6784")),(0,r.kt)("li",{parentName:"ul"},"\u80fd\u5b8c\u6210\u54c1\u724c\u6570\u636e\u7684\u589e\u5220\u6539\u67e5\u529f\u80fd"))),(0,r.kt)("h2",{id:"1jsp-\u6982\u8ff0"},"1\uff0cJSP \u6982\u8ff0"),(0,r.kt)("p",null,"==JSP\uff08\u5168\u79f0\uff1aJava Server Pages\uff09\uff1aJava \u670d\u52a1\u7aef\u9875\u9762\u3002==\u662f\u4e00\u79cd\u52a8\u6001\u7684\u7f51\u9875\u6280\u672f\uff0c\u5176\u4e2d\u65e2\u53ef\u4ee5\u5b9a\u4e49 HTML\u3001JS\u3001CSS\u7b49\u9759\u6001\u5185\u5bb9\uff0c\u8fd8\u53ef\u4ee5\u5b9a\u4e49 Java\u4ee3\u7801\u7684\u52a8\u6001\u5185\u5bb9\uff0c\u4e5f\u5c31\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"JSP = HTML + Java"),"\u3002\u5982\u4e0b\u5c31\u662fjsp\u4ee3\u7801"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<html>\n    <head>\n        <title>Title</title>\n    </head>\n    <body>\n        <h1>JSP,Hello World</h1>\n        <%\n            System.out.println("hello,jsp~");\n        %>\n    </body>\n</html>\n')),(0,r.kt)("p",null,"\u4e0a\u9762\u4ee3\u7801 ",(0,r.kt)("inlineCode",{parentName:"p"},"h1")," \u6807\u7b7e\u5185\u5bb9\u662f\u5c55\u793a\u5728\u9875\u9762\u4e0a\uff0c\u800c Java \u7684\u8f93\u51fa\u8bed\u53e5\u662f\u8f93\u51fa\u5728 idea \u7684\u63a7\u5236\u53f0\u3002"),(0,r.kt)("p",null,"\u90a3\u4e48\uff0cJSP \u80fd\u505a\u4ec0\u4e48\u5462\uff1f\u73b0\u5728\u6211\u4eec\u53ea\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet")," \u5b9e\u73b0\u529f\u80fd\uff0c\u770b\u5b58\u5728\u4ec0\u4e48\u95ee\u9898\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5f53\u6211\u4eec\u767b\u9646\u6210\u529f\u540e\uff0c\u9700\u8981\u5728\u9875\u9762\u4e0a\u5c55\u793a\u7528\u6237\u540d"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108180254856.png",alt:"image-20230108180254856"})),(0,r.kt)("p",null,"\u4e0a\u56fe\u7684\u7528\u6237\u540d\u662f\u52a8\u6001\u5c55\u793a\uff0c\u4e5f\u5c31\u662f\u8c01\u767b\u9646\u5c31\u5c55\u793a\u8c01\u7684\u7528\u6237\u540d\u3002\u53ea\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet")," \u5982\u4f55\u5b9e\u73b0\u5462\uff1f\u5728\u4eca\u5929\u7684\u8d44\u6599\u91cc\u5df2\u7ecf\u63d0\u4f9b\u597d\u4e86\u4e00\u4e2a ",(0,r.kt)("inlineCode",{parentName:"p"},"LoginServlet")," \uff0c\u8be5 ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet")," \u5c31\u662f\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u7684\uff0c\u73b0\u5c06\u8d44\u6599\u4e2d\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"LoginServlet.java")," \u62f7\u8d1d\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"request-demo")," \u9879\u76ee\u4e2d\u6765\u6f14\u793a\u3002\u63a5\u4e0b\u6765\u542f\u52a8\u670d\u52a1\u5668\u5e76\u8bbf\u95ee\u767b\u9646\u9875\u9762"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108182339458.png",alt:"image-20230108182339458"})),(0,r.kt)("p",null,"\u8f93\u5165\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"zhangsan")," \u7528\u6237\u7684\u767b\u9646\u4fe1\u606f\u540e\u70b9\u51fb ",(0,r.kt)("inlineCode",{parentName:"p"},"\u767b\u9646")," \u6309\u94ae\uff0c\u5c31\u80fd\u770b\u5230\u5982\u4e0b\u56fe\u6548\u679c"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108182351456.png",alt:"image-20230108182351456"})),(0,r.kt)("p",null,"\u5f53\u7136\u5982\u679c\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"lisi")," \u767b\u9646\u7684\uff0c\u5728\u8be5\u9875\u9762\u5c55\u793a\u7684\u5c31\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"lisi,\u6b22\u8fce\u60a8"),"\uff0c\u52a8\u6001\u7684\u5c55\u793a\u6548\u679c\u5c31\u5b9e\u73b0\u4e86\u3002\u90a3\u4e48 ",(0,r.kt)("inlineCode",{parentName:"p"},"LoginServlet")," \u5230\u5e95\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff0c\u6211\u4eec\u770b\u770b\u5b83\u91cc\u9762\u7684\u5185\u5bb9"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108182401724.png",alt:"image-20230108182401724"})),(0,r.kt)("p",null,"\u4e0a\u9762\u7684\u4ee3\u7801\u6709\u5927\u91cf\u4f7f\u7528\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"writer")," \u5bf9\u8c61\u5411\u9875\u9762\u5199\u6807\u7b7e\u5185\u5bb9\uff0c\u8fd9\u6837\u6211\u4eec\u7684\u4ee3\u7801\u5c31\u663e\u5f97\u5f88\u9ebb\u70e6\uff1b\u5c06\u6765\u5982\u679c\u5c55\u793a\u7684\u6548\u679c\u51fa\u73b0\u4e86\u95ee\u9898\uff0c\u6392\u9519\u4e5f\u663e\u5f97\u6709\u70b9\u529b\u4e0d\u4ece\u5fc3\u3002\u800c JSP \u662f\u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u5462\uff1f\u5728\u8d44\u6599\u4e2d\u4e5f\u63d0\u4f9b\u4e86\u4e00\u4e2a ",(0,r.kt)("inlineCode",{parentName:"p"},"login.jsp")," \u9875\u9762\uff0c\u8be5\u9875\u9762\u4e5f\u80fd\u5b9e\u73b0\u8be5\u529f\u80fd\uff0c\u73b0\u5c06\u8be5\u9875\u9762\u62f7\u8d1d\u5230\u9879\u76ee\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"webapp"),"\u4e0b\uff0c\u9700\u8981\u4fee\u6539 ",(0,r.kt)("inlineCode",{parentName:"p"},"login.html")," \u4e2d\u8868\u5355\u6570\u636e\u63d0\u4ea4\u7684\u8def\u5f84\u4e3a\u4e0b\u56fe"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108182411934.png",alt:"image-20230108182411934"})),(0,r.kt)("p",null,"\u4e0a\u9762\u4ee3\u7801\u53ef\u4ee5\u770b\u5230\u91cc\u9762\u57fa\u672c\u90fd\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"HTML")," \u6807\u7b7e\uff0c\u800c\u52a8\u6001\u6570\u636e\u4f7f\u7528 Java \u4ee3\u7801\u8fdb\u884c\u5c55\u793a\uff1b\u8fd9\u6837\u64cd\u4f5c\u770b\u8d77\u6765\u8981\u6bd4\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet")," \u5b9e\u73b0\u8981\u8212\u670d\u5f88\u591a\u3002"),(0,r.kt)("p",null,"JSP \u4f5c\u7528\uff1a\u7b80\u5316\u5f00\u53d1\uff0c\u907f\u514d\u4e86\u5728Servlet\u4e2d\u76f4\u63a5\u8f93\u51faHTML\u6807\u7b7e\u3002"),(0,r.kt)("h2",{id:"2jsp-\u5feb\u901f\u5165\u95e8"},"2\uff0cJSP \u5feb\u901f\u5165\u95e8"),(0,r.kt)("p",null,"\u63a5\u4e0b\u6765\u6211\u4eec\u505a\u4e00\u4e2a\u7b80\u5355\u7684\u5feb\u901f\u5165\u95e8\u4ee3\u7801\u3002"),(0,r.kt)("h3",{id:"21--\u642d\u5efa\u73af\u5883"},"2.1  \u642d\u5efa\u73af\u5883"),(0,r.kt)("p",null,"\u521b\u5efa\u4e00\u4e2amaven\u7684 web \u9879\u76ee\uff0c\u9879\u76ee\u7ed3\u6784\u5982\u4e0b\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108182500034.png",alt:"image-20230108182500034"})),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"pom.xml")," \u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n\n    <groupId>org.example</groupId>\n    <artifactId>jsp-demo</artifactId>\n    <version>1.0-SNAPSHOT</version>\n    <packaging>war</packaging>\n\n    <properties>\n        <maven.compiler.source>8</maven.compiler.source>\n        <maven.compiler.target>8</maven.compiler.target>\n    </properties>\n\n    <dependencies>\n      <dependency>\n            <groupId>javax.servlet</groupId>\n            <artifactId>javax.servlet-api</artifactId>\n            <version>3.1.0</version>\n            <scope>provided</scope>\n        </dependency>\n    </dependencies>\n\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.apache.tomcat.maven</groupId>\n                <artifactId>tomcat7-maven-plugin</artifactId>\n                <version>2.2</version>\n            </plugin>\n        </plugins>\n    </build>\n</project>\n')),(0,r.kt)("h3",{id:"22--\u5bfc\u5165-jsp-\u4f9d\u8d56"},"2.2  \u5bfc\u5165 JSP \u4f9d\u8d56"),(0,r.kt)("p",null,"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"dependencies")," \u6807\u7b7e\u4e2d\u5bfc\u5165 JSP \u7684\u4f9d\u8d56\uff0c\u5982\u4e0b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<dependency>\n    <groupId>javax.servlet.jsp</groupId>\n    <artifactId>jsp-api</artifactId>\n    <version>2.2</version>\n    <scope>provided</scope>\n</dependency>\n")),(0,r.kt)("p",null,"\u8be5\u4f9d\u8d56\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"scope")," \u5fc5\u987b\u8bbe\u7f6e\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"provided"),"\uff0c\u56e0\u4e3a tomcat \u4e2d\u6709\u8fd9\u4e2ajar\u5305\u4e86\uff0c\u6240\u4ee5\u5728\u6253\u5305\u65f6\u6211\u4eec\u662f\u4e0d\u5e0c\u671b\u5c06\u8be5\u4f9d\u8d56\u6253\u8fdb\u5230\u6211\u4eec\u5de5\u7a0b\u7684war\u5305\u4e2d\u3002"),(0,r.kt)("h3",{id:"23--\u521b\u5efa-jsp-\u9875\u9762"},"2.3  \u521b\u5efa jsp \u9875\u9762"),(0,r.kt)("p",null,"\u5728\u9879\u76ee\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"webapp")," \u4e0b\u521b\u5efajsp\u9875\u9762"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108182524779.png",alt:"image-20230108182524779"})),(0,r.kt)("h3",{id:"24--\u7f16\u5199\u4ee3\u7801"},"2.4  \u7f16\u5199\u4ee3\u7801"),(0,r.kt)("p",null,"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"hello.jsp")," \u9875\u9762\u4e2d\u4e66\u5199 ",(0,r.kt)("inlineCode",{parentName:"p"},"HTML")," \u6807\u7b7e\u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"Java")," \u4ee3\u7801\uff0c\u5982\u4e0b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\n<html>\n<head>\n    <title>Title</title>\n</head>\n<body>\n    <h1>hello jsp</h1>\n\n    <%\n        System.out.println("hello,jsp~");\n    %>\n</body>\n</html>\n')),(0,r.kt)("h3",{id:"25--\u6d4b\u8bd5"},"2.5  \u6d4b\u8bd5"),(0,r.kt)("p",null,"\u542f\u52a8\u670d\u52a1\u5668\u5e76\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u8f93\u5165 ",(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/jsp-demo/hello.jsp"),"\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u9875\u9762\u4e0a\u770b\u5230\u5982\u4e0b\u5185\u5bb9"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108182545673.png",alt:"image-20230108182545673"})),(0,r.kt)("p",null,"\u540c\u65f6\u4e5f\u53ef\u4ee5\u770b\u5230\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"idea")," \u7684\u63a7\u5236\u53f0\u770b\u5230\u8f93\u51fa\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"hello,jsp~")," \u5185\u5bb9\u3002"),(0,r.kt)("h2",{id:"3jsp-\u539f\u7406"},"3\uff0cJSP \u539f\u7406"),(0,r.kt)("p",null,"\u6211\u4eec\u4e4b\u524d\u8bf4 JSP \u5c31\u662f\u4e00\u4e2a\u9875\u9762\uff0c\u90a3\u4e48\u5728 JSP \u4e2d\u5199 ",(0,r.kt)("inlineCode",{parentName:"p"},"html")," \u6807\u7b7e\uff0c\u6211\u4eec\u80fd\u7406\u89e3\uff0c\u4f46\u662f\u4e3a\u4ec0\u4e48\u8fd8\u53ef\u4ee5\u5199 ",(0,r.kt)("inlineCode",{parentName:"p"},"Java")," \u4ee3\u7801\u5462\uff1f"),(0,r.kt)("p",null,"\u56e0\u4e3a ==JSP \u672c\u8d28\u4e0a\u5c31\u662f\u4e00\u4e2a Servlet\u3002==\u63a5\u4e0b\u6765\u6211\u4eec\u804a\u804a\u8bbf\u95eejsp\u65f6\u7684\u6d41\u7a0b"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108182559898.png",alt:"image-20230108182559898"})),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u6d4f\u89c8\u5668\u7b2c\u4e00\u6b21\u8bbf\u95ee ",(0,r.kt)("inlineCode",{parentName:"li"},"hello.jsp")," \u9875\u9762"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"tomcat")," \u4f1a\u5c06 ",(0,r.kt)("inlineCode",{parentName:"li"},"hello.jsp")," \u8f6c\u6362\u4e3a\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"li"},"hello_jsp.java")," \u7684\u4e00\u4e2a ",(0,r.kt)("inlineCode",{parentName:"li"},"Servlet")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"tomcat")," \u518d\u5c06\u8f6c\u6362\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"servlet")," \u7f16\u8bd1\u6210\u5b57\u8282\u7801\u6587\u4ef6 ",(0,r.kt)("inlineCode",{parentName:"li"},"hello_jsp.class")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"tomcat")," \u4f1a\u6267\u884c\u8be5\u5b57\u8282\u7801\u6587\u4ef6\uff0c\u5411\u5916\u63d0\u4f9b\u670d\u52a1")),(0,r.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u5230\u9879\u76ee\u6240\u5728\u78c1\u76d8\u76ee\u5f55\u4e0b\u627e ",(0,r.kt)("inlineCode",{parentName:"p"},"target\\tomcat\\work\\Tomcat\\localhost\\jsp-demo\\org\\apache\\jsp")," \u76ee\u5f55\uff0c\u800c\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u5c31\u80fd\u770b\u5230\u8f6c\u6362\u540e\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108182613124.png",alt:"image-20230108182613124"})),(0,r.kt)("p",null,"\u6253\u5f00 ",(0,r.kt)("inlineCode",{parentName:"p"},"hello_jsp.java")," \u6587\u4ef6\uff0c\u6765\u67e5\u770b\u91cc\u9762\u7684\u4ee3\u7801"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108182638097.png",alt:"image-20230108182638097"})),(0,r.kt)("p",null,"\u7531\u4e0a\u9762\u7684\u7c7b\u7684\u7ee7\u627f\u5173\u7cfb\u53ef\u4ee5\u770b\u5230\u7ee7\u627f\u4e86\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"HttpJspBase")," \u8fd9\u4e2a\u7c7b\uff0c\u90a3\u6211\u4eec\u5728\u770b\u8be5\u7c7b\u7684\u7ee7\u627f\u5173\u7cfb\u3002\u5230\u8d44\u6599\u4e2d\u7684\u627e\u5982\u4e0b\u76ee\u5f55\uff1a ",(0,r.kt)("inlineCode",{parentName:"p"},"\u8d44\u6599\\tomcat\u6e90\u7801\\apache-tomcat-8.5.68-src\\java\\org\\apache\\jasper\\runtime")," \uff0c\u8be5\u76ee\u5f55\u4e0b\u5c31\u6709 ",(0,r.kt)("inlineCode",{parentName:"p"},"HttpJspBase")," \u7c7b\uff0c\u67e5\u770b\u8be5\u7c7b\u7684\u7ee7\u627f\u5173\u7cfb"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108182652858.png",alt:"image-20230108182652858"})),(0,r.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\u8be5\u7c7b\u7ee7\u627f\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"HttpServlet")," \uff1b\u90a3\u4e48 ",(0,r.kt)("inlineCode",{parentName:"p"},"hello_jsp")," \u8fd9\u4e2a\u7c7b\u5c31\u95f4\u63a5\u7684\u7ee7\u627f\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"HttpServlet")," \uff0c\u4e5f\u5c31\u8bf4\u660e ",(0,r.kt)("inlineCode",{parentName:"p"},"hello_jsp")," \u662f\u4e00\u4e2a ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet"),"\u3002"),(0,r.kt)("p",null,"\u7ee7\u7eed\u9605\u8bfb ",(0,r.kt)("inlineCode",{parentName:"p"},"hello_jsp")," \u7c7b\u7684\u4ee3\u7801\uff0c\u53ef\u4ee5\u770b\u5230\u6709\u4e00\u4e2a\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"_jspService()")," \u7684\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u5c31\u662f\u6bcf\u6b21\u8bbf\u95ee ",(0,r.kt)("inlineCode",{parentName:"p"},"jsp")," \u65f6\u81ea\u52a8\u6267\u884c\u7684\u65b9\u6cd5\uff0c\u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet")," \u4e2d\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"service")," \u65b9\u6cd5\u4e00\u6837 \u3002"),(0,r.kt)("p",null,"\u800c\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"_jspService()")," \u65b9\u6cd5\u4e2d\u53ef\u4ee5\u770b\u5230\u5f80\u6d4f\u89c8\u5668\u5199\u6807\u7b7e\u7684\u4ee3\u7801\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108182704116.png",alt:"image-20230108182704116"})),(0,r.kt)("p",null,"\u4ee5\u524d\u6211\u4eec\u81ea\u5df1\u5199 ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet")," \u65f6\uff0c\u8fd9\u90e8\u5206\u4ee3\u7801\u662f\u7531\u6211\u4eec\u81ea\u5df1\u6765\u5199\uff0c\u73b0\u5728\u6709\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"jsp")," \u540e\uff0c\u7531tomcat\u5b8c\u6210\u8fd9\u90e8\u5206\u529f\u80fd\u3002"),(0,r.kt)("h2",{id:"4jsp-\u811a\u672c"},"4\uff0cJSP \u811a\u672c"),(0,r.kt)("p",null,"JSP\u811a\u672c\u7528\u4e8e\u5728 JSP\u9875\u9762\u5185\u5b9a\u4e49 Java\u4ee3\u7801\u3002\u5728\u4e4b\u524d\u7684\u5165\u95e8\u6848\u4f8b\u4e2d\u6211\u4eec\u5c31\u5728 JSP \u9875\u9762\u5b9a\u4e49\u7684 Java \u4ee3\u7801\u5c31\u662f JSP \u811a\u672c\u3002"),(0,r.kt)("h3",{id:"41--jsp-\u811a\u672c\u5206\u7c7b"},"4.1  JSP \u811a\u672c\u5206\u7c7b"),(0,r.kt)("p",null,"JSP \u811a\u672c\u6709\u5982\u4e0b\u4e09\u4e2a\u5206\u7c7b\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"<%...%>\uff1a\u5185\u5bb9\u4f1a\u76f4\u63a5\u653e\u5230_jspService()\u65b9\u6cd5\u4e4b\u4e2d"),(0,r.kt)("li",{parentName:"ul"},"<%=\u2026%>\uff1a\u5185\u5bb9\u4f1a\u653e\u5230out.print()\u4e2d\uff0c\u4f5c\u4e3aout.print()\u7684\u53c2\u6570"),(0,r.kt)("li",{parentName:"ul"},"<%!\u2026%>\uff1a\u5185\u5bb9\u4f1a\u653e\u5230_jspService()\u65b9\u6cd5\u4e4b\u5916\uff0c\u88ab\u7c7b\u76f4\u63a5\u5305\u542b")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u4ee3\u7801\u6f14\u793a\uff1a")),(0,r.kt)("p",null,"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"hello.jsp")," \u4e2d\u4e66\u5199"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<%\n    System.out.println("hello,jsp~");\n    int i = 3;\n%>\n')),(0,r.kt)("p",null,"\u901a\u8fc7\u6d4f\u89c8\u5668\u8bbf\u95ee ",(0,r.kt)("inlineCode",{parentName:"p"},"hello.jsp")," \u540e\uff0c\u67e5\u770b\u8f6c\u6362\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"hello_jsp.java")," \u6587\u4ef6\uff0ci \u53d8\u91cf\u5b9a\u4e49\u5728\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"_jspService()")," \u65b9\u6cd5\u4e2d"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108192150885.png",alt:"image-20230108192150885"})),(0,r.kt)("p",null,"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"hello.jsp")," \u4e2d\u4e66\u5199"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<%="hello"%>\n<%=i%>\n')),(0,r.kt)("p",null,"\u901a\u8fc7\u6d4f\u89c8\u5668\u8bbf\u95ee ",(0,r.kt)("inlineCode",{parentName:"p"},"hello.jsp")," \u540e\uff0c\u67e5\u770b\u8f6c\u6362\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"hello_jsp.java")," \u6587\u4ef6\uff0c\u8be5\u811a\u672c\u7684\u5185\u5bb9\u88ab\u653e\u5728\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"out.print()")," \u4e2d\uff0c\u4f5c\u4e3a\u53c2\u6570"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108192208832.png",alt:"image-20230108192208832"})),(0,r.kt)("p",null,"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"hello.jsp")," \u4e2d\u4e66\u5199"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<%!\n    void  show(){}\n    String name = "zhangsan";\n%>\n')),(0,r.kt)("p",null,"\u901a\u8fc7\u6d4f\u89c8\u5668\u8bbf\u95ee ",(0,r.kt)("inlineCode",{parentName:"p"},"hello.jsp")," \u540e\uff0c\u67e5\u770b\u8f6c\u6362\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"hello_jsp.java")," \u6587\u4ef6\uff0c\u8be5\u811a\u672c\u7684\u5185\u5bb9\u88ab\u653e\u5728\u4e86\u6210\u5458\u4f4d\u7f6e"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108192225835.png",alt:"image-20230108192225835"})),(0,r.kt)("h3",{id:"42--\u6848\u4f8b"},"4.2  \u6848\u4f8b"),(0,r.kt)("h4",{id:"421--\u9700\u6c42"},"4.2.1  \u9700\u6c42"),(0,r.kt)("p",null,"\u4f7f\u7528JSP\u811a\u672c\u5c55\u793a\u54c1\u724c\u6570\u636e"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108193048505.png",alt:"image-20230108193048505"})),(0,r.kt)("h4",{id:"422--\u5b9e\u73b0"},"4.2.2  \u5b9e\u73b0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5c06 ",(0,r.kt)("inlineCode",{parentName:"p"},"Brand.java")," \u6587\u4ef6\u653e\u7f6e\u5230\u9879\u76ee\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"com.itheima.pojo")," \u5305\u4e0b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728\u9879\u76ee\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"webapp")," \u4e2d\u521b\u5efa ",(0,r.kt)("inlineCode",{parentName:"p"},"brand.jsp")," \uff0c\u5e76\u5c06 ",(0,r.kt)("inlineCode",{parentName:"p"},"brand.html"),"\u9875\u9762\u4e2d\u7684\u5185\u5bb9\u62f7\u8d1d\u8fc7\u6765\u3002",(0,r.kt)("inlineCode",{parentName:"p"},"brand.jsp")," \u5185\u5bb9\u5982\u4e0b"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <title>Title</title>\n</head>\n<body>\n<input type="button" value="\u65b0\u589e"><br>\n<hr>\n    <table border="1" cellspacing="0" width="800">\n        <tr>\n            <th>\u5e8f\u53f7</th>\n            <th>\u54c1\u724c\u540d\u79f0</th>\n            <th>\u4f01\u4e1a\u540d\u79f0</th>\n            <th>\u6392\u5e8f</th>\n            <th>\u54c1\u724c\u4ecb\u7ecd</th>\n            <th>\u72b6\u6001</th>\n            <th>\u64cd\u4f5c</th>\n\n        </tr>\n        <tr align="center">\n            <td>1</td>\n            <td>\u4e09\u53ea\u677e\u9f20</td>\n            <td>\u4e09\u53ea\u677e\u9f20</td>\n            <td>100</td>\n            <td>\u4e09\u53ea\u677e\u9f20\uff0c\u597d\u5403\u4e0d\u4e0a\u706b</td>\n            <td>\u542f\u7528</td>\n            <td><a href="#">\u4fee\u6539</a> <a href="#">\u5220\u9664</a></td>\n        </tr>\n\n        <tr align="center">\n            <td>2</td>\n            <td>\u4f18\u8863\u5e93</td>\n            <td>\u4f18\u8863\u5e93</td>\n            <td>10</td>\n            <td>\u4f18\u8863\u5e93\uff0c\u670d\u9002\u4eba\u751f</td>\n            <td>\u7981\u7528</td>\n\n            <td><a href="#">\u4fee\u6539</a> <a href="#">\u5220\u9664</a></td>\n        </tr>\n\n        <tr align="center">\n            <td>3</td>\n            <td>\u5c0f\u7c73</td>\n            <td>\u5c0f\u7c73\u79d1\u6280\u6709\u9650\u516c\u53f8</td>\n            <td>1000</td>\n            <td>\u4e3a\u53d1\u70e7\u800c\u751f</td>\n            <td>\u542f\u7528</td>\n\n            <td><a href="#">\u4fee\u6539</a> <a href="#">\u5220\u9664</a></td>\n        </tr>\n    </table>\n</body>\n</html>\n')),(0,r.kt)("p",{parentName:"li"},"\u73b0\u5728\u9875\u9762\u4e2d\u7684\u6570\u636e\u90fd\u662f\u5047\u6570\u636e\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"brand.jsp")," \u4e2d\u51c6\u5907\u4e00\u4e9b\u6570\u636e"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<%\n    // \u67e5\u8be2\u6570\u636e\u5e93\n    List<Brand> brands = new ArrayList<Brand>();\n    brands.add(new Brand(1,"\u4e09\u53ea\u677e\u9f20","\u4e09\u53ea\u677e\u9f20",100,"\u4e09\u53ea\u677e\u9f20\uff0c\u597d\u5403\u4e0d\u4e0a\u706b",1));\n    brands.add(new Brand(2,"\u4f18\u8863\u5e93","\u4f18\u8863\u5e93",200,"\u4f18\u8863\u5e93\uff0c\u670d\u9002\u4eba\u751f",0));\n    brands.add(new Brand(3,"\u5c0f\u7c73","\u5c0f\u7c73\u79d1\u6280\u6709\u9650\u516c\u53f8",1000,"\u4e3a\u53d1\u70e7\u800c\u751f",1));\n%>\n')),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"==\u6ce8\u610f\uff1a==\u8fd9\u91cc\u7684\u7c7b\u662f\u9700\u8981\u5bfc\u5305\u7684"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5c06 ",(0,r.kt)("inlineCode",{parentName:"p"},"brand.jsp")," \u9875\u9762\u4e2d\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"table")," \u6807\u7b7e\u4e2d\u7684\u6570\u636e\u6539\u4e3a\u52a8\u6001\u7684"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<table border="1" cellspacing="0" width="800">\n    <tr>\n        <th>\u5e8f\u53f7</th>\n        <th>\u54c1\u724c\u540d\u79f0</th>\n        <th>\u4f01\u4e1a\u540d\u79f0</th>\n        <th>\u6392\u5e8f</th>\n        <th>\u54c1\u724c\u4ecb\u7ecd</th>\n        <th>\u72b6\u6001</th>\n        <th>\u64cd\u4f5c</th>\n\n    </tr>\n    \n    <%\n     for (int i = 0; i < brands.size(); i++) {\n         //\u83b7\u53d6\u96c6\u5408\u4e2d\u7684 \u6bcf\u4e00\u4e2a Brand \u5bf9\u8c61\n         Brand brand = brands.get(i);\n     }\n    %>\n    <tr align="center">\n        <td>1</td>\n        <td>\u4e09\u53ea\u677e\u9f20</td>\n        <td>\u4e09\u53ea\u677e\u9f20</td>\n        <td>100</td>\n        <td>\u4e09\u53ea\u677e\u9f20\uff0c\u597d\u5403\u4e0d\u4e0a\u706b</td>\n        <td>\u542f\u7528</td>\n        <td><a href="#">\u4fee\u6539</a> <a href="#">\u5220\u9664</a></td>\n    </tr>\n</table>\n')),(0,r.kt)("p",{parentName:"li"},"\u4e0a\u9762\u7684for\u5faa\u73af\u9700\u8981\u5c06 ",(0,r.kt)("inlineCode",{parentName:"p"},"tr")," \u6807\u7b7e\u5305\u88f9\u8d77\u6765\uff0c\u8fd9\u6837\u624d\u80fd\u5b9e\u73b0\u5faa\u73af\u7684\u6548\u679c\uff0c\u4ee3\u7801\u6539\u8fdb\u4e3a"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<table border="1" cellspacing="0" width="800">\n    <tr>\n        <th>\u5e8f\u53f7</th>\n        <th>\u54c1\u724c\u540d\u79f0</th>\n        <th>\u4f01\u4e1a\u540d\u79f0</th>\n        <th>\u6392\u5e8f</th>\n        <th>\u54c1\u724c\u4ecb\u7ecd</th>\n        <th>\u72b6\u6001</th>\n        <th>\u64cd\u4f5c</th>\n\n    </tr>\n    \n    <%\n     for (int i = 0; i < brands.size(); i++) {\n         //\u83b7\u53d6\u96c6\u5408\u4e2d\u7684 \u6bcf\u4e00\u4e2a Brand \u5bf9\u8c61\n         Brand brand = brands.get(i);\n    %>\n         <tr align="center">\n            <td>1</td>\n            <td>\u4e09\u53ea\u677e\u9f20</td>\n            <td>\u4e09\u53ea\u677e\u9f20</td>\n            <td>100</td>\n            <td>\u4e09\u53ea\u677e\u9f20\uff0c\u597d\u5403\u4e0d\u4e0a\u706b</td>\n            <td>\u542f\u7528</td>\n            <td><a href="#">\u4fee\u6539</a> <a href="#">\u5220\u9664</a></td>\n        </tr>\n    <%\n     }\n    %>\n   \n</table>\n')),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1a<%%> \u91cc\u9762\u5199\u7684\u662f Java \u4ee3\u7801\uff0c\u800c\u5916\u8fb9\u5199\u7684\u662f HTML \u6807\u7b7e")),(0,r.kt)("p",{parentName:"li"},"\u4e0a\u9762\u4ee3\u7801\u4e2d\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"td")," \u6807\u7b7e\u4e2d\u7684\u6570\u636e\u90fd\u9700\u8981\u662f\u52a8\u6001\u7684\uff0c\u6240\u4ee5\u8fd8\u9700\u8981\u6539\u8fdb"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<table border="1" cellspacing="0" width="800">\n    <tr>\n        <th>\u5e8f\u53f7</th>\n        <th>\u54c1\u724c\u540d\u79f0</th>\n        <th>\u4f01\u4e1a\u540d\u79f0</th>\n        <th>\u6392\u5e8f</th>\n        <th>\u54c1\u724c\u4ecb\u7ecd</th>\n        <th>\u72b6\u6001</th>\n        <th>\u64cd\u4f5c</th>\n\n    </tr>\n    \n    <%\n     for (int i = 0; i < brands.size(); i++) {\n         //\u83b7\u53d6\u96c6\u5408\u4e2d\u7684 \u6bcf\u4e00\u4e2a Brand \u5bf9\u8c61\n         Brand brand = brands.get(i);\n    %>\n         <tr align="center">\n            <td><%=brand.getId()%></td>\n            <td><%=brand.getBrandName()%></td>\n            <td><%=brand.getCompanyName()%></td>\n            <td><%=brand.getOrdered()%></td>\n            <td><%=brand.getDescription()%></td>\n            <td><%=brand.getStatus() == 1 ? "\u542f\u7528":"\u7981\u7528"%></td>\n            <td><a href="#">\u4fee\u6539</a> <a href="#">\u5220\u9664</a></td>\n        </tr>\n    <%\n     }\n    %>\n   \n</table>\n')))),(0,r.kt)("h4",{id:"423--\u6210\u54c1\u4ee3\u7801"},"4.2.3  \u6210\u54c1\u4ee3\u7801"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<%@ page import="com.itheima.pojo.Brand" %>\n<%@ page import="java.util.List" %>\n<%@ page import="java.util.ArrayList" %>\n<%@ page contentType="text/html;charset=UTF-8" language="java" %>\n\n<%\n    // \u67e5\u8be2\u6570\u636e\u5e93\n    List<Brand> brands = new ArrayList<Brand>();\n    brands.add(new Brand(1,"\u4e09\u53ea\u677e\u9f20","\u4e09\u53ea\u677e\u9f20",100,"\u4e09\u53ea\u677e\u9f20\uff0c\u597d\u5403\u4e0d\u4e0a\u706b",1));\n    brands.add(new Brand(2,"\u4f18\u8863\u5e93","\u4f18\u8863\u5e93",200,"\u4f18\u8863\u5e93\uff0c\u670d\u9002\u4eba\u751f",0));\n    brands.add(new Brand(3,"\u5c0f\u7c73","\u5c0f\u7c73\u79d1\u6280\u6709\u9650\u516c\u53f8",1000,"\u4e3a\u53d1\u70e7\u800c\u751f",1));\n\n%>\n\n\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <title>Title</title>\n</head>\n<body>\n<input type="button" value="\u65b0\u589e"><br>\n<hr>\n<table border="1" cellspacing="0" width="800">\n    <tr>\n        <th>\u5e8f\u53f7</th>\n        <th>\u54c1\u724c\u540d\u79f0</th>\n        <th>\u4f01\u4e1a\u540d\u79f0</th>\n        <th>\u6392\u5e8f</th>\n        <th>\u54c1\u724c\u4ecb\u7ecd</th>\n        <th>\u72b6\u6001</th>\n        <th>\u64cd\u4f5c</th>\n    </tr>\n    <%\n        for (int i = 0; i < brands.size(); i++) {\n            Brand brand = brands.get(i);\n    %>\n\n    <tr align="center">\n        <td><%=brand.getId()%></td>\n        <td><%=brand.getBrandName()%></td>\n        <td><%=brand.getCompanyName()%></td>\n        <td><%=brand.getOrdered()%></td>\n        <td><%=brand.getDescription()%></td>\n        <td><%=brand.getStatus() == 1 ? "\u542f\u7528":"\u7981\u7528"%></td>\n        <td><a href="#">\u4fee\u6539</a> <a href="#">\u5220\u9664</a></td>\n    </tr>\n\n    <%\n        }\n    %>\n</table>\n</body>\n</html>\n')),(0,r.kt)("h4",{id:"424--\u6d4b\u8bd5"},"4.2.4  \u6d4b\u8bd5"),(0,r.kt)("p",null,"\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u8f93\u5165 ",(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/jsp-demo/brand.jsp")," \uff0c\u9875\u9762\u5c55\u793a\u6548\u679c\u5982\u4e0b"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108193137006.png",alt:"image-20230108193137006"})),(0,r.kt)("h3",{id:"43--jsp-\u7f3a\u70b9"},"4.3  JSP \u7f3a\u70b9"),(0,r.kt)("p",null,"\u901a\u8fc7\u4e0a\u9762\u7684\u6848\u4f8b\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230 JSP \u7684\u5f88\u591a\u7f3a\u70b9\u3002"),(0,r.kt)("p",null,"\u7531\u4e8e JSP\u9875\u9762\u5185\uff0c\u65e2\u53ef\u4ee5\u5b9a\u4e49 HTML \u6807\u7b7e\uff0c\u53c8\u53ef\u4ee5\u5b9a\u4e49 Java\u4ee3\u7801\uff0c\u9020\u6210\u4e86\u4ee5\u4e0b\u95ee\u9898\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4e66\u5199\u9ebb\u70e6\uff1a\u7279\u522b\u662f\u590d\u6742\u7684\u9875\u9762"),(0,r.kt)("p",{parentName:"li"},"\u65e2\u8981\u5199 HTML \u6807\u7b7e\uff0c\u8fd8\u8981\u5199 Java \u4ee3\u7801")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u9605\u8bfb\u9ebb\u70e6"),(0,r.kt)("p",{parentName:"li"},"\u4e0a\u9762\u6848\u4f8b\u7684\u4ee3\u7801\uff0c\u76f8\u4fe1\u4f60\u540e\u671f\u518d\u770b\u8fd9\u6bb5\u4ee3\u7801\u65f6\u8fd8\u9700\u8981\u82b1\u8d39\u5f88\u957f\u7684\u65f6\u95f4\u53bb\u68b3\u7406")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u590d\u6742\u5ea6\u9ad8\uff1a\u8fd0\u884c\u9700\u8981\u4f9d\u8d56\u4e8e\u5404\u79cd\u73af\u5883\uff0cJRE\uff0cJSP\u5bb9\u5668\uff0cJavaEE\u2026")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5360\u5185\u5b58\u548c\u78c1\u76d8\uff1aJSP\u4f1a\u81ea\u52a8\u751f\u6210.java\u548c.class\u6587\u4ef6\u5360\u78c1\u76d8\uff0c\u8fd0\u884c\u7684\u662f.class\u6587\u4ef6\u5360\u5185\u5b58")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u8c03\u8bd5\u56f0\u96be\uff1a\u51fa\u9519\u540e\uff0c\u9700\u8981\u627e\u5230\u81ea\u52a8\u751f\u6210\u7684.java\u6587\u4ef6\u8fdb\u884c\u8c03\u8bd5")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4e0d\u5229\u4e8e\u56e2\u961f\u534f\u4f5c\uff1a\u524d\u7aef\u4eba\u5458\u4e0d\u4f1a Java\uff0c\u540e\u7aef\u4eba\u5458\u4e0d\u7cbe HTML"),(0,r.kt)("p",{parentName:"li"},"\u5982\u679c\u9875\u9762\u5e03\u5c40\u53d1\u751f\u53d8\u5316\uff0c\u524d\u7aef\u5de5\u7a0b\u5e08\u5bf9\u9759\u6001\u9875\u9762\u8fdb\u884c\u4fee\u6539\uff0c\u7136\u540e\u518d\u4ea4\u7ed9\u540e\u7aef\u5de5\u7a0b\u5e08\uff0c\u7531\u540e\u7aef\u5de5\u7a0b\u5e08\u518d\u5c06\u8be5\u9875\u9762\u6539\u4e3a JSP \u9875\u9762"))),(0,r.kt)("p",null,"\u7531\u4e8e\u4e0a\u8ff0\u7684\u95ee\u9898\uff0c ==JSP \u5df2\u9010\u6e10\u9000\u51fa\u5386\u53f2\u821e\u53f0\uff0c==\u4ee5\u540e\u5f00\u53d1\u66f4\u591a\u7684\u662f\u4f7f\u7528 ==HTML +  Ajax== \u6765\u66ff\u4ee3\u3002Ajax \u662f\u6211\u4eec\u540e\u7eed\u4f1a\u91cd\u70b9\u5b66\u4e60\u7684\u6280\u672f\u3002\u6709\u4e2a\u8fd9\u4e2a\u6280\u672f\u540e\uff0c\u524d\u7aef\u5de5\u7a0b\u5e08\u8d1f\u8d23\u524d\u7aef\u9875\u9762\u5f00\u53d1\uff0c\u800c\u540e\u7aef\u5de5\u7a0b\u5e08\u53ea\u8d1f\u8d23\u524d\u7aef\u4ee3\u7801\u5f00\u53d1\u3002\u4e0b\u6765\u5bf9\u6280\u672f\u7684\u53d1\u5c55\u8fdb\u884c\u7b80\u5355\u7684\u8bf4\u660e"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108193336574.png",alt:"image-20230108193336574"})),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u7b2c\u4e00\u9636\u6bb5\uff1a\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet")," \u5373\u5b9e\u73b0\u903b\u8f91\u4ee3\u7801\u7f16\u5199\uff0c\u4e5f\u5bf9\u9875\u9762\u8fdb\u884c\u62fc\u63a5\u3002\u8fd9\u79cd\u6a21\u5f0f\u6211\u4eec\u4e4b\u524d\u4e5f\u63a5\u89e6\u8fc7")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u7b2c\u4e8c\u9636\u6bb5\uff1a\u968f\u7740\u6280\u672f\u7684\u53d1\u5c55\uff0c\u51fa\u73b0\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"JSP")," \uff0c\u4eba\u4eec\u53d1\u73b0 ",(0,r.kt)("inlineCode",{parentName:"p"},"JSP")," \u4f7f\u7528\u8d77\u6765\u6bd4 ",(0,r.kt)("inlineCode",{parentName:"p"},"Servlet")," \u65b9\u4fbf\u5f88\u591a\uff0c\u4f46\u662f\u8fd8\u662f\u8981\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"JSP")," \u4e2d\u5d4c\u5957 ",(0,r.kt)("inlineCode",{parentName:"p"},"Java")," \u4ee3\u7801\uff0c\u4e5f\u4e0d\u5229\u4e8e\u540e\u671f\u7684\u7ef4\u62a4")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u7b2c\u4e09\u9636\u6bb5\uff1a\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"Servlet")," \u8fdb\u884c\u903b\u8f91\u4ee3\u7801\u5f00\u53d1\uff0c\u800c\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"JSP")," \u8fdb\u884c\u6570\u636e\u5c55\u793a"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108193359406.png",alt:"image-20230108193359406"}))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u7b2c\u56db\u9636\u6bb5\uff1a\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet")," \u8fdb\u884c\u540e\u7aef\u903b\u8f91\u4ee3\u7801\u5f00\u53d1\uff0c\u800c\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"HTML")," \u8fdb\u884c\u6570\u636e\u5c55\u793a\u3002\u800c\u8fd9\u91cc\u9762\u5c31\u5b58\u5728\u95ee\u9898\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"HTML")," \u662f\u9759\u6001\u9875\u9762\uff0c\u600e\u4e48\u8fdb\u884c\u52a8\u6001\u6570\u636e\u5c55\u793a\u5462\uff1f\u8fd9\u5c31\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"ajax")," \u7684\u4f5c\u7528\u4e86\u3002"))),(0,r.kt)("p",null,"\u90a3\u65e2\u7136 JSP \u5df2\u7ecf\u9010\u6e10\u7684\u9000\u51fa\u5386\u53f2\u821e\u53f0\uff0c\u90a3\u6211\u4eec\u4e3a\u4ec0\u4e48\u8fd8\u8981\u5b66\u4e60 ",(0,r.kt)("inlineCode",{parentName:"p"},"JSP")," \u5462\uff1f\u539f\u56e0\u6709\u4e24\u70b9\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u4e00\u4e9b\u516c\u53f8\u53ef\u80fd\u6709\u4e9b\u8001\u9879\u76ee\u8fd8\u5728\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"JSP")," \uff0c\u6240\u4ee5\u8981\u6c42\u6211\u4eec\u5fc5\u987b\u52a8 ",(0,r.kt)("inlineCode",{parentName:"li"},"JSP")),(0,r.kt)("li",{parentName:"ul"},"\u6211\u4eec\u5982\u679c\u4e0d\u7ecf\u5386\u8fd9\u4e9b\u590d\u6742\u7684\u8fc7\u7a0b\uff0c\u5c31\u4e0d\u80fd\u4f53\u73b0\u540e\u9762\u9636\u6bb5\u5f00\u53d1\u7684\u7b80\u5355")),(0,r.kt)("p",null,"\u63a5\u4e0b\u6765\u6211\u4eec\u6765\u5b66\u4e60\u7b2c\u4e09\u9636\u6bb5\uff0c\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"EL\u8868\u8fbe\u5f0f")," \u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"JSTL")," \u6807\u7b7e\u5e93\u66ff\u6362 ",(0,r.kt)("inlineCode",{parentName:"p"},"JSP")," \u4e2d\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"Java")," \u4ee3\u7801\u3002"),(0,r.kt)("h2",{id:"5el-\u8868\u8fbe\u5f0f"},"5\uff0cEL \u8868\u8fbe\u5f0f"),(0,r.kt)("h3",{id:"51--\u6982\u8ff0"},"5.1  \u6982\u8ff0"),(0,r.kt)("p",null,"EL\uff08\u5168\u79f0Expression Language \uff09\u8868\u8fbe\u5f0f\u8bed\u8a00\uff0c\u7528\u4e8e\u7b80\u5316 JSP \u9875\u9762\u5185\u7684 Java \u4ee3\u7801\u3002"),(0,r.kt)("p",null,"EL \u8868\u8fbe\u5f0f\u7684\u4e3b\u8981\u4f5c\u7528\u662f ==\u83b7\u53d6\u6570\u636e==\u3002\u5176\u5b9e\u5c31\u662f\u4ece\u57df\u5bf9\u8c61\u4e2d\u83b7\u53d6\u6570\u636e\uff0c\u7136\u540e\u5c06\u6570\u636e\u5c55\u793a\u5728\u9875\u9762\u4e0a\u3002"),(0,r.kt)("p",null,"\u800c EL \u8868\u8fbe\u5f0f\u7684\u8bed\u6cd5\u4e5f\u6bd4\u8f83\u7b80\u5355\uff0c==${expression}== \u3002\u4f8b\u5982\uff1a${brands} \u5c31\u662f\u83b7\u53d6\u57df\u4e2d\u5b58\u50a8\u7684 key \u4e3a brands \u7684\u6570\u636e\u3002"),(0,r.kt)("h3",{id:"52--\u4ee3\u7801\u6f14\u793a"},"5.2  \u4ee3\u7801\u6f14\u793a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5b9a\u4e49servlet\uff0c\u5728 servlet \u4e2d\u5c01\u88c5\u4e00\u4e9b\u6570\u636e\u5e76\u5b58\u50a8\u5230 request \u57df\u5bf9\u8c61\u4e2d\u5e76\u8f6c\u53d1\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"el-demo.jsp")," \u9875\u9762\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/demo1")\npublic class ServletDemo1 extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        //1. \u51c6\u5907\u6570\u636e\n        List<Brand> brands = new ArrayList<Brand>();\n        brands.add(new Brand(1,"\u4e09\u53ea\u677e\u9f20","\u4e09\u53ea\u677e\u9f20",100,"\u4e09\u53ea\u677e\u9f20\uff0c\u597d\u5403\u4e0d\u4e0a\u706b",1));\n        brands.add(new Brand(2,"\u4f18\u8863\u5e93","\u4f18\u8863\u5e93",200,"\u4f18\u8863\u5e93\uff0c\u670d\u9002\u4eba\u751f",0));\n        brands.add(new Brand(3,"\u5c0f\u7c73","\u5c0f\u7c73\u79d1\u6280\u6709\u9650\u516c\u53f8",1000,"\u4e3a\u53d1\u70e7\u800c\u751f",1));\n\n        //2. \u5b58\u50a8\u5230request\u57df\u4e2d\n        request.setAttribute("brands",brands);\n\n        //3. \u8f6c\u53d1\u5230 el-demo.jsp\n        request.getRequestDispatcher("/el-demo.jsp").forward(request,response);\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"==\u6ce8\u610f\uff1a== \u6b64\u5904\u9700\u8981\u7528\u8f6c\u53d1\uff0c\u56e0\u4e3a\u8f6c\u53d1\u624d\u53ef\u4ee5\u4f7f\u7528 request \u5bf9\u8c61\u4f5c\u4e3a\u57df\u5bf9\u8c61\u8fdb\u884c\u6570\u636e\u5171\u4eab"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"el-demo.jsp")," \u4e2d\u901a\u8fc7 EL\u8868\u8fbe\u5f0f \u83b7\u53d6\u6570\u636e"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\n<html>\n<head>\n    <title>Title</title>\n</head>\n<body>\n    ${brands}\n</body>\n</html>\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728\u6d4f\u89c8\u5668\u7684\u5730\u5740\u680f\u8f93\u5165 ",(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/jsp-demo/demo1")," \uff0c\u9875\u9762\u6548\u679c\u5982\u4e0b\uff1a"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108193611010.png",alt:"image-20230108193611010"})))),(0,r.kt)("h3",{id:"53--\u57df\u5bf9\u8c61"},"5.3  \u57df\u5bf9\u8c61"),(0,r.kt)("p",null,"JavaWeb\u4e2d\u6709\u56db\u5927\u57df\u5bf9\u8c61\uff0c\u5206\u522b\u662f\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"page\uff1a\u5f53\u524d\u9875\u9762\u6709\u6548"),(0,r.kt)("li",{parentName:"ul"},"request\uff1a\u5f53\u524d\u8bf7\u6c42\u6709\u6548"),(0,r.kt)("li",{parentName:"ul"},"session\uff1a\u5f53\u524d\u4f1a\u8bdd\u6709\u6548"),(0,r.kt)("li",{parentName:"ul"},"application\uff1a\u5f53\u524d\u5e94\u7528\u6709\u6548")),(0,r.kt)("p",null,"el \u8868\u8fbe\u5f0f\u83b7\u53d6\u6570\u636e\uff0c\u4f1a\u4f9d\u6b21\u4ece\u8fd94\u4e2a\u57df\u4e2d\u5bfb\u627e\uff0c\u76f4\u5230\u627e\u5230\u4e3a\u6b62\u3002\u800c\u8fd9\u56db\u4e2a\u57df\u5bf9\u8c61\u7684\u4f5c\u7528\u8303\u56f4\u5982\u4e0b\u56fe\u6240\u793a"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108193633397.png",alt:"image-20230108193633397"})),(0,r.kt)("p",null,"\u4f8b\u5982\uff1a ${brands}\uff0cel \u8868\u8fbe\u5f0f\u83b7\u53d6\u6570\u636e\uff0c\u4f1a\u5148\u4ecepage\u57df\u5bf9\u8c61\u4e2d\u83b7\u53d6\u6570\u636e\uff0c\u5982\u679c\u6ca1\u6709\u518d\u5230 requet \u57df\u5bf9\u8c61\u4e2d\u83b7\u53d6\u6570\u636e\uff0c\u5982\u679c\u518d\u6ca1\u6709\u518d\u5230 session \u57df\u5bf9\u8c61\u4e2d\u83b7\u53d6\uff0c\u5982\u679c\u8fd8\u6ca1\u6709\u624d\u4f1a\u5230 application \u4e2d\u83b7\u53d6\u6570\u636e\u3002"),(0,r.kt)("h2",{id:"6jstl\u6807\u7b7e"},"6\uff0cJSTL\u6807\u7b7e"),(0,r.kt)("h3",{id:"61--\u6982\u8ff0"},"6.1  \u6982\u8ff0"),(0,r.kt)("p",null,"JSP\u6807\u51c6\u6807\u7b7e\u5e93(Jsp Standarded Tag Library) \uff0c\u4f7f\u7528\u6807\u7b7e\u53d6\u4ee3JSP\u9875\u9762\u4e0a\u7684Java\u4ee3\u7801\u3002\u5982\u4e0b\u4ee3\u7801\u5c31\u662fJSTL\u6807\u7b7e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<c:if test="${flag == 1}">\n    \u7537\n</c:if>\n<c:if test="${flag == 2}">\n    \u5973\n</c:if>\n')),(0,r.kt)("p",null,"\u4e0a\u9762\u4ee3\u7801\u770b\u8d77\u6765\u662f\u4e0d\u662f\u6bd4 JSP \u4e2d\u5d4c\u5957 Java \u4ee3\u7801\u770b\u8d77\u6765\u8212\u670d\u597d\u4e86\u3002\u800c\u4e14\u524d\u7aef\u5de5\u7a0b\u5e08\u5bf9\u6807\u7b7e\u662f\u7279\u522b\u654f\u611f\u7684\uff0c\u4ed6\u4eec\u770b\u5230\u8fd9\u6bb5\u4ee3\u7801\u662f\u80fd\u770b\u61c2\u7684\u3002"),(0,r.kt)("p",null,"JSTL \u63d0\u4f9b\u4e86\u5f88\u591a\u6807\u7b7e\uff0c\u5982\u4e0b\u56fe"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108211102471.png",alt:"image-20230108211102471"})),(0,r.kt)("p",null,"\u6211\u4eec\u53ea\u5bf9\u4e24\u4e2a\u6700\u5e38\u7528\u7684\u6807\u7b7e\u8fdb\u884c\u8bb2\u89e3\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"<c:forEach>")," \u6807\u7b7e\u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"<c:if>")," \u6807\u7b7e\u3002"),(0,r.kt)("p",null,"JSTL \u4f7f\u7528\u4e5f\u662f\u6bd4\u8f83\u7b80\u5355\u7684\uff0c\u5206\u4e3a\u5982\u4e0b\u6b65\u9aa4\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5bfc\u5165\u5750\u6807"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<dependency>\n    <groupId>jstl</groupId>\n    <artifactId>jstl</artifactId>\n    <version>1.2</version>\n</dependency>\n<dependency>\n    <groupId>taglibs</groupId>\n    <artifactId>standard</artifactId>\n    <version>1.1.2</version>\n</dependency>\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728JSP\u9875\u9762\u4e0a\u5f15\u5165JSTL\u6807\u7b7e\u5e93"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %> \n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4f7f\u7528\u6807\u7b7e"))),(0,r.kt)("h3",{id:"62--if-\u6807\u7b7e"},"6.2  if \u6807\u7b7e"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"<c:if>"),"\uff1a\u76f8\u5f53\u4e8e if \u5224\u65ad"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5c5e\u6027\uff1atest\uff0c\u7528\u4e8e\u5b9a\u4e49\u6761\u4ef6\u8868\u8fbe\u5f0f")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<c:if test="${flag == 1}">\n    \u7537\n</c:if>\n<c:if test="${flag == 2}">\n    \u5973\n</c:if>\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u4ee3\u7801\u6f14\u793a\uff1a")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5b9a\u4e49\u4e00\u4e2a ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet")," \uff0c\u5728\u8be5 ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet")," \u4e2d\u5411 request \u57df\u5bf9\u8c61\u4e2d\u6dfb\u52a0 \u952e\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"status")," \uff0c\u503c\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"1")," \u7684\u6570\u636e"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/demo2")\npublic class ServletDemo2 extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        //1. \u5b58\u50a8\u6570\u636e\u5230request\u57df\u4e2d\n        request.setAttribute("status",1);\n\n        //2. \u8f6c\u53d1\u5230 jstl-if.jsp\n        \u6570\u636erequest.getRequestDispatcher("/jstl-if.jsp").forward(request,response);\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5b9a\u4e49 ",(0,r.kt)("inlineCode",{parentName:"p"},"jstl-if.jsp")," \u9875\u9762\uff0c\u5728\u8be5\u9875\u9762\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"<c:if>")," \u6807\u7b7e"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\n<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>\n<html>\n<head>\n    <title>Title</title>\n</head>\n<body>\n    <%--\n        c:if\uff1a\u6765\u5b8c\u6210\u903b\u8f91\u5224\u65ad\uff0c\u66ff\u6362java  if else\n    --%>\n    <c:if test="${status ==1}">\n        \u542f\u7528\n    </c:if>\n\n    <c:if test="${status ==0}">\n        \u7981\u7528\n    </c:if>\n</body>\n</html>\n')),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"==\u6ce8\u610f\uff1a== \u5728\u8be5\u9875\u9762\u5df2\u7ecf\u8981\u5f15\u5165 JSTL\u6838\u5fc3\u6807\u7b7e\u5e93"),(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("inlineCode",{parentName:"p"},'<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>'))))),(0,r.kt)("h3",{id:"63--foreach-\u6807\u7b7e"},"6.3  forEach \u6807\u7b7e"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"<c:forEach>"),"\uff1a\u76f8\u5f53\u4e8e for \u5faa\u73af\u3002java\u4e2d\u6709\u589e\u5f3afor\u5faa\u73af\u548c\u666e\u901afor\u5faa\u73af\uff0cJSTL \u4e2d\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"<c:forEach>")," \u4e5f\u6709\u4e24\u79cd\u7528\u6cd5"),(0,r.kt)("h4",{id:"631--\u7528\u6cd5\u4e00"},"6.3.1  \u7528\u6cd5\u4e00"),(0,r.kt)("p",null,"\u7c7b\u4f3c\u4e8e Java \u4e2d\u7684\u589e\u5f3afor\u5faa\u73af\u3002\u6d89\u53ca\u5230\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"<c:forEach>")," \u4e2d\u7684\u5c5e\u6027\u5982\u4e0b"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"items\uff1a\u88ab\u904d\u5386\u7684\u5bb9\u5668")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"var\uff1a\u904d\u5386\u4ea7\u751f\u7684\u4e34\u65f6\u53d8\u91cf")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"varStatus\uff1a\u904d\u5386\u72b6\u6001\u5bf9\u8c61"))),(0,r.kt)("p",null,"\u5982\u4e0b\u4ee3\u7801\uff0c\u662f\u4ece\u57df\u5bf9\u8c61\u4e2d\u83b7\u53d6\u540d\u4e3a brands \u6570\u636e\uff0c\u8be5\u6570\u636e\u662f\u4e00\u4e2a\u96c6\u5408\uff1b\u904d\u5386\u904d\u5386\uff0c\u5e76\u7ed9\u8be5\u96c6\u5408\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u8d77\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"brand"),"\uff0c\u662f Brand\u5bf9\u8c61\u3002\u5728\u5faa\u73af\u91cc\u9762\u4f7f\u7528 EL\u8868\u8fbe\u5f0f\u83b7\u53d6\u6bcf\u4e00\u4e2aBrand\u5bf9\u8c61\u7684\u5c5e\u6027\u503c"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<c:forEach items="${brands}" var="brand">\n    <tr align="center">\n        <td>${brand.id}</td>\n        <td>${brand.brandName}</td>\n        <td>${brand.companyName}</td>\n        <td>${brand.description}</td>\n    </tr>\n</c:forEach>\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u4ee3\u7801\u6f14\u793a\uff1a")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"servlet")," \u8fd8\u662f\u4f7f\u7528\u4e4b\u524d\u7684\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"ServletDemo1")," \u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5b9a\u4e49\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"jstl-foreach.jsp")," \u9875\u9762\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\n<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>\n\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <title>Title</title>\n</head>\n<body>\n<input type="button" value="\u65b0\u589e"><br>\n<hr>\n<table border="1" cellspacing="0" width="800">\n    <tr>\n        <th>\u5e8f\u53f7</th>\n        <th>\u54c1\u724c\u540d\u79f0</th>\n        <th>\u4f01\u4e1a\u540d\u79f0</th>\n        <th>\u6392\u5e8f</th>\n        <th>\u54c1\u724c\u4ecb\u7ecd</th>\n        <th>\u72b6\u6001</th>\n        <th>\u64cd\u4f5c</th>\n    </tr>\n\n    <c:forEach items="${brands}" var="brand" varStatus="status">\n        <tr align="center">\n            <%--<td>${brand.id}</td>--%>\n            <td>${status.count}</td>\n            <td>${brand.brandName}</td>\n            <td>${brand.companyName}</td>\n            <td>${brand.ordered}</td>\n            <td>${brand.description}</td>\n            <c:if test="${brand.status == 1}">\n                <td>\u542f\u7528</td>\n            </c:if>\n            <c:if test="${brand.status != 1}">\n                <td>\u7981\u7528</td>\n            </c:if>\n            <td><a href="#">\u4fee\u6539</a> <a href="#">\u5220\u9664</a></td>\n        </tr>\n    </c:forEach>\n</table>\n</body>\n</html>\n')))),(0,r.kt)("h4",{id:"632--\u7528\u6cd5\u4e8c"},"6.3.2  \u7528\u6cd5\u4e8c"),(0,r.kt)("p",null,"\u7c7b\u4f3c\u4e8e Java \u4e2d\u7684\u666e\u901afor\u5faa\u73af\u3002\u6d89\u53ca\u5230\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"<c:forEach>")," \u4e2d\u7684\u5c5e\u6027\u5982\u4e0b"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"begin\uff1a\u5f00\u59cb\u6570")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"end\uff1a\u7ed3\u675f\u6570")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"step\uff1a\u6b65\u957f"))),(0,r.kt)("p",null,"\u5b9e\u4f8b\u4ee3\u7801\uff1a"),(0,r.kt)("p",null,"\u4ece0\u5faa\u73af\u523010\uff0c\u53d8\u91cf\u540d\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"i")," \uff0c\u6bcf\u6b21\u81ea\u589e1"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<c:forEach begin="0" end="10" step="1" var="i">\n    ${i}\n</c:forEach>\n')),(0,r.kt)("h2",{id:"7mvc\u6a21\u5f0f\u548c\u4e09\u5c42\u67b6\u6784"},"7\uff0cMVC\u6a21\u5f0f\u548c\u4e09\u5c42\u67b6\u6784"),(0,r.kt)("p",null,"MVC \u662f\u4e00\u79cd\u5206\u5c42\u5f00\u53d1\u7684\u6a21\u5f0f\uff0c\u5176\u4e2d\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"M\uff1aModel\uff0c\u4e1a\u52a1\u6a21\u578b\uff0c\u5904\u7406\u4e1a\u52a1")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"V\uff1aView\uff0c\u89c6\u56fe\uff0c\u754c\u9762\u5c55\u793a")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"C\uff1aController\uff0c\u63a7\u5236\u5668\uff0c\u5904\u7406\u8bf7\u6c42\uff0c\u8c03\u7528\u6a21\u578b\u548c\u89c6\u56fe"))),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108213829189.png",alt:"image-20230108213829189"})),(0,r.kt)("p",null,"\u63a7\u5236\u5668\uff08serlvlet\uff09\u7528\u6765\u63a5\u6536\u6d4f\u89c8\u5668\u53d1\u9001\u8fc7\u6765\u7684\u8bf7\u6c42\uff0c\u63a7\u5236\u5668\u8c03\u7528\u6a21\u578b\uff08JavaBean\uff09\u6765\u83b7\u53d6\u6570\u636e\uff0c\u6bd4\u5982\u4ece\u6570\u636e\u5e93\u67e5\u8be2\u6570\u636e\uff1b\u63a7\u5236\u5668\u83b7\u53d6\u5230\u6570\u636e\u540e\u518d\u4ea4\u7531\u89c6\u56fe\uff08JSP\uff09\u8fdb\u884c\u6570\u636e\u5c55\u793a\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"MVC \u597d\u5904\uff1a")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u804c\u8d23\u5355\u4e00\uff0c\u4e92\u4e0d\u5f71\u54cd\u3002\u6bcf\u4e2a\u89d2\u8272\u505a\u5b83\u81ea\u5df1\u7684\u4e8b\uff0c\u5404\u53f8\u5176\u804c\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6709\u5229\u4e8e\u5206\u5de5\u534f\u4f5c\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6709\u5229\u4e8e\u7ec4\u4ef6\u91cd\u7528"))),(0,r.kt)("h3",{id:"72--\u4e09\u5c42\u67b6\u6784"},"7.2  \u4e09\u5c42\u67b6\u6784"),(0,r.kt)("p",null,"\u4e09\u5c42\u67b6\u6784\u662f\u5c06\u6211\u4eec\u7684\u9879\u76ee\u5206\u6210\u4e86\u4e09\u4e2a\u5c42\u9762\uff0c\u5206\u522b\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"\u8868\u73b0\u5c42"),"\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"\u4e1a\u52a1\u903b\u8f91\u5c42"),"\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"\u6570\u636e\u8bbf\u95ee\u5c42"),"\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108213855999.png",alt:"image-20230108213855999"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6570\u636e\u8bbf\u95ee\u5c42\uff1a\u5bf9\u6570\u636e\u5e93\u7684CRUD\u57fa\u672c\u64cd\u4f5c"),(0,r.kt)("li",{parentName:"ul"},"\u4e1a\u52a1\u903b\u8f91\u5c42\uff1a\u5bf9\u4e1a\u52a1\u903b\u8f91\u8fdb\u884c\u5c01\u88c5\uff0c\u7ec4\u5408\u6570\u636e\u8bbf\u95ee\u5c42\u5c42\u4e2d\u57fa\u672c\u529f\u80fd\uff0c\u5f62\u6210\u590d\u6742\u7684\u4e1a\u52a1\u903b\u8f91\u529f\u80fd\u3002\u4f8b\u5982 ",(0,r.kt)("inlineCode",{parentName:"li"},"\u6ce8\u518c\u4e1a\u52a1\u529f\u80fd")," \uff0c\u6211\u4eec\u4f1a\u5148\u8c03\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"\u6570\u636e\u8bbf\u95ee\u5c42")," \u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"selectByName()")," \u65b9\u6cd5\u5224\u65ad\u8be5\u7528\u6237\u540d\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u518d\u8c03\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"\u6570\u636e\u8bbf\u95ee\u5c42")," \u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"insert()")," \u65b9\u6cd5\u8fdb\u884c\u6570\u636e\u7684\u6dfb\u52a0\u64cd\u4f5c"),(0,r.kt)("li",{parentName:"ul"},"\u8868\u73b0\u5c42\uff1a\u63a5\u6536\u8bf7\u6c42\uff0c\u5c01\u88c5\u6570\u636e\uff0c\u8c03\u7528\u4e1a\u52a1\u903b\u8f91\u5c42\uff0c\u54cd\u5e94\u6570\u636e")),(0,r.kt)("p",null,"\u800c\u6574\u4e2a\u6d41\u7a0b\u662f\uff0c\u6d4f\u89c8\u5668\u53d1\u9001\u8bf7\u6c42\uff0c\u8868\u73b0\u5c42\u7684Servlet\u63a5\u6536\u8bf7\u6c42\u5e76\u8c03\u7528\u4e1a\u52a1\u903b\u8f91\u5c42\u7684\u65b9\u6cd5\u8fdb\u884c\u4e1a\u52a1\u903b\u8f91\u5904\u7406\uff0c\u800c\u4e1a\u52a1\u903b\u8f91\u5c42\u65b9\u6cd5\u8c03\u7528\u6570\u636e\u8bbf\u95ee\u5c42\u65b9\u6cd5\u8fdb\u884c\u6570\u636e\u7684\u64cd\u4f5c\uff0c\u4f9d\u6b21\u8fd4\u56de\u5230serlvet\uff0c\u7136\u540eservlet\u5c06\u6570\u636e\u4ea4\u7531 JSP \u8fdb\u884c\u5c55\u793a\u3002"),(0,r.kt)("p",null,"\u4e09\u5c42\u67b6\u6784\u7684\u6bcf\u4e00\u5c42\u90fd\u6709\u7279\u6709\u7684\u5305\u540d\u79f0\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u8868\u73b0\u5c42\uff1a ",(0,r.kt)("inlineCode",{parentName:"li"},"com.itheima.controller")," \u6216\u8005 ",(0,r.kt)("inlineCode",{parentName:"li"},"com.itheima.web")),(0,r.kt)("li",{parentName:"ul"},"\u4e1a\u52a1\u903b\u8f91\u5c42\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"com.itheima.service")),(0,r.kt)("li",{parentName:"ul"},"\u6570\u636e\u8bbf\u95ee\u5c42\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"com.itheima.dao")," \u6216\u8005 ",(0,r.kt)("inlineCode",{parentName:"li"},"com.itheima.mapper"))),(0,r.kt)("p",null,"\u540e\u671f\u6211\u4eec\u8fd8\u4f1a\u5b66\u4e60\u4e00\u4e9b\u6846\u67b6\uff0c\u4e0d\u540c\u7684\u6846\u67b6\u662f\u5bf9\u4e0d\u540c\u5c42\u8fdb\u884c\u5c01\u88c5\u7684"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108213923320.png",alt:"image-20230108213923320"})),(0,r.kt)("h3",{id:"73--mvc-\u548c-\u4e09\u5c42\u67b6\u6784"},"7.3  MVC \u548c \u4e09\u5c42\u67b6\u6784"),(0,r.kt)("p",null,"\u901a\u8fc7 MVC \u548c \u4e09\u5c42\u67b6\u6784 \u7684\u5b66\u4e60\uff0c\u6709\u4e9b\u4eba\u80af\u5b9a\u6df7\u6dc6\u4e86\u3002\u90a3\u4ed6\u4eec\u6709\u4ec0\u4e48\u533a\u522b\u548c\u8054\u7cfb\uff1f"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108214020680.png",alt:"image-20230108214020680"})),(0,r.kt)("p",null,"\u5982\u4e0a\u56fe\u4e0a\u534a\u90e8\u5206\u662f MVC \u6a21\u5f0f\uff0c\u4e0a\u56fe\u4e0b\u534a\u90e8\u5206\u662f\u4e09\u5c42\u67b6\u6784\u3002 ",(0,r.kt)("inlineCode",{parentName:"p"},"MVC \u6a21\u5f0f")," \u4e2d\u7684 C\uff08\u63a7\u5236\u5668\uff09\u548c V\uff08\u89c6\u56fe\uff09\u5c31\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"\u4e09\u5c42\u67b6\u6784")," \u4e2d\u7684\u8868\u73b0\u5c42\uff0c\u800c ",(0,r.kt)("inlineCode",{parentName:"p"},"MVC \u6a21\u5f0f")," \u4e2d\u7684 M\uff08\u6a21\u578b\uff09\u5c31\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"\u4e09\u5c42\u67b6\u6784")," \u4e2d\u7684 \u4e1a\u52a1\u903b\u8f91\u5c42 \u548c \u6570\u636e\u8bbf\u95ee\u5c42\u3002"),(0,r.kt)("p",null,"\u53ef\u4ee5\u5c06 ",(0,r.kt)("inlineCode",{parentName:"p"},"MVC \u6a21\u5f0f")," \u7406\u89e3\u6210\u662f\u4e00\u4e2a\u5927\u7684\u6982\u5ff5\uff0c\u800c ",(0,r.kt)("inlineCode",{parentName:"p"},"\u4e09\u5c42\u67b6\u6784")," \u662f\u5bf9 ",(0,r.kt)("inlineCode",{parentName:"p"},"MVC \u6a21\u5f0f")," \u5b9e\u73b0\u67b6\u6784\u7684\u601d\u60f3\u3002 \u90a3\u4e48\u6211\u4eec\u4ee5\u540e\u6309\u7167\u8981\u6c42\u5c06\u4e0d\u540c\u5c42\u7684\u4ee3\u7801\u5199\u5728\u4e0d\u540c\u7684\u5305\u4e0b\uff0c\u6bcf\u4e00\u5c42\u91cc\u529f\u80fd\u804c\u8d23\u505a\u5230\u5355\u4e00\uff0c\u5c06\u6765\u5982\u679c\u5c06\u8868\u73b0\u5c42\u7684\u6280\u672f\u6362\u6389\uff0c\u800c\u4e1a\u52a1\u903b\u8f91\u5c42\u548c\u6570\u636e\u8bbf\u95ee\u5c42\u7684\u4ee3\u7801\u4e0d\u9700\u8981\u53d1\u751f\u53d8\u5316\u3002"),(0,r.kt)("h2",{id:"8\u6848\u4f8b"},"8\uff0c\u6848\u4f8b"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u9700\u6c42\uff1a\u5b8c\u6210\u54c1\u724c\u6570\u636e\u7684\u589e\u5220\u6539\u67e5\u64cd\u4f5c")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108214043340.png",alt:"image-20230108214043340"})),(0,r.kt)("p",null,"\u8fd9\u4e2a\u529f\u80fd\u6211\u4eec\u4e4b\u524d\u4e00\u76f4\u5728\u505a\uff0c\u800c\u8fd9\u4e2a\u6848\u4f8b\u662f\u5c06\u4eca\u5929\u5b66\u4e60\u7684\u6240\u6709\u7684\u5185\u5bb9\uff08\u5305\u542b MVC\u6a21\u5f0f \u548c \u4e09\u5c42\u67b6\u6784\uff09\u8fdb\u884c\u5e94\u7528\uff0c\u5e76\u5c06\u6574\u4e2a\u6d41\u7a0b\u8d2f\u7a7f\u8d77\u6765\u3002"),(0,r.kt)("h3",{id:"81--\u73af\u5883\u51c6\u5907"},"8.1  \u73af\u5883\u51c6\u5907"),(0,r.kt)("p",null,"\u73af\u5883\u51c6\u5907\u5de5\u4f5c\uff0c\u6211\u4eec\u5206\u4ee5\u4e0b\u6b65\u9aa4\u5b9e\u73b0\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u521b\u5efa\u65b0\u7684\u6a21\u5757 brand_demo\uff0c\u5f15\u5165\u5750\u6807")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u521b\u5efa\u4e09\u5c42\u67b6\u6784\u7684\u5305\u7ed3\u6784")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6570\u636e\u5e93\u8868 tb_brand")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5b9e\u4f53\u7c7b Brand")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"MyBatis \u57fa\u7840\u73af\u5883"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Mybatis-config.xml")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"BrandMapper.xml")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"BrandMapper\u63a5\u53e3"))))),(0,r.kt)("h4",{id:"811--\u521b\u5efa\u5de5\u7a0b"},"8.1.1  \u521b\u5efa\u5de5\u7a0b"),(0,r.kt)("p",null,"\u521b\u5efa\u65b0\u7684\u6a21\u5757 brand_demo\uff0c\u5f15\u5165\u5750\u6807\u3002\u6211\u4eec\u53ea\u8981\u5206\u6790\u51fa\u8981\u7528\u5230\u54ea\u513f\u4e9b\u6280\u672f\uff0c\u90a3\u4e48\u9700\u8981\u54ea\u513f\u4e9b\u5750\u6807\u4e5f\u5c31\u660e\u786e\u4e86"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9700\u8981\u64cd\u4f5c\u6570\u636e\u5e93\u3002mysql\u7684\u9a71\u52a8\u5305"),(0,r.kt)("li",{parentName:"ul"},"\u8981\u4f7f\u7528mybatis\u6846\u67b6\u3002mybaits\u7684\u4f9d\u8d56\u5305"),(0,r.kt)("li",{parentName:"ul"},"web\u9879\u76ee\u9700\u8981\u7528\u5230servlet\u548cjsp\u3002servlet\u548cjsp\u7684\u4f9d\u8d56\u5305"),(0,r.kt)("li",{parentName:"ul"},"\u9700\u8981\u4f7f\u7528 jstl \u8fdb\u884c\u6570\u636e\u5c55\u793a\u3002jstl\u7684\u4f9d\u8d56\u5305")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"pom.xml")," \u5185\u5bb9\u5982\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n    <groupId>org.example</groupId>\n    <artifactId>brand-demo</artifactId>\n    <version>1.0-SNAPSHOT</version>\n    <packaging>war</packaging>\n\n    <properties>\n        <maven.compiler.source>8</maven.compiler.source>\n        <maven.compiler.target>8</maven.compiler.target>\n    </properties>\n\n    <dependencies>\n        \x3c!-- mybatis --\x3e\n        <dependency>\n            <groupId>org.mybatis</groupId>\n            <artifactId>mybatis</artifactId>\n            <version>3.5.5</version>\n        </dependency>\n\n        \x3c!--mysql--\x3e\n        <dependency>\n            <groupId>mysql</groupId>\n            <artifactId>mysql-connector-java</artifactId>\n            <version>5.1.34</version>\n        </dependency>\n\n        \x3c!--servlet--\x3e\n        <dependency>\n            <groupId>javax.servlet</groupId>\n            <artifactId>javax.servlet-api</artifactId>\n            <version>3.1.0</version>\n            <scope>provided</scope>\n        </dependency>\n\n        \x3c!--jsp--\x3e\n        <dependency>\n            <groupId>javax.servlet.jsp</groupId>\n            <artifactId>jsp-api</artifactId>\n            <version>2.2</version>\n            <scope>provided</scope>\n        </dependency>\n\n        \x3c!--jstl--\x3e\n        <dependency>\n            <groupId>jstl</groupId>\n            <artifactId>jstl</artifactId>\n            <version>1.2</version>\n        </dependency>\n        <dependency>\n            <groupId>taglibs</groupId>\n            <artifactId>standard</artifactId>\n            <version>1.1.2</version>\n        </dependency>\n    </dependencies>\n\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.apache.tomcat.maven</groupId>\n                <artifactId>tomcat7-maven-plugin</artifactId>\n                <version>2.2</version>\n            </plugin>\n        </plugins>\n    </build>\n</project>\n')),(0,r.kt)("h4",{id:"812--\u521b\u5efa\u5305"},"8.1.2  \u521b\u5efa\u5305"),(0,r.kt)("p",null,"\u521b\u5efa\u4e0d\u540c\u7684\u5305\u7ed3\u6784\uff0c\u7528\u6765\u5b58\u50a8\u4e0d\u540c\u7684\u7c7b\u3002\u5305\u7ed3\u6784\u5982\u4e0b"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108214259368.png",alt:"image-20230108214259368"})),(0,r.kt)("h4",{id:"813--\u521b\u5efa\u8868"},"8.1.3  \u521b\u5efa\u8868"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"-- \u5220\u9664tb_brand\u8868\ndrop table if exists tb_brand;\n-- \u521b\u5efatb_brand\u8868\ncreate table tb_brand\n(\n    -- id \u4e3b\u952e\n    id           int primary key auto_increment,\n    -- \u54c1\u724c\u540d\u79f0\n    brand_name   varchar(20),\n    -- \u4f01\u4e1a\u540d\u79f0\n    company_name varchar(20),\n    -- \u6392\u5e8f\u5b57\u6bb5\n    ordered      int,\n    -- \u63cf\u8ff0\u4fe1\u606f\n    description  varchar(100),\n    -- \u72b6\u6001\uff1a0\uff1a\u7981\u7528  1\uff1a\u542f\u7528\n    status       int\n);\n-- \u6dfb\u52a0\u6570\u636e\ninsert into tb_brand (brand_name, company_name, ordered, description, status)\nvalues ('\u4e09\u53ea\u677e\u9f20', '\u4e09\u53ea\u677e\u9f20\u80a1\u4efd\u6709\u9650\u516c\u53f8', 5, '\u597d\u5403\u4e0d\u4e0a\u706b', 0),\n       ('\u534e\u4e3a', '\u534e\u4e3a\u6280\u672f\u6709\u9650\u516c\u53f8', 100, '\u534e\u4e3a\u81f4\u529b\u4e8e\u628a\u6570\u5b57\u4e16\u754c\u5e26\u5165\u6bcf\u4e2a\u4eba\u3001\u6bcf\u4e2a\u5bb6\u5ead\u3001\u6bcf\u4e2a\u7ec4\u7ec7\uff0c\u6784\u5efa\u4e07\u7269\u4e92\u8054\u7684\u667a\u80fd\u4e16\u754c', 1),\n       ('\u5c0f\u7c73', '\u5c0f\u7c73\u79d1\u6280\u6709\u9650\u516c\u53f8', 50, 'are you ok', 1);\n")),(0,r.kt)("h4",{id:"814--\u521b\u5efa\u5b9e\u4f53\u7c7b"},"8.1.4  \u521b\u5efa\u5b9e\u4f53\u7c7b"),(0,r.kt)("p",null,"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"pojo")," \u5305\u4e0b\u521b\u5efa\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"Brand")," \u7684\u7c7b\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public class Brand {\n    // id \u4e3b\u952e\n    private Integer id;\n    // \u54c1\u724c\u540d\u79f0\n    private String brandName;\n    // \u4f01\u4e1a\u540d\u79f0\n    private String companyName;\n    // \u6392\u5e8f\u5b57\u6bb5\n    private Integer ordered;\n    // \u63cf\u8ff0\u4fe1\u606f\n    private String description;\n    // \u72b6\u6001\uff1a0\uff1a\u7981\u7528  1\uff1a\u542f\u7528\n    private Integer status;\n\n\n    public Brand() {\n    }\n\n    public Brand(Integer id, String brandName, String companyName, String description) {\n        this.id = id;\n        this.brandName = brandName;\n        this.companyName = companyName;\n        this.description = description;\n    }\n\n    public Brand(Integer id, String brandName, String companyName, Integer ordered, String description, Integer status) {\n        this.id = id;\n        this.brandName = brandName;\n        this.companyName = companyName;\n        this.ordered = ordered;\n        this.description = description;\n        this.status = status;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getBrandName() {\n        return brandName;\n    }\n\n    public void setBrandName(String brandName) {\n        this.brandName = brandName;\n    }\n\n    public String getCompanyName() {\n        return companyName;\n    }\n\n    public void setCompanyName(String companyName) {\n        this.companyName = companyName;\n    }\n\n    public Integer getOrdered() {\n        return ordered;\n    }\n\n    public void setOrdered(Integer ordered) {\n        this.ordered = ordered;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public Integer getStatus() {\n        return status;\n    }\n\n    public void setStatus(Integer status) {\n        this.status = status;\n    }\n\n    @Override\n    public String toString() {\n        return \"Brand{\" +\n                \"id=\" + id +\n                \", brandName='\" + brandName + '\\'' +\n                \", companyName='\" + companyName + '\\'' +\n                \", ordered=\" + ordered +\n                \", description='\" + description + '\\'' +\n                \", status=\" + status +\n                '}';\n    }\n}\n\n")),(0,r.kt)("h4",{id:"815---\u51c6\u5907mybatis\u73af\u5883"},"8.1.5   \u51c6\u5907mybatis\u73af\u5883"),(0,r.kt)("p",null,"\u5b9a\u4e49\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6 ",(0,r.kt)("inlineCode",{parentName:"p"},"Mybatis-config.xml")," \uff0c\u5e76\u5c06\u8be5\u6587\u4ef6\u653e\u7f6e\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"resources")," \u4e0b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE configuration\n        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"\n        "http://mybatis.org/dtd/mybatis-3-config.dtd">\n<configuration>\n    \x3c!--\u8d77\u522b\u540d--\x3e\n    <typeAliases>\n        <package name="com.itheima.pojo"/>\n    </typeAliases>\n\n    <environments default="development">\n        <environment id="development">\n            <transactionManager type="JDBC"/>\n            <dataSource type="POOLED">\n                <property name="driver" value="com.mysql.jdbc.Driver"/>\n                <property name="url" value="jdbc:mysql:///db1?useSSL=false&amp;useServerPrepStmts=true"/>\n                <property name="username" value="root"/>\n                <property name="password" value="1234"/>\n            </dataSource>\n        </environment>\n    </environments>\n    <mappers>\n        \x3c!--\u626b\u63cfmapper--\x3e\n        <package name="com.itheima.mapper"/>\n    </mappers>\n</configuration>\n')),(0,r.kt)("p",null,"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"resources")," \u4e0b\u521b\u5efa\u653e\u7f6e\u6620\u5c04\u914d\u7f6e\u6587\u4ef6\u7684\u76ee\u5f55\u7ed3\u6784 ",(0,r.kt)("inlineCode",{parentName:"p"},"com/itheima/mapper"),"\uff0c\u5e76\u5728\u8be5\u76ee\u5f55\u4e0b\u521b\u5efa\u6620\u5c04\u914d\u7f6e\u6587\u4ef6 ",(0,r.kt)("inlineCode",{parentName:"p"},"BrandMapper.xml")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE mapper\n        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\n        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n<mapper namespace="com.itheima.mapper.BrandMapper">\n    \n</mapper>\n')),(0,r.kt)("h3",{id:"82--\u67e5\u8be2\u6240\u6709"},"8.2  \u67e5\u8be2\u6240\u6709"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108214412799.png",alt:"image-20230108214412799"})),(0,r.kt)("p",null,"\u5f53\u6211\u4eec\u70b9\u51fb ",(0,r.kt)("inlineCode",{parentName:"p"},"index.html")," \u9875\u9762\u4e2d\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"\u67e5\u8be2\u6240\u6709")," \u8fd9\u4e2a\u8d85\u94fe\u63a5\u65f6\uff0c\u5c31\u80fd\u67e5\u8be2\u5230\u4e0a\u56fe\u53f3\u534a\u90e8\u5206\u7684\u6570\u636e\u3002"),(0,r.kt)("p",null,"\u5bf9\u4e8e\u4e0a\u8ff0\u7684\u529f\u80fd\uff0c\u70b9\u51fb ",(0,r.kt)("inlineCode",{parentName:"p"},"\u67e5\u8be2\u6240\u6709")," \u8d85\u94fe\u63a5\u662f\u9700\u8981\u5148\u8bf7\u540e\u7aef\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet")," \uff0c\u7531 ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet")," \u8df3\u8f6c\u5230\u5bf9\u5e94\u7684\u9875\u9762\u8fdb\u884c\u6570\u636e\u7684\u52a8\u6001\u5c55\u793a\u3002\u800c\u6574\u4e2a\u6d41\u7a0b\u5982\u4e0b\u56fe\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108214430546.png",alt:"image-20230108214430546"})),(0,r.kt)("h4",{id:"821--\u7f16\u5199brandmapper"},"8.2.1  \u7f16\u5199BrandMapper"),(0,r.kt)("p",null,"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"mapper")," \u5305\u4e0b\u521b\u5efa\u521b\u5efa ",(0,r.kt)("inlineCode",{parentName:"p"},"BrandMapper")," \u63a5\u53e3\uff0c\u5728\u63a5\u53e3\u4e2d\u5b9a\u4e49 ",(0,r.kt)("inlineCode",{parentName:"p"},"selectAll()")," \u65b9\u6cd5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'/**\n  * \u67e5\u8be2\u6240\u6709\n  * @return\n  */\n@Select("select * from tb_brand")\nList<Brand> selectAll();\n')),(0,r.kt)("h4",{id:"822--\u7f16\u5199\u5de5\u5177\u7c7b"},"8.2.2  \u7f16\u5199\u5de5\u5177\u7c7b"),(0,r.kt)("p",null,"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"com.itheima")," \u5305\u4e0b\u521b\u5efa ",(0,r.kt)("inlineCode",{parentName:"p"},"utils")," \u5305\uff0c\u5e76\u5728\u8be5\u5305\u4e0b\u521b\u5efa\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"SqlSessionFactoryUtils")," \u5de5\u5177\u7c7b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'public class SqlSessionFactoryUtils {\n\n    private static SqlSessionFactory sqlSessionFactory;\n\n    static {\n        //\u9759\u6001\u4ee3\u7801\u5757\u4f1a\u968f\u7740\u7c7b\u7684\u52a0\u8f7d\u800c\u81ea\u52a8\u6267\u884c\uff0c\u4e14\u53ea\u6267\u884c\u4e00\u6b21\n        try {\n            String resource = "mybatis-config.xml";\n            InputStream inputStream = Resources.getResourceAsStream(resource);\n            sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static SqlSessionFactory getSqlSessionFactory(){\n        return sqlSessionFactory;\n    }\n}\n')),(0,r.kt)("h4",{id:"823--\u7f16\u5199brandservice"},"8.2.3  \u7f16\u5199BrandService"),(0,r.kt)("p",null,"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"service")," \u5305\u4e0b\u521b\u5efa ",(0,r.kt)("inlineCode",{parentName:"p"},"BrandService")," \u7c7b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public class BrandService {\n    SqlSessionFactory factory = SqlSessionFactoryUtils.getSqlSessionFactory();\n\n    /**\n     * \u67e5\u8be2\u6240\u6709\n     * @return\n     */\n    public List<Brand> selectAll(){\n        //\u8c03\u7528BrandMapper.selectAll()\n\n        //2. \u83b7\u53d6SqlSession\n        SqlSession sqlSession = factory.openSession();\n        //3. \u83b7\u53d6BrandMapper\n        BrandMapper mapper = sqlSession.getMapper(BrandMapper.class);\n\n        //4. \u8c03\u7528\u65b9\u6cd5\n        List<Brand> brands = mapper.selectAll();\n\n        sqlSession.close();\n\n        return brands;\n    }\n}\n")),(0,r.kt)("h4",{id:"824--\u7f16\u5199servlet"},"8.2.4  \u7f16\u5199Servlet"),(0,r.kt)("p",null,"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"web")," \u5305\u4e0b\u521b\u5efa\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"SelectAllServlet")," \u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet"),"\uff0c\u8be5 ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet")," \u7684\u903b\u8f91\u5982\u4e0b\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u8c03\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"BrandService")," \u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"selectAll()")," \u65b9\u6cd5\u8fdb\u884c\u4e1a\u52a1\u903b\u8f91\u5904\u7406\uff0c\u5e76\u63a5\u6536\u8fd4\u56de\u7684\u7ed3\u679c"),(0,r.kt)("li",{parentName:"ul"},"\u5c06\u4e0a\u4e00\u6b65\u8fd4\u56de\u7684\u7ed3\u679c\u5b58\u50a8\u5230 ",(0,r.kt)("inlineCode",{parentName:"li"},"request")," \u57df\u5bf9\u8c61\u4e2d"),(0,r.kt)("li",{parentName:"ul"},"\u8df3\u8f6c\u5230 ",(0,r.kt)("inlineCode",{parentName:"li"},"brand.jsp")," \u9875\u9762\u8fdb\u884c\u6570\u636e\u7684\u5c55\u793a")),(0,r.kt)("p",null,"\u5177\u4f53\u7684\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/selectAllServlet")\npublic class SelectAllServlet extends HttpServlet {\n    private  BrandService service = new BrandService();\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n        //1. \u8c03\u7528BrandService\u5b8c\u6210\u67e5\u8be2\n        List<Brand> brands = service.selectAll();\n        //2. \u5b58\u5165request\u57df\u4e2d\n        request.setAttribute("brands",brands);\n        //3. \u8f6c\u53d1\u5230brand.jsp\n        request.getRequestDispatcher("/brand.jsp").forward(request,response);\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("h4",{id:"825--\u7f16\u5199brandjsp\u9875\u9762"},"8.2.5  \u7f16\u5199brand.jsp\u9875\u9762"),(0,r.kt)("p",null,"\u5c06\u8d44\u6599 ",(0,r.kt)("inlineCode",{parentName:"p"},"\u8d44\u6599\\2. \u54c1\u724c\u589e\u5220\u6539\u67e5\u6848\u4f8b\\\u9759\u6001\u9875\u9762")," \u4e0b\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"brand.html")," \u9875\u9762\u62f7\u8d1d\u5230\u9879\u76ee\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"webapp")," \u76ee\u5f55\u4e0b\uff0c\u5e76\u5c06\u8be5\u9875\u9762\u6539\u6210 ",(0,r.kt)("inlineCode",{parentName:"p"},"brand.jsp")," \u9875\u9762\uff0c\u800c ",(0,r.kt)("inlineCode",{parentName:"p"},"brand.jsp")," \u9875\u9762\u5728\u8868\u683c\u4e2d\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"JSTL")," \u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"EL\u8868\u8fbe\u5f0f")," \u4ecerequest\u57df\u5bf9\u8c61\u4e2d\u83b7\u53d6\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"brands")," \u7684\u96c6\u5408\u6570\u636e\u5e76\u5c55\u793a\u51fa\u6765\u3002\u9875\u9762\u5185\u5bb9\u5982\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\n<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>\n\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <title>Title</title>\n</head>\n<body>\n<hr>\n<table border="1" cellspacing="0" width="80%">\n    <tr>\n        <th>\u5e8f\u53f7</th>\n        <th>\u54c1\u724c\u540d\u79f0</th>\n        <th>\u4f01\u4e1a\u540d\u79f0</th>\n        <th>\u6392\u5e8f</th>\n        <th>\u54c1\u724c\u4ecb\u7ecd</th>\n        <th>\u72b6\u6001</th>\n        <th>\u64cd\u4f5c</th>\n    </tr>\n\n    <c:forEach items="${brands}" var="brand" varStatus="status">\n        <tr align="center">\n            <%--<td>${brand.id}</td>--%>\n            <td>${status.count}</td>\n            <td>${brand.brandName}</td>\n            <td>${brand.companyName}</td>\n            <td>${brand.ordered}</td>\n            <td>${brand.description}</td>\n            <c:if test="${brand.status == 1}">\n                <td>\u542f\u7528</td>\n            </c:if>\n            <c:if test="${brand.status != 1}">\n                <td>\u7981\u7528</td>\n            </c:if>\n            <td><a href="/brand-demo/selectByIdServlet?id=${brand.id}">\u4fee\u6539</a> <a href="#">\u5220\u9664</a></td>\n        </tr>\n    </c:forEach>\n</table>\n</body>\n</html>\n')),(0,r.kt)("h4",{id:"826--\u6d4b\u8bd5"},"8.2.6  \u6d4b\u8bd5"),(0,r.kt)("p",null,"\u542f\u52a8\u670d\u52a1\u5668\uff0c\u5e76\u5728\u6d4f\u89c8\u5668\u8f93\u5165 ",(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/brand-demo/index.html"),"\uff0c\u770b\u5230\u5982\u4e0b ",(0,r.kt)("inlineCode",{parentName:"p"},"\u67e5\u8be2\u6240\u6709")," \u7684\u8d85\u94fe\u63a5\uff0c\u70b9\u51fb\u8be5\u94fe\u63a5\u5c31\u53ef\u4ee5\u67e5\u8be2\u51fa\u6240\u6709\u7684\u54c1\u724c\u6570\u636e"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108214937627.png",alt:"image-20230108214937627"})),(0,r.kt)("p",null,"\u4e3a\u4ec0\u4e48\u51fa\u73b0\u8fd9\u4e2a\u95ee\u9898\u5462\uff1f\u662f\u56e0\u4e3a\u67e5\u8be2\u5230\u7684\u5b57\u6bb5\u540d\u548c\u5b9e\u4f53\u7c7b\u5bf9\u8c61\u7684\u5c5e\u6027\u540d\u6ca1\u6709\u4e00\u4e00\u5bf9\u5e94\u3002\u76f8\u6bd4\u770b\u5230\u8fd9\u5927\u5bb6\u4e00\u5b9a\u4f1a\u89e3\u51b3\u4e86\uff0c\u5c31\u662f\u5728\u6620\u5c04\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"resultMap")," \u6807\u7b7e\u5b9a\u4e49\u6620\u5c04\u5173\u7cfb\u3002\u6620\u5c04\u914d\u7f6e\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE mapper\n        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\n        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n<mapper namespace="com.itheima.mapper.BrandMapper">\n\n    <resultMap id="brandResultMap" type="brand">\n        <result column="brand_name" property="brandName"></result>\n        <result column="company_name" property="companyName"></result>\n    </resultMap>\n</mapper>\n')),(0,r.kt)("p",null,"\u5e76\u4e14\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"BrandMapper")," \u63a5\u53e3\u4e2d\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"selectAll()")," \u4e0a\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"@ResuleMap")," \u6ce8\u89e3\u6307\u5b9a\u4f7f\u7528\u8be5\u6620\u5c04"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'/**\n  * \u67e5\u8be2\u6240\u6709\n  * @return\n  */\n@Select("select * from tb_brand")\n@ResultMap("brandResultMap")\nList<Brand> selectAll();\n')),(0,r.kt)("p",null,"\u91cd\u542f\u670d\u52a1\u5668\uff0c\u518d\u6b21\u8bbf\u95ee\u5c31\u80fd\u770b\u5230\u6211\u4eec\u60f3\u8981\u7684\u6570\u636e\u4e86"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108215738472.png",alt:"image-20230108215738472"})),(0,r.kt)("h3",{id:"83--\u6dfb\u52a0"},"8.3  \u6dfb\u52a0"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108220353141.png",alt:"image-20230108220353141"})),(0,r.kt)("p",null,"\u4e0a\u56fe\u662f\u505a \u6dfb\u52a0 \u529f\u80fd\u6d41\u7a0b\u3002\u70b9\u51fb ",(0,r.kt)("inlineCode",{parentName:"p"},"\u65b0\u589e")," \u6309\u94ae\u540e\uff0c\u4f1a\u5148\u8df3\u8f6c\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"addBrand.jsp")," \u65b0\u589e\u9875\u9762\uff0c\u5728\u8be5\u9875\u9762\u8f93\u5165\u8981\u6dfb\u52a0\u7684\u6570\u636e\uff0c\u8f93\u5165\u5b8c\u6bd5\u540e\u70b9\u51fb ",(0,r.kt)("inlineCode",{parentName:"p"},"\u63d0\u4ea4")," \u6309\u94ae\uff0c\u9700\u8981\u5c06\u6570\u636e\u63d0\u4ea4\u5230\u540e\u7aef\uff0c\u800c\u540e\u7aef\u8fdb\u884c\u6570\u636e\u6dfb\u52a0\u64cd\u4f5c\uff0c\u5e76\u91cd\u65b0\u5c06\u6240\u6709\u7684\u6570\u636e\u67e5\u8be2\u51fa\u6765\u3002\u6574\u4e2a\u6d41\u7a0b\u5982\u4e0b\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108220406007.png",alt:"image-20230108220406007"})),(0,r.kt)("p",null,"\u63a5\u4e0b\u6765\u6211\u4eec\u6839\u636e\u6d41\u7a0b\u6765\u5b9e\u73b0\u529f\u80fd\uff1a"),(0,r.kt)("h4",{id:"831--\u7f16\u5199brandmapper\u65b9\u6cd5"},"8.3.1  \u7f16\u5199BrandMapper\u65b9\u6cd5"),(0,r.kt)("p",null,"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"BrandMapper")," \u63a5\u53e3\uff0c\u5728\u63a5\u53e3\u4e2d\u5b9a\u4e49 ",(0,r.kt)("inlineCode",{parentName:"p"},"add(Brand brand)")," \u65b9\u6cd5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@Insert("insert into tb_brand values(null,#{brandName},#{companyName},#{ordered},#{description},#{status})")\nvoid add(Brand brand);\n')),(0,r.kt)("h4",{id:"832--\u7f16\u5199brandservice\u65b9\u6cd5"},"8.3.2  \u7f16\u5199BrandService\u65b9\u6cd5"),(0,r.kt)("p",null,"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"BrandService")," \u7c7b\u4e2d\u5b9a\u4e49\u6dfb\u52a0\u54c1\u724c\u6570\u636e\u65b9\u6cd5 ",(0,r.kt)("inlineCode",{parentName:"p"},"add(Brand brand)")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"    /**\n     * \u6dfb\u52a0\n     * @param brand\n     */\n    public void add(Brand brand){\n\n        //2. \u83b7\u53d6SqlSession\n        SqlSession sqlSession = factory.openSession();\n        //3. \u83b7\u53d6BrandMapper\n        BrandMapper mapper = sqlSession.getMapper(BrandMapper.class);\n\n        //4. \u8c03\u7528\u65b9\u6cd5\n        mapper.add(brand);\n\n        //\u63d0\u4ea4\u4e8b\u52a1\n        sqlSession.commit();\n        //\u91ca\u653e\u8d44\u6e90\n        sqlSession.close();\n    }\n")),(0,r.kt)("h4",{id:"833--\u6539\u8fdbbrandjsp\u9875\u9762"},"8.3.3  \u6539\u8fdbbrand.jsp\u9875\u9762"),(0,r.kt)("p",null,"\u6211\u4eec\u9700\u8981\u5728\u8be5\u9875\u9762\u8868\u683c\u7684\u4e0a\u9762\u6dfb\u52a0 ",(0,r.kt)("inlineCode",{parentName:"p"},"\u65b0\u589e")," \u6309\u94ae"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<input type="button" value="\u65b0\u589e" id="add"><br>\n')),(0,r.kt)("p",null,"\u5e76\u7ed9\u8be5\u6309\u94ae\u7ed1\u5b9a\u5355\u51fb\u4e8b\u4ef6\uff0c\u5f53\u70b9\u51fb\u4e86\u8be5\u6309\u94ae\u9700\u8981\u8df3\u8f6c\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"brand.jsp")," \u6dfb\u52a0\u54c1\u724c\u6570\u636e\u7684\u9875\u9762"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<script>\n    document.getElementById("add").onclick = function (){\n        location.href = "/brand-demo/addBrand.jsp";\n    }\n<\/script>\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"==\u6ce8\u610f\uff1a==\u8be5 ",(0,r.kt)("inlineCode",{parentName:"p"},"script")," \u6807\u7b7e\u5efa\u8bae\u653e\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"body")," \u7ed3\u675f\u6807\u7b7e\u524d\u9762\u3002")),(0,r.kt)("h4",{id:"834--\u7f16\u5199addbrandjsp\u9875\u9762"},"8.3.4  \u7f16\u5199addBrand.jsp\u9875\u9762"),(0,r.kt)("p",null,"\u4ece\u8d44\u6599 ",(0,r.kt)("inlineCode",{parentName:"p"},"\u8d44\u6599\\2. \u54c1\u724c\u589e\u5220\u6539\u67e5\u6848\u4f8b\\\u9759\u6001\u9875\u9762")," \u4e2d\u5c06 ",(0,r.kt)("inlineCode",{parentName:"p"},"addBrand.html")," \u9875\u9762\u62f7\u8d1d\u5230\u9879\u76ee\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"webapp")," \u4e0b\uff0c\u5e76\u6539\u6210 ",(0,r.kt)("inlineCode",{parentName:"p"},"addBrand.jsp")," \u52a8\u6001\u9875\u9762"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\n<!DOCTYPE html>\n<html lang="en">\n\n<head>\n    <meta charset="UTF-8">\n    <title>\u6dfb\u52a0\u54c1\u724c</title>\n</head>\n<body>\n<h3>\u6dfb\u52a0\u54c1\u724c</h3>\n<form action="/brand-demo/addServlet" method="post">\n    \u54c1\u724c\u540d\u79f0\uff1a<input name="brandName"><br>\n    \u4f01\u4e1a\u540d\u79f0\uff1a<input name="companyName"><br>\n    \u6392\u5e8f\uff1a<input name="ordered"><br>\n    \u63cf\u8ff0\u4fe1\u606f\uff1a<textarea rows="5" cols="20" name="description"></textarea><br>\n    \u72b6\u6001\uff1a\n    <input type="radio" name="status" value="0">\u7981\u7528\n    <input type="radio" name="status" value="1">\u542f\u7528<br>\n\n    <input type="submit" value="\u63d0\u4ea4">\n</form>\n</body>\n</html>\n')),(0,r.kt)("h4",{id:"835--\u7f16\u5199servlet"},"8.3.5  \u7f16\u5199servlet"),(0,r.kt)("p",null,"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"web")," \u5305\u4e0b\u521b\u5efa ",(0,r.kt)("inlineCode",{parentName:"p"},"AddServlet")," \u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet"),"\uff0c\u8be5 ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet")," \u7684\u903b\u8f91\u5982\u4e0b:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u8bbe\u7f6e\u5904\u7406post\u8bf7\u6c42\u4e71\u7801\u7684\u5b57\u7b26\u96c6"),(0,r.kt)("li",{parentName:"ul"},"\u63a5\u6536\u5ba2\u6237\u7aef\u63d0\u4ea4\u7684\u6570\u636e"),(0,r.kt)("li",{parentName:"ul"},"\u5c06\u63a5\u6536\u5230\u7684\u6570\u636e\u5c01\u88c5\u5230 ",(0,r.kt)("inlineCode",{parentName:"li"},"Brand")," \u5bf9\u8c61\u4e2d"),(0,r.kt)("li",{parentName:"ul"},"\u8c03\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"BrandService")," \u7684",(0,r.kt)("inlineCode",{parentName:"li"},"add()")," \u65b9\u6cd5\u8fdb\u884c\u6dfb\u52a0\u7684\u4e1a\u52a1\u903b\u8f91\u5904\u7406"),(0,r.kt)("li",{parentName:"ul"},"\u8df3\u8f6c\u5230 ",(0,r.kt)("inlineCode",{parentName:"li"},"selectAllServlet")," \u8d44\u6e90\u91cd\u65b0\u67e5\u8be2\u6570\u636e")),(0,r.kt)("p",null,"\u5177\u4f53\u7684\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/addServlet")\npublic class AddServlet extends HttpServlet {\n    private BrandService service = new BrandService();\n\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n        //\u5904\u7406POST\u8bf7\u6c42\u7684\u4e71\u7801\u95ee\u9898\n        request.setCharacterEncoding("utf-8");\n\n        //1. \u63a5\u6536\u8868\u5355\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u5c01\u88c5\u4e3a\u4e00\u4e2aBrand\u5bf9\u8c61\n        String brandName = request.getParameter("brandName");\n        String companyName = request.getParameter("companyName");\n        String ordered = request.getParameter("ordered");\n        String description = request.getParameter("description");\n        String status = request.getParameter("status");\n\n        //\u5c01\u88c5\u4e3a\u4e00\u4e2aBrand\u5bf9\u8c61\n        Brand brand = new Brand();\n        brand.setBrandName(brandName);\n        brand.setCompanyName(companyName);\n        brand.setOrdered(Integer.parseInt(ordered));\n        brand.setDescription(description);\n        brand.setStatus(Integer.parseInt(status));\n\n        //2. \u8c03\u7528service \u5b8c\u6210\u6dfb\u52a0\n        service.add(brand);\n\n        //3. \u8f6c\u53d1\u5230\u67e5\u8be2\u6240\u6709Servlet\n        request.getRequestDispatcher("/selectAllServlet").forward(request,response);\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("h4",{id:"836--\u6d4b\u8bd5"},"8.3.6  \u6d4b\u8bd5"),(0,r.kt)("p",null," \u70b9\u51fb ",(0,r.kt)("inlineCode",{parentName:"p"},"brand.jsp")," \u9875\u9762\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"\u65b0\u589e")," \u6309\u94ae\uff0c\u4f1a\u8df3\u8f6c\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"addBrand.jsp"),"\u9875\u9762"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108220603226.png",alt:"image-20230108220603226"})),(0,r.kt)("p",null,"\u70b9\u51fb ",(0,r.kt)("inlineCode",{parentName:"p"},"\u63d0\u4ea4")," \u6309\u94ae\uff0c\u5c31\u80fd\u770b\u5230\u5982\u4e0b\u9875\u9762\uff0c\u91cc\u9762\u5c31\u5305\u542b\u6211\u4eec\u521a\u6dfb\u52a0\u7684\u6570\u636e"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108220621501.png",alt:"image-20230108220621501"})),(0,r.kt)("h3",{id:"84--\u4fee\u6539"},"8.4  \u4fee\u6539"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108220738309.png",alt:"image-20230108220738309"})),(0,r.kt)("p",null,"\u70b9\u51fb\u6bcf\u6761\u6570\u636e\u540e\u9762\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"\u7f16\u8f91")," \u6309\u94ae\u4f1a\u8df3\u8f6c\u5230\u4fee\u6539\u9875\u9762\uff0c\u5982\u4e0b\u56fe\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108220800118.png",alt:"image-20230108220800118"})),(0,r.kt)("p",null,"\u5728\u8be5\u4fee\u6539\u9875\u9762\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u5c06 ",(0,r.kt)("inlineCode",{parentName:"p"},"\u7f16\u8f91")," \u6309\u94ae\u6240\u5728\u884c\u7684\u6570\u636e ==\u56de\u663e== \u5230\u8868\u5355\uff0c\u7136\u540e\u9700\u8981\u4fee\u6539\u90a3\u4e2a\u6570\u636e\u5728\u8868\u5355\u4e2d\u8fdb\u884c\u4fee\u6539\uff0c\u7136\u540e\u70b9\u51fb ",(0,r.kt)("inlineCode",{parentName:"p"},"\u63d0\u4ea4")," \u7684\u6309\u94ae\u5c06\u6570\u636e\u63d0\u4ea4\u5230\u540e\u7aef\uff0c\u540e\u7aef\u518d\u5c06\u6570\u636e\u5b58\u50a8\u5230\u6570\u636e\u5e93\u4e2d\u3002"),(0,r.kt)("p",null,"\u4ece\u4e0a\u9762\u7684\u4f8b\u5b50\u6211\u4eec\u77e5\u9053 ",(0,r.kt)("inlineCode",{parentName:"p"},"\u4fee\u6539")," \u529f\u80fd\u9700\u8981\u4ece\u4e24\u65b9\u9762\u8fdb\u884c\u5b9e\u73b0\uff0c\u6570\u636e\u56de\u663e\u548c\u4fee\u6539\u64cd\u4f5c\u3002"),(0,r.kt)("h4",{id:"841--\u56de\u663e\u6570\u636e"},"8.4.1  \u56de\u663e\u6570\u636e"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108220811396.png",alt:"image-20230108220811396"})),(0,r.kt)("p",null,"\u4e0a\u56fe\u5c31\u662f\u56de\u663e\u6570\u636e\u7684\u6548\u679c\u3002\u8981\u5b9e\u73b0\u8fd9\u4e2a\u6548\u679c\uff0c\u90a3\u5f53\u70b9\u51fb ",(0,r.kt)("inlineCode",{parentName:"p"},"\u4fee\u6539")," \u6309\u94ae\u65f6\u4e0d\u80fd\u76f4\u63a5\u8df3\u8f6c\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"update.jsp")," \u9875\u9762\uff0c\u800c\u662f\u9700\u8981\u5148\u5e26\u7740\u5f53\u524d\u884c\u6570\u636e\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," \u8bf7\u6c42\u540e\u7aef\u7a0b\u5e8f\uff0c\u540e\u7aef\u7a0b\u5e8f\u6839\u636e ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," \u67e5\u8be2\u6570\u636e\uff0c\u5c06\u6570\u636e\u5b58\u50a8\u5230\u57df\u5bf9\u8c61\u4e2d\u8df3\u8f6c\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"update.jsp")," \u9875\u9762\u8fdb\u884c\u6570\u636e\u5c55\u793a\u3002\u6574\u4f53\u6d41\u7a0b\u5982\u4e0b"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108220820369.png",alt:"image-20230108220820369"})),(0,r.kt)("h5",{id:"8411--\u7f16\u5199brandmapper\u65b9\u6cd5"},"8.4.1.1  \u7f16\u5199BrandMapper\u65b9\u6cd5"),(0,r.kt)("p",null,"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"BrandMapper")," \u63a5\u53e3\uff0c\u5728\u63a5\u53e3\u4e2d\u5b9a\u4e49 ",(0,r.kt)("inlineCode",{parentName:"p"},"selectById(int id)")," \u65b9\u6cd5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    /**\n     * \u6839\u636eid\u67e5\u8be2\n     * @param id\n     * @return\n     */\n    @Select("select * from tb_brand where id = #{id}")\n    @ResultMap("brandResultMap")\n    Brand selectById(int id);\n')),(0,r.kt)("h5",{id:"8412--\u7f16\u5199brandservice\u65b9\u6cd5"},"8.4.1.2  \u7f16\u5199BrandService\u65b9\u6cd5"),(0,r.kt)("p",null,"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"BrandService")," \u7c7b\u4e2d\u5b9a\u4e49\u6839\u636eid\u67e5\u8be2\u6570\u636e\u65b9\u6cd5 ",(0,r.kt)("inlineCode",{parentName:"p"},"selectById(int id)")," "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"    /**\n     * \u6839\u636eid\u67e5\u8be2\n     * @return\n     */\n    public Brand selectById(int id){\n        //\u8c03\u7528BrandMapper.selectAll()\n        //2. \u83b7\u53d6SqlSession\n        SqlSession sqlSession = factory.openSession();\n        //3. \u83b7\u53d6BrandMapper\n        BrandMapper mapper = sqlSession.getMapper(BrandMapper.class);\n        //4. \u8c03\u7528\u65b9\u6cd5\n        Brand brand = mapper.selectById(id);\n        sqlSession.close();\n        return brand;\n    }\n")),(0,r.kt)("h5",{id:"8413--\u7f16\u5199servlet"},"8.4.1.3  \u7f16\u5199servlet"),(0,r.kt)("p",null,"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"web")," \u5305\u4e0b\u521b\u5efa ",(0,r.kt)("inlineCode",{parentName:"p"},"SelectByIdServlet")," \u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet"),"\uff0c\u8be5 ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet")," \u7684\u903b\u8f91\u5982\u4e0b:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u83b7\u53d6\u8bf7\u6c42\u6570\u636e ",(0,r.kt)("inlineCode",{parentName:"li"},"id")),(0,r.kt)("li",{parentName:"ul"},"\u8c03\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"BrandService")," \u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"selectById()")," \u65b9\u6cd5\u8fdb\u884c\u6570\u636e\u67e5\u8be2\u7684\u4e1a\u52a1\u903b\u8f91"),(0,r.kt)("li",{parentName:"ul"},"\u5c06\u67e5\u8be2\u5230\u7684\u6570\u636e\u5b58\u50a8\u5230 request \u57df\u5bf9\u8c61\u4e2d"),(0,r.kt)("li",{parentName:"ul"},"\u8df3\u8f6c\u5230 ",(0,r.kt)("inlineCode",{parentName:"li"},"update.jsp")," \u9875\u9762\u8fdb\u884c\u6570\u636e\u771f\u5b9e")),(0,r.kt)("p",null,"\u5177\u4f53\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/selectByIdServlet")\npublic class SelectByIdServlet extends HttpServlet {\n    private  BrandService service = new BrandService();\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        //1. \u63a5\u6536id\n        String id = request.getParameter("id");\n        //2. \u8c03\u7528service\u67e5\u8be2\n        Brand brand = service.selectById(Integer.parseInt(id));\n        //3. \u5b58\u50a8\u5230request\u4e2d\n        request.setAttribute("brand",brand);\n        //4. \u8f6c\u53d1\u5230update.jsp\n        request.getRequestDispatcher("/update.jsp").forward(request,response);\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("h5",{id:"8414--\u7f16\u5199updatejsp\u9875\u9762"},"8.4.1.4  \u7f16\u5199update.jsp\u9875\u9762"),(0,r.kt)("p",null,"\u62f7\u8d1d ",(0,r.kt)("inlineCode",{parentName:"p"},"addBrand.jsp")," \u9875\u9762\uff0c\u6539\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"update.jsp")," \u5e76\u505a\u51fa\u4ee5\u4e0b\u4fee\u6539\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"title")," \u6807\u7b7e\u5185\u5bb9\u6539\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"\u4fee\u6539\u54c1\u724c"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"form")," \u6807\u7b7e\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"action")," \u5c5e\u6027\u503c\u6539\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"/brand-demo/updateServlet"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"input")," \u6807\u7b7e\u8981\u8fdb\u884c\u6570\u636e\u56de\u663e\uff0c\u9700\u8981\u8bbe\u7f6e ",(0,r.kt)("inlineCode",{parentName:"p"},"value")," \u5c5e\u6027"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'\u54c1\u724c\u540d\u79f0\uff1a<input name="brandName" value="${brand.brandName}"><br>\n\u4f01\u4e1a\u540d\u79f0\uff1a<input name="companyName" value="${brand.companyName}"><br>\n\u6392\u5e8f\uff1a<input name="ordered" value="${brand.ordered}"><br>\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"textarea")," \u6807\u7b7e\u8981\u8fdb\u884c\u6570\u636e\u56de\u663e\uff0c\u9700\u8981\u5728\u6807\u7b7e\u4f53\u4e2d\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"EL\u8868\u8fbe\u5f0f")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'\u63cf\u8ff0\u4fe1\u606f\uff1a<textarea rows="5" cols="20" name="description">${brand.description} </textarea><br>\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5355\u9009\u6846\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"if")," \u6807\u7b7e\u9700\u8981\u5224\u65ad ",(0,r.kt)("inlineCode",{parentName:"p"},"brand.status")," \u7684\u503c\u662f 1 \u8fd8\u662f 0 \u5728\u6307\u5b9a\u7684\u5355\u9009\u6846\u4e0a\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"checked")," \u5c5e\u6027\uff0c\u8868\u793a\u88ab\u9009\u4e2d\u72b6\u6001"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'\u72b6\u6001\uff1a\n<c:if test="${brand.status == 0}">\n    <input type="radio" name="status" value="0" checked>\u7981\u7528\n    <input type="radio" name="status" value="1">\u542f\u7528<br>\n</c:if>\n\n<c:if test="${brand.status == 1}">\n    <input type="radio" name="status" value="0" >\u7981\u7528\n    <input type="radio" name="status" value="1" checked>\u542f\u7528<br>\n</c:if>\n')))),(0,r.kt)("p",null,"\u7efc\u4e0a\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"update.jsp")," \u4ee3\u7801\u5982\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\n<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <title>\u4fee\u6539\u54c1\u724c</title>\n</head>\n<body>\n<h3>\u4fee\u6539\u54c1\u724c</h3>\n<form action="/brand-demo/updateServlet" method="post">\n\n    \u54c1\u724c\u540d\u79f0\uff1a<input name="brandName" value="${brand.brandName}"><br>\n    \u4f01\u4e1a\u540d\u79f0\uff1a<input name="companyName" value="${brand.companyName}"><br>\n    \u6392\u5e8f\uff1a<input name="ordered" value="${brand.ordered}"><br>\n    \u63cf\u8ff0\u4fe1\u606f\uff1a<textarea rows="5" cols="20" name="description">${brand.description} </textarea><br>\n    \u72b6\u6001\uff1a\n    <c:if test="${brand.status == 0}">\n        <input type="radio" name="status" value="0" checked>\u7981\u7528\n        <input type="radio" name="status" value="1">\u542f\u7528<br>\n    </c:if>\n\n    <c:if test="${brand.status == 1}">\n        <input type="radio" name="status" value="0" >\u7981\u7528\n        <input type="radio" name="status" value="1" checked>\u542f\u7528<br>\n    </c:if>\n\n    <input type="submit" value="\u63d0\u4ea4">\n</form>\n</body>\n</html>\n')),(0,r.kt)("h4",{id:"842--\u4fee\u6539\u6570\u636e"},"8.4.2  \u4fee\u6539\u6570\u636e"),(0,r.kt)("p",null,"\u505a\u5b8c\u56de\u663e\u6570\u636e\u540e\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u8981\u505a\u4fee\u6539\u6570\u636e\u4e86\uff0c\u800c\u4e0b\u56fe\u662f\u4fee\u6539\u6570\u636e\u7684\u6548\u679c\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108220834982.png",alt:"image-20230108220834982"})),(0,r.kt)("p",null,"\u5728\u4fee\u6539\u9875\u9762\u8fdb\u884c\u6570\u636e\u4fee\u6539\uff0c\u70b9\u51fb ",(0,r.kt)("inlineCode",{parentName:"p"},"\u63d0\u4ea4")," \u6309\u94ae\uff0c\u4f1a\u5c06\u6570\u636e\u63d0\u4ea4\u5230\u540e\u7aef\u7a0b\u5e8f\uff0c\u540e\u7aef\u7a0b\u5e8f\u4f1a\u5bf9\u8868\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u4fee\u6539\u64cd\u4f5c\uff0c\u7136\u540e\u91cd\u65b0\u8fdb\u884c\u6570\u636e\u7684\u67e5\u8be2\u64cd\u4f5c\u3002\u6574\u4f53\u6d41\u7a0b\u5982\u4e0b\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108220842480.png",alt:"image-20230108220842480"})),(0,r.kt)("h5",{id:"8421--\u7f16\u5199brandmapper\u65b9\u6cd5"},"8.4.2.1  \u7f16\u5199BrandMapper\u65b9\u6cd5"),(0,r.kt)("p",null,"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"BrandMapper")," \u63a5\u53e3\uff0c\u5728\u63a5\u53e3\u4e2d\u5b9a\u4e49 ",(0,r.kt)("inlineCode",{parentName:"p"},"update(Brand brand)")," \u65b9\u6cd5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'/**\n  * \u4fee\u6539\n  * @param brand\n  */\n@Update("update tb_brand set brand_name = #{brandName},company_name = #{companyName},ordered = #{ordered},description = #{description},status = #{status} where id = #{id}")\nvoid update(Brand brand);\n')),(0,r.kt)("h5",{id:"8422--\u7f16\u5199brandservice\u65b9\u6cd5"},"8.4.2.2  \u7f16\u5199BrandService\u65b9\u6cd5"),(0,r.kt)("p",null,"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"BrandService")," \u7c7b\u4e2d\u5b9a\u4e49\u6839\u636eid\u67e5\u8be2\u6570\u636e\u65b9\u6cd5 ",(0,r.kt)("inlineCode",{parentName:"p"},"update(Brand brand)")," "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"    /**\n     * \u4fee\u6539\n     * @param brand\n     */\n    public void update(Brand brand){\n        //2. \u83b7\u53d6SqlSession\n        SqlSession sqlSession = factory.openSession();\n        //3. \u83b7\u53d6BrandMapper\n        BrandMapper mapper = sqlSession.getMapper(BrandMapper.class);\n        //4. \u8c03\u7528\u65b9\u6cd5\n        mapper.update(brand);\n        //\u63d0\u4ea4\u4e8b\u52a1\n        sqlSession.commit();\n        //\u91ca\u653e\u8d44\u6e90\n        sqlSession.close();\n    }\n")),(0,r.kt)("h5",{id:"8423--\u7f16\u5199servlet"},"8.4.2.3  \u7f16\u5199servlet"),(0,r.kt)("p",null,"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"web")," \u5305\u4e0b\u521b\u5efa ",(0,r.kt)("inlineCode",{parentName:"p"},"AddServlet")," \u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet"),"\uff0c\u8be5 ",(0,r.kt)("inlineCode",{parentName:"p"},"servlet")," \u7684\u903b\u8f91\u5982\u4e0b:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u8bbe\u7f6e\u5904\u7406post\u8bf7\u6c42\u4e71\u7801\u7684\u5b57\u7b26\u96c6"),(0,r.kt)("li",{parentName:"ul"},"\u63a5\u6536\u5ba2\u6237\u7aef\u63d0\u4ea4\u7684\u6570\u636e"),(0,r.kt)("li",{parentName:"ul"},"\u5c06\u63a5\u6536\u5230\u7684\u6570\u636e\u5c01\u88c5\u5230 ",(0,r.kt)("inlineCode",{parentName:"li"},"Brand")," \u5bf9\u8c61\u4e2d"),(0,r.kt)("li",{parentName:"ul"},"\u8c03\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"BrandService")," \u7684",(0,r.kt)("inlineCode",{parentName:"li"},"update()")," \u65b9\u6cd5\u8fdb\u884c\u6dfb\u52a0\u7684\u4e1a\u52a1\u903b\u8f91\u5904\u7406"),(0,r.kt)("li",{parentName:"ul"},"\u8df3\u8f6c\u5230 ",(0,r.kt)("inlineCode",{parentName:"li"},"selectAllServlet")," \u8d44\u6e90\u91cd\u65b0\u67e5\u8be2\u6570\u636e")),(0,r.kt)("p",null,"\u5177\u4f53\u7684\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/updateServlet")\npublic class UpdateServlet extends HttpServlet {\n    private BrandService service = new BrandService();\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n        //\u5904\u7406POST\u8bf7\u6c42\u7684\u4e71\u7801\u95ee\u9898\n        request.setCharacterEncoding("utf-8");\n        //1. \u63a5\u6536\u8868\u5355\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u5c01\u88c5\u4e3a\u4e00\u4e2aBrand\u5bf9\u8c61\n        String id = request.getParameter("id");\n        String brandName = request.getParameter("brandName");\n        String companyName = request.getParameter("companyName");\n        String ordered = request.getParameter("ordered");\n        String description = request.getParameter("description");\n        String status = request.getParameter("status");\n\n        //\u5c01\u88c5\u4e3a\u4e00\u4e2aBrand\u5bf9\u8c61\n        Brand brand = new Brand();\n        brand.setId(Integer.parseInt(id));\n        brand.setBrandName(brandName);\n        brand.setCompanyName(companyName);\n        brand.setOrdered(Integer.parseInt(ordered));\n        brand.setDescription(description);\n        brand.setStatus(Integer.parseInt(status));\n\n        //2. \u8c03\u7528service \u5b8c\u6210\u4fee\u6539\n        service.update(brand);\n\n        //3. \u8f6c\u53d1\u5230\u67e5\u8be2\u6240\u6709Servlet\n        request.getRequestDispatcher("/selectAllServlet").forward(request,response);\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("p",null,"==\u5b58\u5728\u95ee\u9898\uff1aupdate.jsp \u9875\u9762\u63d0\u4ea4\u6570\u636e\u65f6\u662f\u6ca1\u6709\u643a\u5e26\u4e3b\u952e\u6570\u636e\u7684\uff0c\u800c\u540e\u53f0\u4fee\u6539\u6570\u636e\u9700\u8981\u6839\u636e\u4e3b\u952e\u8fdb\u884c\u4fee\u6539\u3002=="),(0,r.kt)("p",null,"\u9488\u5bf9\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u4e0d\u5e0c\u671b\u9875\u9762\u5c06\u4e3b\u952eid\u5c55\u793a\u7ed9\u7528\u6237\u770b\uff0c\u4f46\u662f\u53c8\u5e0c\u671b\u5728\u63d0\u4ea4\u6570\u636e\u65f6\u80fd\u5c06\u4e3b\u952eid\u63d0\u4ea4\u5230\u540e\u7aef\u3002\u6b64\u65f6\u6211\u4eec\u5c31\u60f3\u5230\u4e86\u5728\u5b66\u4e60 HTML \u65f6\u5b66\u4e60\u7684\u9690\u85cf\u57df\uff0c\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"update.jsp")," \u9875\u9762\u7684\u8868\u5355\u4e2d\u6dfb\u52a0\u5982\u4e0b\u4ee3\u7801\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<%--\u9690\u85cf\u57df\uff0c\u63d0\u4ea4id--%>\n<input type="hidden" name="id" value="${brand.id}">\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"update.jsp")," \u9875\u9762\u7684\u6700\u7ec8\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\n<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <title>\u4fee\u6539\u54c1\u724c</title>\n</head>\n<body>\n<h3>\u4fee\u6539\u54c1\u724c</h3>\n<form action="/brand-demo/updateServlet" method="post">\n\n    <%--\u9690\u85cf\u57df\uff0c\u63d0\u4ea4id--%>\n    <input type="hidden" name="id" value="${brand.id}">\n\n    \u54c1\u724c\u540d\u79f0\uff1a<input name="brandName" value="${brand.brandName}"><br>\n    \u4f01\u4e1a\u540d\u79f0\uff1a<input name="companyName" value="${brand.companyName}"><br>\n    \u6392\u5e8f\uff1a<input name="ordered" value="${brand.ordered}"><br>\n    \u63cf\u8ff0\u4fe1\u606f\uff1a<textarea rows="5" cols="20" name="description">${brand.description} </textarea><br>\n    \u72b6\u6001\uff1a\n    <c:if test="${brand.status == 0}">\n        <input type="radio" name="status" value="0" checked>\u7981\u7528\n        <input type="radio" name="status" value="1">\u542f\u7528<br>\n    </c:if>\n\n    <c:if test="${brand.status == 1}">\n        <input type="radio" name="status" value="0" >\u7981\u7528\n        <input type="radio" name="status" value="1" checked>\u542f\u7528<br>\n    </c:if>\n    <input type="submit" value="\u63d0\u4ea4">\n</form>\n</body>\n</html>\n')),(0,r.kt)("h1",{id:"\u4f1a\u8bdd\u6280\u672f"},"\u4f1a\u8bdd\u6280\u672f"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u76ee\u6807")," "),(0,r.kt)("blockquote",null,(0,r.kt)("ul",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u7406\u89e3\u4ec0\u4e48\u662f\u4f1a\u8bdd\u8ddf\u8e2a\u6280\u672f")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u638c\u63e1Cookie\u7684\u4f7f\u7528")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u638c\u63e1Session\u7684\u4f7f\u7528")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5b8c\u5584\u7528\u6237\u767b\u5f55\u6ce8\u518c\u6848\u4f8b\u7684\u529f\u80fd")))),(0,r.kt)("h2",{id:"1\u4f1a\u8bdd\u8ddf\u8e2a\u6280\u672f\u7684\u6982\u8ff0"},"1\uff0c\u4f1a\u8bdd\u8ddf\u8e2a\u6280\u672f\u7684\u6982\u8ff0"),(0,r.kt)("p",null,"\u5bf9\u4e8e",(0,r.kt)("inlineCode",{parentName:"p"},"\u4f1a\u8bdd\u8ddf\u8e2a"),"\u8fd9\u56db\u4e2a\u8bcd\uff0c\u6211\u4eec\u9700\u8981\u62c6\u5f00\u6765\u8fdb\u884c\u89e3\u91ca\uff0c\u9996\u5148\u8981\u7406\u89e3\u4ec0\u4e48\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"\u4f1a\u8bdd"),"\uff0c\u7136\u540e\u518d\u53bb\u7406\u89e3\u4ec0\u4e48\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"\u4f1a\u8bdd\u8ddf\u8e2a"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4f1a\u8bdd:\u7528\u6237\u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u8bbf\u95eeweb\u670d\u52a1\u5668\u7684\u8d44\u6e90\uff0c\u4f1a\u8bdd\u5efa\u7acb\uff0c\u76f4\u5230\u6709\u4e00\u65b9\u65ad\u5f00\u8fde\u63a5\uff0c\u4f1a\u8bdd\u7ed3\u675f\u3002\u5728\u4e00\u6b21\u4f1a\u8bdd\u4e2d\u53ef\u4ee5\u5305\u542b==\u591a\u6b21==\u8bf7\u6c42\u548c\u54cd\u5e94\u3002"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u4ece\u6d4f\u89c8\u5668\u53d1\u51fa\u8bf7\u6c42\u5230\u670d\u52a1\u7aef\u54cd\u5e94\u6570\u636e\u7ed9\u524d\u7aef\u4e4b\u540e\uff0c\u4e00\u6b21\u4f1a\u8bdd(\u5728\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u4e4b\u95f4)\u5c31\u88ab\u5efa\u7acb\u4e86"),(0,r.kt)("li",{parentName:"ul"},"\u4f1a\u8bdd\u88ab\u5efa\u7acb\u540e\uff0c\u5982\u679c\u6d4f\u89c8\u5668\u6216\u670d\u52a1\u7aef\u90fd\u6ca1\u6709\u88ab\u5173\u95ed\uff0c\u5219\u4f1a\u8bdd\u5c31\u4f1a\u6301\u7eed\u5efa\u7acb\u7740"),(0,r.kt)("li",{parentName:"ul"},"\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u5c31\u53ef\u4ee5\u7ee7\u7eed\u4f7f\u7528\u8be5\u4f1a\u8bdd\u8fdb\u884c\u8bf7\u6c42\u53d1\u9001\u548c\u54cd\u5e94\uff0c\u4e0a\u8ff0\u7684\u6574\u4e2a\u8fc7\u7a0b\u5c31\u88ab\u79f0\u4e4b\u4e3a==\u4f1a\u8bdd==\u3002")),(0,r.kt)("p",{parentName:"li"},"\u7528\u5b9e\u9645\u573a\u666f\u6765\u7406\u89e3\u4e0b\u4f1a\u8bdd\uff0c\u6bd4\u5982\u5728\u6211\u4eec\u8bbf\u95ee\u4eac\u4e1c\u7684\u65f6\u5019\uff0c\u5f53\u6253\u5f00\u6d4f\u89c8\u5668\u8fdb\u5165\u4eac\u4e1c\u9996\u9875\u540e\uff0c\u6d4f\u89c8\u5668\u548c\u4eac\u4e1c\u7684\u670d\u52a1\u5668\u4e4b\u95f4\u5c31\u5efa\u7acb\u4e86\u4e00\u6b21\u4f1a\u8bdd\uff0c\u540e\u9762\u7684\u641c\u7d22\u5546\u54c1,\u67e5\u770b\u5546\u54c1\u7684\u8be6\u60c5,\u52a0\u5165\u8d2d\u7269\u8f66\u7b49\u90fd\u662f\u5728\u8fd9\u4e00\u6b21\u4f1a\u8bdd\u4e2d\u5b8c\u6210\u3002"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u601d\u8003:\u4e0b\u56fe\u4e2d\u603b\u5171\u5efa\u7acb\u4e86\u51e0\u4e2a\u4f1a\u8bdd?"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108224958435.png",alt:"image-20230108224958435"})),(0,r.kt)("p",{parentName:"li"},"\u6bcf\u4e2a\u6d4f\u89c8\u5668\u90fd\u4f1a\u4e0e\u670d\u52a1\u7aef\u5efa\u7acb\u4e86\u4e00\u4e2a\u4f1a\u8bdd\uff0c\u52a0\u8d77\u6765\u603b\u5171\u662f==3==\u4e2a\u4f1a\u8bdd\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4f1a\u8bdd\u8ddf\u8e2a:\u4e00\u79cd\u7ef4\u62a4\u6d4f\u89c8\u5668\u72b6\u6001\u7684\u65b9\u6cd5\uff0c\u670d\u52a1\u5668\u9700\u8981\u8bc6\u522b\u591a\u6b21\u8bf7\u6c42\u662f\u5426\u6765\u81ea\u4e8e\u540c\u4e00\u6d4f\u89c8\u5668\uff0c\u4ee5\u4fbf\u5728\u540c\u4e00\u6b21\u4f1a\u8bdd\u7684\u591a\u6b21\u8bf7\u6c42\u95f4==\u5171\u4eab\u6570\u636e==\u3002"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u670d\u52a1\u5668\u4f1a\u6536\u5230\u591a\u4e2a\u8bf7\u6c42\uff0c\u8fd9\u591a\u4e2a\u8bf7\u6c42\u53ef\u80fd\u6765\u81ea\u591a\u4e2a\u6d4f\u89c8\u5668\uff0c\u5982\u4e0a\u56fe\u4e2d\u76846\u4e2a\u8bf7\u6c42\u6765\u81ea3\u4e2a\u6d4f\u89c8\u5668"),(0,r.kt)("li",{parentName:"ul"},"\u670d\u52a1\u5668\u9700\u8981\u7528\u6765\u8bc6\u522b\u8bf7\u6c42\u662f\u5426\u6765\u81ea\u540c\u4e00\u4e2a\u6d4f\u89c8\u5668"),(0,r.kt)("li",{parentName:"ul"},"\u670d\u52a1\u5668\u7528\u6765\u8bc6\u522b\u6d4f\u89c8\u5668\u7684\u8fc7\u7a0b\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5c31\u662f==\u4f1a\u8bdd\u8ddf\u8e2a=="),(0,r.kt)("li",{parentName:"ul"},"\u670d\u52a1\u5668\u8bc6\u522b\u6d4f\u89c8\u5668\u540e\u5c31\u53ef\u4ee5\u5728\u540c\u4e00\u4e2a\u4f1a\u8bdd\u4e2d\u591a\u6b21\u8bf7\u6c42\u4e4b\u95f4\u6765\u5171\u4eab\u6570\u636e")),(0,r.kt)("p",{parentName:"li"},"\u90a3\u4e48\u6211\u4eec\u53c8\u6709\u4e00\u4e2a\u95ee\u9898\u9700\u8981\u601d\u8003\uff0c\u4e00\u4e2a\u4f1a\u8bdd\u4e2d\u7684\u591a\u6b21\u8bf7\u6c42\u4e3a\u4ec0\u4e48\u8981\u5171\u4eab\u6570\u636e\u5462?\u6709\u4e86\u8fd9\u4e2a\u6570\u636e\u5171\u4eab\u529f\u80fd\u540e\u80fd\u5b9e\u73b0\u54ea\u4e9b\u529f\u80fd\u5462?"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u8d2d\u7269\u8f66: ",(0,r.kt)("inlineCode",{parentName:"p"},"\u52a0\u5165\u8d2d\u7269\u8f66"),"\u548c",(0,r.kt)("inlineCode",{parentName:"p"},"\u53bb\u8d2d\u7269\u8f66\u7ed3\u7b97"),"\u662f\u4e24\u6b21\u8bf7\u6c42\uff0c\u4f46\u662f\u540e\u9762\u8fd9\u6b21\u8bf7\u6c42\u8981\u60f3\u5c55\u793a\u524d\u4e00\u6b21\u8bf7\u6c42\u6240\u6dfb\u52a0\u7684\u5546\u54c1\uff0c\u5c31\u9700\u8981\u7528\u5230\u6570\u636e\u5171\u4eab\u3002"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108225313072.png",alt:"image-20230108225313072"}))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u9875\u9762\u5c55\u793a\u7528\u6237\u767b\u5f55\u4fe1\u606f:\u5f88\u591a\u7f51\u7ad9\uff0c\u767b\u5f55\u540e\u8bbf\u95ee\u591a\u4e2a\u529f\u80fd\u53d1\u9001\u591a\u6b21\u8bf7\u6c42\u540e\uff0c\u6d4f\u89c8\u5668\u4e0a\u90fd\u4f1a\u6709\u5f53\u524d\u767b\u5f55\u7528\u6237\u7684\u4fe1\u606f","[\u7528\u6237\u540d]","\uff0c\u6bd4\u5982\u767e\u5ea6\u3001\u4eac\u4e1c\u3001\u7801\u4e91\u7b49\u3002"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108225318642.png",alt:"image-20230108225318642"}))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u7f51\u7ad9\u767b\u5f55\u9875\u9762\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"\u8bb0\u4f4f\u6211"),"\u529f\u80fd:\u5f53\u7528\u6237\u767b\u5f55\u6210\u529f\u540e\uff0c\u52fe\u9009",(0,r.kt)("inlineCode",{parentName:"p"},"\u8bb0\u4f4f\u6211"),"\u6309\u94ae\u540e\u4e0b\u6b21\u518d\u767b\u5f55\u7684\u65f6\u5019\uff0c\u7f51\u7ad9\u5c31\u4f1a\u81ea\u52a8\u586b\u5145\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u7b80\u5316\u7528\u6237\u7684\u767b\u5f55\u64cd\u4f5c\uff0c\u591a\u6b21\u767b\u5f55\u5c31\u4f1a\u6709\u591a\u6b21\u8bf7\u6c42\uff0c\u4ed6\u4eec\u4e4b\u95f4\u4e5f\u6d89\u53ca\u5230\u5171\u4eab\u6570\u636e"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108225326658.png",alt:"image-20230108225326658"}))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u767b\u5f55\u9875\u9762\u7684\u9a8c\u8bc1\u7801\u529f\u80fd:\u751f\u6210\u9a8c\u8bc1\u7801\u548c\u8f93\u5165\u9a8c\u8bc1\u7801\u70b9\u51fb\u6ce8\u518c\u8fd9\u4e5f\u662f\u4e24\u6b21\u8bf7\u6c42\uff0c\u8fd9\u4e24\u6b21\u8bf7\u6c42\u7684\u6570\u636e\u4e4b\u95f4\u8981\u8fdb\u884c\u5bf9\u6bd4\uff0c\u76f8\u540c\u5219\u5141\u8bb8\u6ce8\u518c\uff0c\u4e0d\u540c\u5219\u62d2\u7edd\u6ce8\u518c\uff0c\u8be5\u529f\u80fd\u7684\u5b9e\u73b0\u4e5f\u9700\u8981\u5728\u540c\u4e00\u6b21\u4f1a\u8bdd\u4e2d\u5171\u4eab\u6570\u636e\u3002"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108225346836.png",alt:"image-20230108225346836"})))))),(0,r.kt)("p",{parentName:"li"},"\u901a\u8fc7\u8fd9\u51e0\u4e2a\u4f8b\u5b50\u7684\u8bb2\u89e3\uff0c\u76f8\u4fe1\u5927\u5bb6\u5bf9",(0,r.kt)("inlineCode",{parentName:"p"},"\u4f1a\u8bdd\u8ffd\u8e2a"),"\u6280\u672f\u5df2\u7ecf\u6709\u4e86\u4e00\u5b9a\u7684\u7406\u89e3\uff0c\u8be5\u6280\u672f\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\u4e5f\u975e\u5e38\u91cd\u8981\u3002\u90a3\u4e48\u63a5\u4e0b\u6765\u6211\u4eec\u5c31\u9700\u8981\u53bb\u5b66\u4e60\u4e0b",(0,r.kt)("inlineCode",{parentName:"p"},"\u4f1a\u8bdd\u8ddf\u8e2a"),"\u6280\u672f\uff0c\u5728\u5b66\u4e60\u8fd9\u4e9b\u6280\u672f\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u601d\u8003:\u4e3a\u4ec0\u4e48\u73b0\u5728\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u4e0d\u652f\u6301\u6570\u636e\u5171\u4eab\u5462?"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u4f7f\u7528\u7684\u662fHTTP\u8bf7\u6c42\u6765\u8fdb\u884c\u6570\u636e\u4f20\u8f93"),(0,r.kt)("li",{parentName:"ul"},"HTTP\u534f\u8bae\u662f==\u65e0\u72b6\u6001==\u7684\uff0c\u6bcf\u6b21\u6d4f\u89c8\u5668\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u65f6\uff0c\u670d\u52a1\u5668\u90fd\u4f1a\u5c06\u8be5\u8bf7\u6c42\u89c6\u4e3a==\u65b0\u7684==\u8bf7\u6c42"),(0,r.kt)("li",{parentName:"ul"},"HTTP\u534f\u8bae\u8bbe\u8ba1\u6210\u65e0\u72b6\u6001\u7684\u76ee\u7684\u662f\u8ba9\u6bcf\u6b21\u8bf7\u6c42\u4e4b\u95f4\u76f8\u4e92\u72ec\u7acb\uff0c\u4e92\u4e0d\u5f71\u54cd"),(0,r.kt)("li",{parentName:"ul"},"\u8bf7\u6c42\u4e0e\u8bf7\u6c42\u4e4b\u95f4\u72ec\u7acb\u540e\uff0c\u5c31\u65e0\u6cd5\u5b9e\u73b0\u591a\u6b21\u8bf7\u6c42\u4e4b\u95f4\u7684\u6570\u636e\u5171\u4eab")),(0,r.kt)("p",{parentName:"li"},"\u5206\u6790\u5b8c\u5177\u4f53\u7684\u539f\u56e0\u540e\uff0c\u90a3\u4e48\u8be5\u5982\u4f55\u5b9e\u73b0\u4f1a\u8bdd\u8ddf\u8e2a\u6280\u672f\u5462? \u5177\u4f53\u7684\u5b9e\u73b0\u65b9\u5f0f\u6709:"),(0,r.kt)("p",{parentName:"li"},"(1)\u5ba2\u6237\u7aef\u4f1a\u8bdd\u8ddf\u8e2a\u6280\u672f\uff1a==Cookie=="),(0,r.kt)("p",{parentName:"li"},"(2)\u670d\u52a1\u7aef\u4f1a\u8bdd\u8ddf\u8e2a\u6280\u672f\uff1a==Session=="),(0,r.kt)("p",{parentName:"li"},"\u8fd9\u4e24\u4e2a\u6280\u672f\u90fd\u53ef\u4ee5\u5b9e\u73b0\u4f1a\u8bdd\u8ddf\u8e2a\uff0c\u5b83\u4eec\u4e4b\u95f4\u6700\u5927\u7684\u533a\u522b:==Cookie\u662f\u5b58\u50a8\u5728\u6d4f\u89c8\u5668\u7aef\u800cSession\u662f\u5b58\u50a8\u5728\u670d\u52a1\u5668\u7aef=="),(0,r.kt)("p",{parentName:"li"},"\u5177\u4f53\u7684\u5b66\u4e60\u601d\u8def\u4e3a:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"CooKie\u7684\u57fa\u672c\u4f7f\u7528\u3001\u539f\u7406\u3001\u4f7f\u7528\u7ec6\u8282"),(0,r.kt)("li",{parentName:"ul"},"Session\u7684\u57fa\u672c\u4f7f\u7528\u3001\u539f\u7406\u3001\u4f7f\u7528\u7ec6\u8282"),(0,r.kt)("li",{parentName:"ul"},"Cookie\u548cSession\u7684\u7efc\u5408\u6848\u4f8b")),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u5c0f\u7ed3")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"HTTP\u534f\u8bae\u662f\u65e0\u72b6\u6001\u7684\uff0c\u9760HTTP\u534f\u8bae\u662f\u65e0\u6cd5\u5b9e\u73b0\u4f1a\u8bdd\u8ddf\u8e2a"),(0,r.kt)("li",{parentName:"ul"},"\u60f3\u8981\u5b9e\u73b0\u4f1a\u8bdd\u8ddf\u8e2a\uff0c\u5c31\u9700\u8981\u7528\u5230Cookie\u548cSession")),(0,r.kt)("p",{parentName:"li"},"\u8fd9\u4e2aCookie\u548cSession\u5177\u4f53\u8be5\u5982\u4f55\u4f7f\u7528\uff0c\u63a5\u4e0b\u6765\u5c31\u5148\u4eceCookie\u6765\u5b66\u8d77\u3002"))),(0,r.kt)("h2",{id:"2cookie"},"2\uff0cCookie"),(0,r.kt)("p",null,"\u5b66\u4e60Cookie\uff0c\u6211\u4eec\u4e3b\u8981\u89e3\u51b3\u4e0b\u9762\u51e0\u4e2a\u95ee\u9898:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u4ec0\u4e48\u662fCookie?"),(0,r.kt)("li",{parentName:"ul"},"Cookie\u5982\u4f55\u6765\u4f7f\u7528?"),(0,r.kt)("li",{parentName:"ul"},"Cookie\u662f\u5982\u4f55\u5b9e\u73b0\u7684?"),(0,r.kt)("li",{parentName:"ul"},"Cookie\u7684\u4f7f\u7528\u6ce8\u610f\u4e8b\u9879\u6709\u54ea\u4e9b?")),(0,r.kt)("h3",{id:"21-cookie\u7684\u57fa\u672c\u4f7f\u7528"},"2.1 Cookie\u7684\u57fa\u672c\u4f7f\u7528"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"1.\u6982\u5ff5")),(0,r.kt)("p",null,"==Cookie==\uff1a\u5ba2\u6237\u7aef\u4f1a\u8bdd\u6280\u672f\uff0c\u5c06\u6570\u636e\u4fdd\u5b58\u5230\u5ba2\u6237\u7aef\uff0c\u4ee5\u540e\u6bcf\u6b21\u8bf7\u6c42\u90fd\u643a\u5e26Cookie\u6570\u636e\u8fdb\u884c\u8bbf\u95ee\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"2.Cookie\u7684\u5de5\u4f5c\u6d41\u7a0b")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108225554968.png",alt:"image-20230108225554968"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u670d\u52a1\u7aef\u63d0\u4f9b\u4e86\u4e24\u4e2aServlet\uff0c\u5206\u522b\u662fServletA\u548cServletB"),(0,r.kt)("li",{parentName:"ul"},"\u6d4f\u89c8\u5668\u53d1\u9001HTTP\u8bf7\u6c421\u7ed9\u670d\u52a1\u7aef\uff0c\u670d\u52a1\u7aefServletA\u63a5\u6536\u8bf7\u6c42\u5e76\u8fdb\u884c\u4e1a\u52a1\u5904\u7406"),(0,r.kt)("li",{parentName:"ul"},"\u670d\u52a1\u7aefServletA\u5728\u5904\u7406\u7684\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2aCookie\u5bf9\u8c61\u5e76\u5c06",(0,r.kt)("inlineCode",{parentName:"li"},"name=zs"),"\u7684\u6570\u636e\u5b58\u5165Cookie"),(0,r.kt)("li",{parentName:"ul"},"\u670d\u52a1\u7aefServletA\u5728\u54cd\u5e94\u6570\u636e\u7684\u65f6\u5019\uff0c\u4f1a\u628aCookie\u5bf9\u8c61\u54cd\u5e94\u7ed9\u6d4f\u89c8\u5668"),(0,r.kt)("li",{parentName:"ul"},"\u6d4f\u89c8\u5668\u63a5\u6536\u5230\u54cd\u5e94\u6570\u636e\uff0c\u4f1a\u628aCookie\u5bf9\u8c61\u4e2d\u7684\u6570\u636e\u5b58\u50a8\u5728\u6d4f\u89c8\u5668\u5185\u5b58\u4e2d\uff0c\u6b64\u65f6\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u7aef\u5c31==\u5efa\u7acb\u4e86\u4e00\u6b21\u4f1a\u8bdd=="),(0,r.kt)("li",{parentName:"ul"},"==\u5728\u540c\u4e00\u6b21\u4f1a\u8bdd==\u4e2d\u6d4f\u89c8\u5668\u518d\u6b21\u53d1\u9001HTTP\u8bf7\u6c422\u7ed9\u670d\u52a1\u7aefServletB\uff0c\u6d4f\u89c8\u5668\u4f1a\u643a\u5e26Cookie\u5bf9\u8c61\u4e2d\u7684\u6240\u6709\u6570\u636e"),(0,r.kt)("li",{parentName:"ul"},"ServletB\u63a5\u6536\u5230\u8bf7\u6c42\u548c\u6570\u636e\u540e\uff0c\u5c31\u53ef\u4ee5\u83b7\u53d6\u5230\u5b58\u50a8\u5728Cookie\u5bf9\u8c61\u4e2d\u7684\u6570\u636e\uff0c\u8fd9\u6837\u540c\u4e00\u4e2a\u4f1a\u8bdd\u4e2d\u7684\u591a\u6b21\u8bf7\u6c42\u4e4b\u95f4\u5c31\u5b9e\u73b0\u4e86\u6570\u636e\u5171\u4eab")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"3.Cookie\u7684\u57fa\u672c\u4f7f\u7528")),(0,r.kt)("p",null,"\u5bf9\u4e8eCookie\u7684\u4f7f\u7528\uff0c\u6211\u4eec\u66f4\u5173\u6ce8\u7684\u5e94\u8be5\u662f\u540e\u53f0\u4ee3\u7801\u5982\u4f55\u64cd\u4f5cCookie\uff0c\u5bf9\u4e8eCookie\u7684\u64cd\u4f5c\u4e3b\u8981\u5206\u4e24\u5927\u7c7b\uff0c\u672c\u522b\u662f==\u53d1\u9001Cookie==\u548c==\u83b7\u53d6Cookie==,\u5bf9\u4e8e\u4e0a\u9762\u8fd9\u4e24\u5757\u5185\u5bb9\uff0c\u5206\u522b\u8be5\u5982\u4f55\u5b9e\u73b0\u5462?"),(0,r.kt)("p",null,"3.1 \u53d1\u9001Cookie"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u521b\u5efaCookie\u5bf9\u8c61\uff0c\u5e76\u8bbe\u7f6e\u6570\u636e")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'Cookie cookie = new Cookie("key","value");\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u53d1\u9001Cookie\u5230\u5ba2\u6237\u7aef\uff1a\u4f7f\u7528==response==\u5bf9\u8c61")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"response.addCookie(cookie);\n")),(0,r.kt)("p",null,"\u4ecb\u7ecd\u5b8c\u53d1\u9001Cookie\u5bf9\u5e94\u7684\u6b65\u9aa4\u540e\uff0c\u63a5\u4e0b\u9762\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u6765\u5b8c\u6210Cookie\u7684\u53d1\u9001\uff0c\u5177\u4f53\u5b9e\u73b0\u6b65\u9aa4\u4e3a:"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u9700\u6c42:\u5728Servlet\u4e2d\u751f\u6210Cookie\u5bf9\u8c61\u5e76\u5b58\u5165\u6570\u636e\uff0c\u7136\u540e\u5c06\u6570\u636e\u53d1\u9001\u7ed9\u6d4f\u89c8\u5668"),(0,r.kt)("p",{parentName:"blockquote"},"1.\u521b\u5efaMaven\u9879\u76ee,\u9879\u76ee\u540d\u79f0\u4e3acookie-demo\uff0c\u5e76\u5728pom.xml\u6dfb\u52a0\u4f9d\u8d56"),(0,r.kt)("p",{parentName:"blockquote"},"2.\u7f16\u5199Servlet\u7c7b\uff0c\u540d\u79f0\u4e3aAServlet"),(0,r.kt)("p",{parentName:"blockquote"},"3.\u5728AServlet\u4e2d\u521b\u5efaCookie\u5bf9\u8c61\uff0c\u5b58\u5165\u6570\u636e\uff0c\u53d1\u9001\u7ed9\u524d\u7aef"),(0,r.kt)("p",{parentName:"blockquote"},"4.\u542f\u52a8\u6d4b\u8bd5\uff0c\u5728\u6d4f\u89c8\u5668\u67e5\u770bCookie\u5bf9\u8c61\u4e2d\u7684\u503c")),(0,r.kt)("p",null,"(1)\u521b\u5efaMaven\u9879\u76eecookie-demo\uff0c\u5e76\u5728pom.xml\u6dfb\u52a0\u4f9d\u8d56"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<properties>\n    <maven.compiler.source>8</maven.compiler.source>\n    <maven.compiler.target>8</maven.compiler.target>\n</properties>\n\n<dependencies>\n    \x3c!--servlet--\x3e\n    <dependency>\n        <groupId>javax.servlet</groupId>\n        <artifactId>javax.servlet-api</artifactId>\n        <version>3.1.0</version>\n        <scope>provided</scope>\n    </dependency>\n    \x3c!--jsp--\x3e\n    <dependency>\n        <groupId>javax.servlet.jsp</groupId>\n        <artifactId>jsp-api</artifactId>\n        <version>2.2</version>\n        <scope>provided</scope>\n    </dependency>\n    \x3c!--jstl--\x3e\n    <dependency>\n        <groupId>jstl</groupId>\n        <artifactId>jstl</artifactId>\n        <version>1.2</version>\n    </dependency>\n    <dependency>\n        <groupId>taglibs</groupId>\n        <artifactId>standard</artifactId>\n        <version>1.1.2</version>\n    </dependency>\n</dependencies>\n<build>\n    <plugins>\n        <plugin>\n            <groupId>org.apache.tomcat.maven</groupId>\n            <artifactId>tomcat7-maven-plugin</artifactId>\n            <version>2.2</version>\n        </plugin>\n    </plugins>\n</build>\n")),(0,r.kt)("p",null,"(2)\u7f16\u5199Servlet\u7c7b\uff0c\u540d\u79f0\u4e3aAServlet"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/aServlet")\npublic class AServlet extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("p",null,"(3)\u5728Servlet\u4e2d\u521b\u5efaCookie\u5bf9\u8c61\uff0c\u5b58\u5165\u6570\u636e\uff0c\u53d1\u9001\u7ed9\u524d\u7aef"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/aServlet")\npublic class AServlet extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        //\u53d1\u9001Cookie\n        //1. \u521b\u5efaCookie\u5bf9\u8c61\n        Cookie cookie = new Cookie("username","zs");\n        //2. \u53d1\u9001Cookie\uff0cresponse\n        response.addCookie(cookie);\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("p",null,"\uff084\uff09\u542f\u52a8\u6d4b\u8bd5\uff0c\u5728\u6d4f\u89c8\u5668\u67e5\u770bCookie\u5bf9\u8c61\u4e2d\u7684\u503c"),(0,r.kt)("p",null,"\u8bbf\u95ee",(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/cookie-demo/aServlet")),(0,r.kt)("p",null,"chrome\u6d4f\u89c8\u5668\u67e5\u770bCookie\u7684\u503c\uff0c\u6709\u4e24\u79cd\u65b9\u5f0f,\u5206\u5e03\u5f0f:"),(0,r.kt)("p",null,"\u65b9\u5f0f\u4e00:"),(0,r.kt)("p",null,"\u65b9\u5f0f\u4e8c:\u9009\u4e2d\u6253\u5f00\u5f00\u53d1\u8005\u5de5\u5177\u6216\u8005 \u4f7f\u7528\u5feb\u6377\u952eF12 \u6216\u8005 Ctrl+Shift+I"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108230301638.png",alt:"image-20230108230301638"})),(0,r.kt)("p",null,"3.2 \u83b7\u53d6Cookie"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u83b7\u53d6\u5ba2\u6237\u7aef\u643a\u5e26\u7684\u6240\u6709Cookie\uff0c\u4f7f\u7528==request==\u5bf9\u8c61")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Cookie[] cookies = request.getCookies();\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u904d\u5386\u6570\u7ec4\uff0c\u83b7\u53d6\u6bcf\u4e00\u4e2aCookie\u5bf9\u8c61\uff1afor"),(0,r.kt)("li",{parentName:"ul"},"\u4f7f\u7528Cookie\u5bf9\u8c61\u65b9\u6cd5\u83b7\u53d6\u6570\u636e")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"cookie.getName();\ncookie.getValue();\n")),(0,r.kt)("p",null,"\u4ecb\u7ecd\u5b8c\u83b7\u53d6Cookie\u5bf9\u5e94\u7684\u6b65\u9aa4\u540e\uff0c\u63a5\u4e0b\u9762\u518d\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u6765\u5b8c\u6210Cookie\u7684\u83b7\u53d6\uff0c\u5177\u4f53\u5b9e\u73b0\u6b65\u9aa4\u4e3a:"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u9700\u6c42:\u5728Servlet\u4e2d\u83b7\u53d6\u524d\u4e00\u4e2a\u6848\u4f8b\u5b58\u5165\u5728Cookie\u5bf9\u8c61\u4e2d\u7684\u6570\u636e"),(0,r.kt)("p",{parentName:"blockquote"},"1.\u7f16\u5199\u4e00\u4e2a\u65b0Servlet\u7c7b\uff0c\u540d\u79f0\u4e3aBServlet"),(0,r.kt)("p",{parentName:"blockquote"},"2.\u5728BServlet\u4e2d\u4f7f\u7528request\u5bf9\u8c61\u83b7\u53d6Cookie\u6570\u7ec4\uff0c\u904d\u5386\u6570\u7ec4\uff0c\u4ece\u6570\u636e\u4e2d\u83b7\u53d6\u6307\u5b9a\u540d\u79f0\u5bf9\u5e94\u7684\u503c"),(0,r.kt)("p",{parentName:"blockquote"},"3.\u542f\u52a8\u6d4b\u8bd5\uff0c\u5728\u63a7\u5236\u53f0\u6253\u5370\u51fa\u83b7\u53d6\u7684\u503c")),(0,r.kt)("p",null,"(1)\u7f16\u5199\u4e00\u4e2a\u65b0Servlet\u7c7b\uff0c\u540d\u79f0\u4e3aBServlet"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/bServlet")\npublic class BServlet extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("p",null,"\uff082\uff09\u5728BServlet\u4e2d\u4f7f\u7528request\u5bf9\u8c61\u83b7\u53d6Cookie\u6570\u7ec4\uff0c\u904d\u5386\u6570\u7ec4\uff0c\u4ece\u6570\u636e\u4e2d\u83b7\u53d6\u6307\u5b9a\u540d\u79f0\u5bf9\u5e94\u7684\u503c"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/bServlet")\npublic class BServlet extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        //\u83b7\u53d6Cookie\n        //1. \u83b7\u53d6Cookie\u6570\u7ec4\n        Cookie[] cookies = request.getCookies();\n        //2. \u904d\u5386\u6570\u7ec4\n        for (Cookie cookie : cookies) {\n            //3. \u83b7\u53d6\u6570\u636e\n            String name = cookie.getName();\n            if("username".equals(name)){\n                String value = cookie.getValue();\n                System.out.println(name+":"+value);\n                break;\n            }\n        }\n\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("p",null,"\uff083\uff09\u542f\u52a8\u6d4b\u8bd5\uff0c\u5728\u63a7\u5236\u53f0\u6253\u5370\u51fa\u83b7\u53d6\u7684\u503c"),(0,r.kt)("p",null,"\u8bbf\u95ee",(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/cookie-demo/bServlet")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108230612058.png",alt:"image-20230108230612058"})),(0,r.kt)("p",null,"\u5728IDEA\u63a7\u5236\u53f0\u5c31\u80fd\u770b\u5230\u8f93\u51fa\u7684\u7ed3\u679c:"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108230622844.png",alt:"image-20230108230622844"})),(0,r.kt)("p",null,"==\u601d\u8003:==\u6d4b\u8bd5\u7684\u65f6\u5019"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5728\u8bbf\u95eeAServlet\u548cBServlet\u7684\u4e2d\u95f4\u628a\u5173\u95ed\u6d4f\u89c8\u5668,\u91cd\u542f\u6d4f\u89c8\u5668\u540e\u8bbf\u95eeBServlet\u80fd\u5426\u83b7\u53d6\u5230Cookie\u4e2d\u7684\u6570\u636e?")),(0,r.kt)("p",null,"\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u4f1a\u5728Cookie\u7684\u4f7f\u7528\u7ec6\u8282\u4e2d\u8bb2\uff0c\u5927\u5bb6\u53ef\u4ee5\u52a8\u624b\u5148\u8bd5\u4e0b\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5c0f\u7ed3")),(0,r.kt)("p",null,"\u5728\u8fd9\u8282\u4e2d\uff0c\u6211\u4eec\u4e3b\u8981\u8bb2\u89e3\u4e86Cookie\u7684\u57fa\u672c\u4f7f\u7528,\u5305\u542b\u4e24\u90e8\u5206\u5185\u5bb9"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u53d1\u9001Cookie:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},'\u521b\u5efaCookie\u5bf9\u8c61\uff0c\u5e76\u8bbe\u7f6e\u503c:Cookie cookie = new Cookie("key","value");'),(0,r.kt)("li",{parentName:"ul"},"\u53d1\u9001Cookie\u5230\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u662fReponse\u5bf9\u8c61:response.addCookie(cookie);"))),(0,r.kt)("li",{parentName:"ul"},"\u83b7\u53d6Cookie:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u4f7f\u7528Request\u5bf9\u8c61\u83b7\u53d6Cookie\u6570\u7ec4:Cookie[] cookies = request.getCookies();"),(0,r.kt)("li",{parentName:"ul"},"\u904d\u5386\u6570\u7ec4"),(0,r.kt)("li",{parentName:"ul"},"\u83b7\u53d6\u6570\u7ec4\u4e2d\u6bcf\u4e2aCookie\u5bf9\u8c61\u7684\u503c:cookie.getName()\u548ccookie.getValue()")))),(0,r.kt)("p",null,"\u4ecb\u7ecd\u5b8cCookie\u7684\u57fa\u672c\u4f7f\u7528\u4e4b\u540e\uff0c\u90a3\u4e48Cookie\u7684\u5e95\u5c42\u5230\u5e95\u662f\u5982\u4f55\u5b9e\u73b0\u4e00\u6b21\u4f1a\u8bdd\u4e24\u6b21\u8bf7\u6c42\u4e4b\u95f4\u7684\u6570\u636e\u5171\u4eab\u5462?"),(0,r.kt)("h3",{id:"22-cookie\u7684\u539f\u7406\u5206\u6790"},"2.2 Cookie\u7684\u539f\u7406\u5206\u6790"),(0,r.kt)("p",null,"\u5bf9\u4e8eCookie\u7684\u5b9e\u73b0\u539f\u7406\u662f\u57fa\u4e8eHTTP\u534f\u8bae\u7684,\u5176\u4e2d\u8bbe\u8ba1\u5230HTTP\u534f\u8bae\u4e2d\u7684\u4e24\u4e2a\u8bf7\u6c42\u5934\u4fe1\u606f:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u54cd\u5e94\u5934:set-cookie"),(0,r.kt)("li",{parentName:"ul"},"\u8bf7\u6c42\u5934: cookie")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108225756639.png",alt:"image-20230108225756639"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u524d\u9762\u7684\u6848\u4f8b\u4e2d\u5df2\u7ecf\u80fd\u591f\u5b9e\u73b0\uff0cAServlet\u7ed9\u524d\u7aef\u53d1\u9001Cookie,BServlet\u4ecerequest\u4e2d\u83b7\u53d6Cookie\u7684\u529f\u80fd"),(0,r.kt)("li",{parentName:"ul"},"\u5bf9\u4e8eAServlet\u54cd\u5e94\u6570\u636e\u7684\u65f6\u5019\uff0cTomcat\u670d\u52a1\u5668\u90fd\u662f\u57fa\u4e8eHTTP\u534f\u8bae\u6765\u54cd\u5e94\u6570\u636e"),(0,r.kt)("li",{parentName:"ul"},"\u5f53Tomcat\u53d1\u73b0\u540e\u7aef\u8981\u8fd4\u56de\u7684\u662f\u4e00\u4e2aCookie\u5bf9\u8c61\u4e4b\u540e\uff0cTomcat\u5c31\u4f1a\u5728\u54cd\u5e94\u5934\u4e2d\u6dfb\u52a0\u4e00\u884c\u6570\u636e==",(0,r.kt)("inlineCode",{parentName:"li"},"Set-Cookie:username=zs"),"=="),(0,r.kt)("li",{parentName:"ul"},"\u6d4f\u89c8\u5668\u83b7\u53d6\u5230\u54cd\u5e94\u7ed3\u679c\u540e\uff0c\u4ece\u54cd\u5e94\u5934\u4e2d\u5c31\u53ef\u4ee5\u83b7\u53d6\u5230",(0,r.kt)("inlineCode",{parentName:"li"},"Set-Cookie"),"\u5bf9\u5e94\u503c",(0,r.kt)("inlineCode",{parentName:"li"},"username=zs"),",\u5e76\u5c06\u6570\u636e\u5b58\u50a8\u5728\u6d4f\u89c8\u5668\u7684\u5185\u5b58\u4e2d"),(0,r.kt)("li",{parentName:"ul"},"\u6d4f\u89c8\u5668\u518d\u6b21\u53d1\u9001\u8bf7\u6c42\u7ed9BServlet\u7684\u65f6\u5019\uff0c\u6d4f\u89c8\u5668\u4f1a\u81ea\u52a8\u5728\u8bf7\u6c42\u5934\u4e2d\u6dfb\u52a0==",(0,r.kt)("inlineCode",{parentName:"li"},"Cookie: username=zs"),"==\u53d1\u9001\u7ed9\u670d\u52a1\u7aefBServlet"),(0,r.kt)("li",{parentName:"ul"},"Request\u5bf9\u8c61\u4f1a\u628a\u8bf7\u6c42\u5934\u4e2dcookie\u5bf9\u5e94\u7684\u503c\u5c01\u88c5\u6210\u4e00\u4e2a\u4e2aCookie\u5bf9\u8c61\uff0c\u6700\u7ec8\u5f62\u6210\u4e00\u4e2a\u6570\u7ec4"),(0,r.kt)("li",{parentName:"ul"},"BServlet\u901a\u8fc7Request\u5bf9\u8c61\u83b7\u53d6\u5230Cookie[]\u540e\uff0c\u5c31\u53ef\u4ee5\u4ece\u4e2d\u83b7\u53d6\u81ea\u5df1\u9700\u8981\u7684\u6570\u636e")),(0,r.kt)("p",null,"\u63a5\u4e0b\u6765\uff0c\u4f7f\u7528\u521a\u624d\u7684\u6848\u4f8b\uff0c\u628a\u4e0a\u8ff0\u7ed3\u8bba\u9a8c\u8bc1\u4e0b:"),(0,r.kt)("p",null,"(1)\u8bbf\u95eeAServlet\u5bf9\u5e94\u7684\u5730\u5740",(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/cookie-demo/aServlet")),(0,r.kt)("p",null,"\u4f7f\u7528Chrom\u6d4f\u89c8\u5668\u6253\u5f00\u5f00\u53d1\u8005\u5de5\u5177(F12\u6216Crtl+Shift+I)\u8fdb\u884c\u67e5\u770b==\u54cd\u5e94\u5934==\u4e2d\u7684\u6570\u636e"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108225817776.png",alt:"image-20230108225817776"})),(0,r.kt)("p",null,"\uff082\uff09\u8bbf\u95eeBServlet\u5bf9\u5e94\u7684\u5730\u5740`http://localhost:8080/cookie-demo/bServlet"),(0,r.kt)("p",null,"\u4f7f\u7528Chrom\u6d4f\u89c8\u5668\u6253\u5f00\u5f00\u53d1\u8005\u5de5\u5177(F12\u6216Crtl+Shift+I)\u8fdb\u884c\u67e5\u770b==\u8bf7\u6c42\u5934==\u4e2d\u7684\u6570\u636e"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108225832684.png",alt:"image-20230108225832684"})),(0,r.kt)("h3",{id:"23-cookie\u7684\u4f7f\u7528\u7ec6\u8282"},"2.3 Cookie\u7684\u4f7f\u7528\u7ec6\u8282"),(0,r.kt)("p",null,"\u5728\u8fd9\u8282\u6211\u4eec\u4e3b\u8981\u8bb2\u89e3\u4e24\u4e2a\u77e5\u8bc6\uff0c\u7b2c\u4e00\u4e2a\u662fCookie\u7684\u5b58\u6d3b\u65f6\u95f4\uff0c\u7b2c\u4e8c\u4e2a\u662fCookie\u5982\u4f55\u5b58\u50a8\u4e2d\u6587\uff0c\u9996\u5148\u6765\u5b66\u4e60\u4e0bCookie\u7684\u5b58\u6d3b\u65f6\u95f4\u3002"),(0,r.kt)("h4",{id:"231-cookie\u7684\u5b58\u6d3b\u65f6\u95f4"},"2.3.1 Cookie\u7684\u5b58\u6d3b\u65f6\u95f4"),(0,r.kt)("p",null,"\u524d\u9762\u8ba9\u5927\u5bb6\u601d\u8003\u8fc7\u4e00\u4e2a\u95ee\u9898:"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108234410303.png",alt:"image-20230108234410303"})),(0,r.kt)("p",null,"(1)\u6d4f\u89c8\u5668\u53d1\u9001\u8bf7\u6c42\u7ed9AServlet,AServlet\u4f1a\u54cd\u5e94\u4e00\u4e2a\u5b58\u6709",(0,r.kt)("inlineCode",{parentName:"p"},"usernanme=zs"),"\u7684Cookie\u5bf9\u8c61\u7ed9\u6d4f\u89c8\u5668"),(0,r.kt)("p",null,"(2)\u6d4f\u89c8\u5668\u63a5\u6536\u5230\u54cd\u5e94\u6570\u636e\u5c06cookie\u5b58\u5165\u5230\u6d4f\u89c8\u5668\u5185\u5b58\u4e2d"),(0,r.kt)("p",null,"(3)\u5f53\u6d4f\u89c8\u5668\u518d\u6b21\u53d1\u9001\u8bf7\u6c42\u7ed9BServlet,BServlet\u5c31\u53ef\u4ee5\u4f7f\u7528Request\u5bf9\u8c61\u83b7\u53d6\u5230Cookie\u6570\u636e"),(0,r.kt)("p",null,"(4)\u5728\u53d1\u9001\u8bf7\u6c42\u5230BServlet\u4e4b\u524d\uff0c\u5982\u679c\u628a\u6d4f\u89c8\u5668\u5173\u95ed\u518d\u6253\u5f00\u8fdb\u884c\u8bbf\u95ee\uff0cBServlet\u80fd\u5426\u83b7\u53d6\u5230Cookie\u6570\u636e?"),(0,r.kt)("p",null,"==\u6ce8\u610f\uff1a\u6d4f\u89c8\u5668\u5173\u95ed\u518d\u6253\u5f00\u4e0d\u662f\u6307\u6253\u5f00\u4e00\u4e2a\u65b0\u7684\u9009\u663e\u5361\uff0c\u800c\u4e14\u5fc5\u987b\u662f\u5148\u5173\u95ed\u518d\u6253\u5f00\uff0c\u987a\u5e8f\u4e0d\u80fd\u53d8\u3002=="),(0,r.kt)("p",null,"\u9488\u5bf9\u4e0a\u9762\u8fd9\u4e2a\u95ee\u9898\uff0c\u901a\u8fc7\u6f14\u793a\uff0c\u4f1a\u53d1\u73b0\uff0cBServlet\u4e2d\u65e0\u6cd5\u518d\u83b7\u53d6\u5230Cookie\u6570\u636e\uff0c\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462?"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cCookie\u5b58\u50a8\u5728\u6d4f\u89c8\u5668\u5185\u5b58\u4e2d\uff0c\u5f53\u6d4f\u89c8\u5668\u5173\u95ed\uff0c\u5185\u5b58\u91ca\u653e\uff0c\u5219Cookie\u88ab\u9500\u6bc1")),(0,r.kt)("p",null,"\u8fd9\u4e2a\u7ed3\u8bba\u5c31\u5370\u8bc1\u4e86\u4e0a\u9762\u7684\u6f14\u793a\u6548\u679c\uff0c\u4f46\u662f\u5982\u679c\u4f7f\u7528\u8fd9\u79cd\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u7684Cookie,\u6709\u4e9b\u9700\u6c42\u5c31\u65e0\u6cd5\u5b9e\u73b0\uff0c\u6bd4\u5982:"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108234427474.png",alt:"image-20230108234427474"})),(0,r.kt)("p",null,"\u4e0a\u9762\u8fd9\u4e2a\u7f51\u7ad9\u7684\u767b\u5f55\u9875\u9762\u4e0a\u6709\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"\u8bb0\u4f4f\u6211"),"\u7684\u529f\u80fd\uff0c\u8fd9\u4e2a\u529f\u80fd\u5927\u5bb6\u90fd\u6bd4\u8f83\u719f\u6089"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u7b2c\u4e00\u6b21\u8f93\u5165\u7528\u6237\u540d\u548c\u5bc6\u7801\u5e76\u52fe\u9009",(0,r.kt)("inlineCode",{parentName:"li"},"\u8bb0\u4f4f\u6211"),"\u7136\u540e\u8fdb\u884c\u767b\u5f55"),(0,r.kt)("li",{parentName:"ul"},"\u4e0b\u6b21\u518d\u767b\u9646\u7684\u65f6\u5019\uff0c\u7528\u6237\u540d\u548c\u5bc6\u7801\u5c31\u4f1a\u88ab\u81ea\u52a8\u586b\u5145\uff0c\u4e0d\u9700\u8981\u518d\u91cd\u65b0\u8f93\u5165\u767b\u5f55"),(0,r.kt)("li",{parentName:"ul"},"\u6bd4\u5982",(0,r.kt)("inlineCode",{parentName:"li"},"\u8bb0\u4f4f\u6211"),"\u8fd9\u4e2a\u529f\u80fd\u9700\u8981\u8bb0\u4f4f\u7528\u6237\u540d\u548c\u5bc6\u7801\u4e00\u4e2a\u661f\u671f\uff0c\u90a3\u4e48\u4f7f\u7528\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u7684Cookie\u5c31\u4f1a\u51fa\u73b0\u95ee\u9898"),(0,r.kt)("li",{parentName:"ul"},"\u56e0\u4e3a\u9ed8\u8ba4\u60c5\u51b5\uff0c\u6d4f\u89c8\u5668\u4e00\u5173\uff0cCookie\u5c31\u4f1a\u4ece\u6d4f\u89c8\u5668\u5185\u5b58\u4e2d\u5220\u9664\uff0c\u5bf9\u4e8e",(0,r.kt)("inlineCode",{parentName:"li"},"\u8bb0\u4f4f\u6211"),"\u529f\u80fd\u5c31\u65e0\u6cd5\u5b9e\u73b0")),(0,r.kt)("p",null,"\u6240\u4ee5\u6211\u4eec\u73b0\u5728\u5c31\u9047\u5230\u4e00\u4e2a\u96be\u9898\u662f\u5982\u4f55\u5c06Cookie\u6301\u4e45\u5316\u5b58\u50a8?"),(0,r.kt)("p",null,"Cookie\u5176\u5b9e\u5df2\u7ecf\u4e3a\u6211\u4eec\u63d0\u4f9b\u597d\u4e86\u5bf9\u5e94\u7684API\u6765\u5b8c\u6210\u8fd9\u4ef6\u4e8b\uff0c\u8fd9\u4e2aAPI\u5c31\u662f==setMaxAge==,"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u8bbe\u7f6eCookie\u5b58\u6d3b\u65f6\u95f4")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"setMaxAge(int seconds)\n")),(0,r.kt)("p",null,"\u53c2\u6570\u503c\u4e3a:"),(0,r.kt)("p",null,"1.\u6b63\u6570\uff1a\u5c06Cookie\u5199\u5165\u6d4f\u89c8\u5668\u6240\u5728\u7535\u8111\u7684\u786c\u76d8\uff0c\u6301\u4e45\u5316\u5b58\u50a8\u3002\u5230\u65f6\u95f4\u81ea\u52a8\u5220\u9664"),(0,r.kt)("p",null,"2.\u8d1f\u6570\uff1a\u9ed8\u8ba4\u503c\uff0cCookie\u5728\u5f53\u524d\u6d4f\u89c8\u5668\u5185\u5b58\u4e2d\uff0c\u5f53\u6d4f\u89c8\u5668\u5173\u95ed\uff0c\u5219Cookie\u88ab\u9500\u6bc1"),(0,r.kt)("p",null,"3.\u96f6\uff1a\u5220\u9664\u5bf9\u5e94Cookie"),(0,r.kt)("p",null,"\u63a5\u4e0b\u6765\uff0c\u54b1\u4eec\u5c31\u5728AServlet\u4e2d\u53bb\u8bbe\u7f6eCookie\u7684\u5b58\u6d3b\u65f6\u95f4\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/aServlet")\npublic class AServlet extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        //\u53d1\u9001Cookie\n        //1. \u521b\u5efaCookie\u5bf9\u8c61\n        Cookie cookie = new Cookie("username","zs");\n        //\u8bbe\u7f6e\u5b58\u6d3b\u65f6\u95f4   \uff0c1\u5468 7\u5929\n        cookie.setMaxAge(60*60*24*7); //\u6613\u9605\u8bfb\uff0c\u9700\u7a0b\u5e8f\u8ba1\u7b97\n        //cookie.setMaxAge(604800); //\u4e0d\u6613\u9605\u8bfb(\u53ef\u4ee5\u4f7f\u7528\u6ce8\u89e3\u5f25\u8865)\uff0c\u7a0b\u5e8f\u5c11\u8fdb\u884c\u4e00\u6b21\u8ba1\u7b97\n        //2. \u53d1\u9001Cookie\uff0cresponse\n        response.addCookie(cookie);\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("p",null,"\u4fee\u6539\u5b8c\u4ee3\u7801\u540e\uff0c\u542f\u52a8\u6d4b\u8bd5\uff0c\u8bbf\u95ee",(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/cookie-demo/aServlet")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u8bbf\u95ee\u4e00\u4e2aAServlet\u540e\uff0c\u628a\u6d4f\u89c8\u5668\u5173\u95ed\u91cd\u542f\u540e\uff0c\u518d\u53bb\u8bbf\u95ee",(0,r.kt)("inlineCode",{parentName:"li"},"http://localhost:8080/cookie-demo/bServet"),",\u80fd\u5728\u63a7\u5236\u53f0\u6253\u5370\u51fa",(0,r.kt)("inlineCode",{parentName:"li"},"username:zs"),",\u8bf4\u660eCookie\u6ca1\u6709\u968f\u7740\u6d4f\u89c8\u5668\u5173\u95ed\u800c\u88ab\u9500\u6bc1"),(0,r.kt)("li",{parentName:"ul"},"\u901a\u8fc7\u6d4f\u89c8\u5668\u67e5\u770bCookie\u7684\u5185\u5bb9\uff0c\u4f1a\u53d1\u73b0Cookie\u7684\u76f8\u5173\u4fe1\u606f")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108234450405.png",alt:"image-20230108234450405"})),(0,r.kt)("h4",{id:"232-cookie\u5b58\u50a8\u4e2d\u6587"},"2.3.2 Cookie\u5b58\u50a8\u4e2d\u6587"),(0,r.kt)("p",null,"\u9996\u5148\uff0c\u5148\u6765\u6f14\u793a\u4e00\u4e2a\u6548\u679c\uff0c\u5c06\u4e4b\u524d",(0,r.kt)("inlineCode",{parentName:"p"},"username=zs"),"\u7684\u503c\u6539\u6210",(0,r.kt)("inlineCode",{parentName:"p"},"username=\u5f20\u4e09"),"\uff0c\u628a\u6c49\u5b57",(0,r.kt)("inlineCode",{parentName:"p"},"\u5f20\u4e09"),"\u5b58\u5165\u5230Cookie\u4e2d\uff0c\u770b\u662f\u4ec0\u4e48\u6548\u679c:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/aServlet")\npublic class AServlet extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        //\u53d1\u9001Cookie\n        String value = "\u5f20\u4e09";\n        Cookie cookie = new Cookie("username",value);\n        //\u8bbe\u7f6e\u5b58\u6d3b\u65f6\u95f4   \uff0c1\u5468 7\u5929\n        cookie.setMaxAge(60*60*24*7);\n        //2. \u53d1\u9001Cookie\uff0cresponse\n        response.addCookie(cookie);\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("p",null,"\u542f\u52a8\u8bbf\u95ee\u6d4b\u8bd5\uff0c\u8bbf\u95ee",(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/cookie-demo/aServlet"),"\u4f1a\u53d1\u73b0\u6d4f\u89c8\u5668\u4f1a\u63d0\u793a\u9519\u8bef\u4fe1\u606f"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230108234503568.png",alt:"image-20230108234503568"})),(0,r.kt)("p",null,"\u901a\u8fc7\u4e0a\u9762\u7684\u6848\u4f8b\u6f14\u793a\uff0c\u6211\u4eec\u5f97\u5230\u4e00\u4e2a\u7ed3\u8bba:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Cookie\u4e0d\u80fd\u76f4\u63a5\u5b58\u50a8\u4e2d\u6587")),(0,r.kt)("p",null,"Cookie\u4e0d\u80fd\u5b58\u50a8\u4e2d\u6587\uff0c\u4f46\u662f\u5982\u679c\u6709\u8fd9\u65b9\u9762\u7684\u9700\u6c42\uff0c\u8fd9\u4e2a\u65f6\u5019\u8be5\u5982\u4f55\u89e3\u51b3\u5462?"),(0,r.kt)("p",null,"\u8fd9\u4e2a\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e4b\u524d\u5b66\u8fc7\u7684\u4e00\u4e2a\u77e5\u8bc6\u70b9\u53eb",(0,r.kt)("inlineCode",{parentName:"p"},"URL\u7f16\u7801"),"\uff0c\u6240\u4ee5\u5982\u679c\u9700\u8981\u5b58\u50a8\u4e2d\u6587\uff0c\u5c31\u9700\u8981\u8fdb\u884c\u8f6c\u7801\uff0c\u5177\u4f53\u7684\u5b9e\u73b0\u601d\u8def\u4e3a:"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"1.\u5728AServlet\u4e2d\u5bf9\u4e2d\u6587\u8fdb\u884cURL\u7f16\u7801\uff0c\u91c7\u7528URLEncoder.encode()\uff0c\u5c06\u7f16\u7801\u540e\u7684\u503c\u5b58\u5165Cookie\u4e2d"),(0,r.kt)("p",{parentName:"blockquote"},"2.\u5728BServlet\u4e2d\u83b7\u53d6Cookie\u4e2d\u7684\u503c,\u83b7\u53d6\u7684\u503c\u4e3aURL\u7f16\u7801\u540e\u7684\u503c"),(0,r.kt)("p",{parentName:"blockquote"},"3.\u5c06\u83b7\u53d6\u7684\u503c\u5728\u8fdb\u884cURL\u89e3\u7801,\u91c7\u7528URLDecoder.decode()\uff0c\u5c31\u53ef\u4ee5\u83b7\u53d6\u5230\u5bf9\u5e94\u7684\u4e2d\u6587\u503c")),(0,r.kt)("p",null,"(1)\u5728AServlet\u4e2d\u5bf9\u4e2d\u6587\u8fdb\u884cURL\u7f16\u7801"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/aServlet")\npublic class AServlet extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        //\u53d1\u9001Cookie\n        String value = "\u5f20\u4e09";\n        //\u5bf9\u4e2d\u6587\u8fdb\u884cURL\u7f16\u7801\n        value = URLEncoder.encode(value, "UTF-8");\n        System.out.println("\u5b58\u50a8\u6570\u636e\uff1a"+value);\n        //\u5c06\u7f16\u7801\u540e\u7684\u503c\u5b58\u5165Cookie\u4e2d\n        Cookie cookie = new Cookie("username",value);\n        //\u8bbe\u7f6e\u5b58\u6d3b\u65f6\u95f4   \uff0c1\u5468 7\u5929\n        cookie.setMaxAge(60*60*24*7);\n        //2. \u53d1\u9001Cookie\uff0cresponse\n        response.addCookie(cookie);\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("p",null,"(2)\u5728BServlet\u4e2d\u83b7\u53d6\u503c\uff0c\u5e76\u5bf9\u503c\u8fdb\u884c\u89e3\u7801"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/bServlet")\npublic class BServlet extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        //\u83b7\u53d6Cookie\n        //1. \u83b7\u53d6Cookie\u6570\u7ec4\n        Cookie[] cookies = request.getCookies();\n        //2. \u904d\u5386\u6570\u7ec4\n        for (Cookie cookie : cookies) {\n            //3. \u83b7\u53d6\u6570\u636e\n            String name = cookie.getName();\n            if("username".equals(name)){\n                String value = cookie.getValue();//\u83b7\u53d6\u7684\u662fURL\u7f16\u7801\u540e\u7684\u503c %E5%BC%A0%E4%B8%89\n                //URL\u89e3\u7801\n                value = URLDecoder.decode(value,"UTF-8");\n                System.out.println(name+":"+value);//value\u89e3\u7801\u540e\u4e3a \u5f20\u4e09\n                break;\n            }\n        }\n\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("p",null,"\u81f3\u6b64\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5c06\u4e2d\u6587\u5b58\u5165Cookie\u4e2d\u8fdb\u884c\u4f7f\u7528\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5c0f\u7ed3")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5b58\u6d3b\u65f6\u95f4\uff0c\u9700\u8981\u638c\u63e1setMaxAage()API\u7684\u4f7f\u7528")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5b58\u50a8\u4e2d\u6587\uff0c\u9700\u8981\u638c\u63e1URL\u7f16\u7801\u548c\u89e3\u7801\u7684\u4f7f\u7528"))),(0,r.kt)("h2",{id:"3session"},"3\uff0cSession"),(0,r.kt)("p",null,"Cookie\u5df2\u7ecf\u80fd\u5b8c\u6210\u4e00\u6b21\u4f1a\u8bdd\u591a\u6b21\u8bf7\u6c42\u4e4b\u95f4\u7684\u6570\u636e\u5171\u4eab\uff0c\u4e4b\u524d\u6211\u4eec\u8fd8\u63d0\u5230\u8fc7Session\u4e5f\u53ef\u4ee5\u5b9e\u73b0\uff0c\u90a3\u4e48:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u4ec0\u4e48\u662fSession?"),(0,r.kt)("li",{parentName:"ul"},"Session\u5982\u4f55\u6765\u4f7f\u7528?"),(0,r.kt)("li",{parentName:"ul"},"Session\u662f\u5982\u4f55\u5b9e\u73b0\u7684?"),(0,r.kt)("li",{parentName:"ul"},"Session\u7684\u4f7f\u7528\u6ce8\u610f\u4e8b\u9879\u6709\u54ea\u4e9b?")),(0,r.kt)("h3",{id:"31-session\u7684\u57fa\u672c\u4f7f\u7528"},"3.1 Session\u7684\u57fa\u672c\u4f7f\u7528"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"1.\u6982\u5ff5")),(0,r.kt)("p",null,"==Session==\uff1a\u670d\u52a1\u7aef\u4f1a\u8bdd\u8ddf\u8e2a\u6280\u672f\uff1a\u5c06\u6570\u636e\u4fdd\u5b58\u5230\u670d\u52a1\u7aef\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Session\u662f\u5b58\u50a8\u5728\u670d\u52a1\u7aef\u800cCookie\u662f\u5b58\u50a8\u5728\u5ba2\u6237\u7aef"),(0,r.kt)("li",{parentName:"ul"},"\u5b58\u50a8\u5728\u5ba2\u6237\u7aef\u7684\u6570\u636e\u5bb9\u6613\u88ab\u7a83\u53d6\u548c\u622a\u83b7\uff0c\u5b58\u5728\u5f88\u591a\u4e0d\u5b89\u5168\u7684\u56e0\u7d20"),(0,r.kt)("li",{parentName:"ul"},"\u5b58\u50a8\u5728\u670d\u52a1\u7aef\u7684\u6570\u636e\u76f8\u6bd4\u4e8e\u5ba2\u6237\u7aef\u6765\u8bf4\u5c31\u66f4\u5b89\u5168")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"2.Session\u7684\u5de5\u4f5c\u6d41\u7a0b")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109212821149.png",alt:"image-20230109212821149"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5728\u670d\u52a1\u7aef\u7684AServlet\u83b7\u53d6\u4e00\u4e2aSession\u5bf9\u8c61\uff0c\u628a\u6570\u636e\u5b58\u5165\u5176\u4e2d"),(0,r.kt)("li",{parentName:"ul"},"\u5728\u670d\u52a1\u7aef\u7684BServlet\u83b7\u53d6\u5230\u76f8\u540c\u7684Session\u5bf9\u8c61\uff0c\u4ece\u4e2d\u53d6\u51fa\u6570\u636e"),(0,r.kt)("li",{parentName:"ul"},"\u5c31\u53ef\u4ee5\u5b9e\u73b0\u4e00\u6b21\u4f1a\u8bdd\u4e2d\u591a\u6b21\u8bf7\u6c42\u4e4b\u95f4\u7684\u6570\u636e\u5171\u4eab\u4e86"),(0,r.kt)("li",{parentName:"ul"},"\u73b0\u5728\u6700\u5927\u7684\u95ee\u9898\u662f\u5982\u4f55\u4fdd\u8bc1AServlet\u548cBServlet\u4f7f\u7528\u7684\u662f\u540c\u4e00\u4e2aSession\u5bf9\u8c61(\u5728\u539f\u7406\u5206\u6790\u4f1a\u8bb2\u89e3)?")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"3.Session\u7684\u57fa\u672c\u4f7f\u7528")),(0,r.kt)("p",null,"\u5728JavaEE\u4e2d\u63d0\u4f9b\u4e86HttpSession\u63a5\u53e3\uff0c\u6765\u5b9e\u73b0\u4e00\u6b21\u4f1a\u8bdd\u7684\u591a\u6b21\u8bf7\u6c42\u4e4b\u95f4\u6570\u636e\u5171\u4eab\u529f\u80fd\u3002"),(0,r.kt)("p",null,"\u5177\u4f53\u7684\u4f7f\u7528\u6b65\u9aa4\u4e3a:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u83b7\u53d6Session\u5bf9\u8c61,\u4f7f\u7528\u7684\u662frequest\u5bf9\u8c61")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"HttpSession session = request.getSession();\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Session\u5bf9\u8c61\u63d0\u4f9b\u7684\u529f\u80fd:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5b58\u50a8\u6570\u636e\u5230 session \u57df\u4e2d"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"void setAttribute(String name, Object o)\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6839\u636e key\uff0c\u83b7\u53d6\u503c"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"Object getAttribute(String name)\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6839\u636e key\uff0c\u5220\u9664\u8be5\u952e\u503c\u5bf9"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"void removeAttribute(String name)\n")))))),(0,r.kt)("p",null,"\u4ecb\u7ecd\u5b8cSession\u76f8\u5173\u7684API\u540e\uff0c\u63a5\u4e0b\u6765\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\u6765\u5b8c\u6210\u5bf9Session\u7684\u4f7f\u7528\uff0c\u5177\u4f53\u5b9e\u73b0\u6b65\u9aa4\u4e3a:"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u9700\u6c42:\u5728\u4e00\u4e2aServlet\u4e2d\u5f80Session\u4e2d\u5b58\u5165\u6570\u636e\uff0c\u5728\u53e6\u4e00\u4e2aServlet\u4e2d\u83b7\u53d6Session\u4e2d\u5b58\u5165\u7684\u6570\u636e"),(0,r.kt)("p",{parentName:"blockquote"},"1.\u521b\u5efa\u540d\u4e3aSessionDemo1\u7684Servlet\u7c7b"),(0,r.kt)("p",{parentName:"blockquote"},"2.\u521b\u5efa\u540d\u4e3aSessionDemo2\u7684Servlet\u7c7b"),(0,r.kt)("p",{parentName:"blockquote"},"3.\u5728SessionDemo1\u7684\u65b9\u6cd5\u4e2d:\u83b7\u53d6Session\u5bf9\u8c61\u3001\u5b58\u50a8\u6570\u636e"),(0,r.kt)("p",{parentName:"blockquote"},"4.\u5728SessionDemo2\u7684\u65b9\u6cd5\u4e2d:\u83b7\u53d6Session\u5bf9\u8c61\u3001\u83b7\u53d6\u6570\u636e"),(0,r.kt)("p",{parentName:"blockquote"},"5.\u542f\u52a8\u6d4b\u8bd5")),(0,r.kt)("p",null,"(1)\u521b\u5efa\u540d\u4e3aSessionDemo1\u7684Servlet\u7c7b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/demo1")\npublic class SessionDemo1 extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    \n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("p",null,"(2)\u521b\u5efa\u540d\u4e3aSessionDemo2\u7684Servlet\u7c7b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/demo2")\npublic class SessionDemo2 extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    \n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("p",null,"(3)SessionDemo1:\u83b7\u53d6Session\u5bf9\u8c61\u3001\u5b58\u50a8\u6570\u636e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/demo1")\npublic class SessionDemo1 extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        //\u5b58\u50a8\u5230Session\u4e2d\n        //1. \u83b7\u53d6Session\u5bf9\u8c61\n        HttpSession session = request.getSession();\n        //2. \u5b58\u50a8\u6570\u636e\n        session.setAttribute("username","zs");\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("p",null,"(4)SessionDemo2:\u83b7\u53d6Session\u5bf9\u8c61\u3001\u83b7\u53d6\u6570\u636e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/demo2")\npublic class SessionDemo2 extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        //\u83b7\u53d6\u6570\u636e\uff0c\u4ecesession\u4e2d\n        //1. \u83b7\u53d6Session\u5bf9\u8c61\n        HttpSession session = request.getSession();\n        //2. \u83b7\u53d6\u6570\u636e\n        Object username = session.getAttribute("username");\n        System.out.println(username);\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("p",null,"(5)\u542f\u52a8\u6d4b\u8bd5\uff0c"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5148\u8bbf\u95ee",(0,r.kt)("inlineCode",{parentName:"li"},"http://localhost:8080/cookie-demo/demo1"),",\u5c06\u6570\u636e\u5b58\u5165Session"),(0,r.kt)("li",{parentName:"ul"},"\u5728\u8bbf\u95ee",(0,r.kt)("inlineCode",{parentName:"li"},"http://localhost:8080/cookie-demo/demo2"),",\u4eceSession\u4e2d\u83b7\u53d6\u6570\u636e"),(0,r.kt)("li",{parentName:"ul"},"\u67e5\u770b\u63a7\u5236\u53f0")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109213041611.png",alt:"image-20230109213041611"})),(0,r.kt)("p",null,"\u901a\u8fc7\u6848\u4f8b\u7684\u6548\u679c\uff0c\u80fd\u770b\u5230Session\u662f\u80fd\u591f\u5728\u4e00\u6b21\u4f1a\u8bdd\u4e2d\u4e24\u6b21\u8bf7\u6c42\u4e4b\u95f4\u5171\u4eab\u6570\u636e\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5c0f\u7ed3")),(0,r.kt)("p",null,"\u81f3\u6b64Session\u7684\u57fa\u672c\u4f7f\u7528\u5c31\u5df2\u7ecf\u5b8c\u6210\u4e86\uff0c\u91cd\u70b9\u8981\u638c\u63e1\u7684\u662f:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Session\u7684\u83b7\u53d6"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"HttpSession session = request.getSession();\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Session\u5e38\u7528\u65b9\u6cd5\u7684\u4f7f\u7528"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"void setAttribute(String name, Object o)\nObject getAttribute(String name)\n")),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u6ce8\u610f:"),"Session\u4e2d\u53ef\u4ee5\u5b58\u50a8\u7684\u662f\u4e00\u4e2aObject\u7c7b\u578b\u7684\u6570\u636e\uff0c\u4e5f\u5c31\u662f\u8bf4Session\u4e2d\u53ef\u4ee5\u5b58\u50a8\u4efb\u610f\u6570\u636e\u7c7b\u578b\u3002"))),(0,r.kt)("p",null,"\u4ecb\u7ecd\u5b8cSession\u7684\u57fa\u672c\u4f7f\u7528\u4e4b\u540e\uff0c\u90a3\u4e48Session\u7684\u5e95\u5c42\u5230\u5e95\u662f\u5982\u4f55\u5b9e\u73b0\u4e00\u6b21\u4f1a\u8bdd\u4e24\u6b21\u8bf7\u6c42\u4e4b\u95f4\u7684\u6570\u636e\u5171\u4eab\u5462?"),(0,r.kt)("h3",{id:"32-session\u7684\u539f\u7406\u5206\u6790"},"3.2 Session\u7684\u539f\u7406\u5206\u6790"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Session\u662f\u57fa\u4e8eCookie\u5b9e\u73b0\u7684")),(0,r.kt)("p",null,"\u8fd9\u53e5\u8bdd\u5176\u5b9e\u4e0d\u592a\u80fd\u8be6\u7ec6\u7684\u8bf4\u660eSession\u7684\u5e95\u5c42\u5b9e\u73b0\uff0c\u63a5\u4e0b\u6765\uff0c\u54b1\u4eec\u4e00\u6b65\u6b65\u6765\u5206\u6790\u4e0bSession\u7684\u5177\u4f53\u5b9e\u73b0\u539f\u7406:"),(0,r.kt)("p",null,"(1)\u524d\u63d0\u6761\u4ef6"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109213316623.png",alt:"image-20230109213316623"})),(0,r.kt)("p",null,"Session\u8981\u60f3\u5b9e\u73b0\u4e00\u6b21\u4f1a\u8bdd\u591a\u6b21\u8bf7\u6c42\u4e4b\u95f4\u7684\u6570\u636e\u5171\u4eab\uff0c\u5c31\u5fc5\u987b\u8981\u4fdd\u8bc1\u591a\u6b21\u8bf7\u6c42\u83b7\u53d6Session\u7684\u5bf9\u8c61\u662f\u540c\u4e00\u4e2a\u3002"),(0,r.kt)("p",null,"\u90a3\u4e48\u5b83\u4eec\u662f\u4e00\u4e2a\u5bf9\u8c61\u4e48\uff1f\u8981\u9a8c\u8bc1\u8fd9\u4e2a\u7ed3\u8bba\u4e5f\u5f88\u7b80\u5355\uff0c\u53ea\u9700\u8981\u5728\u4e0a\u9762\u6848\u4f8b\u4e2d\u7684\u4e24\u4e2aServlet\u4e2d\u5206\u522b\u6253\u5370\u4e0bSession\u5bf9\u8c61"),(0,r.kt)("p",null,"SessionDemo1"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/demo1")\npublic class SessionDemo1 extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        //\u5b58\u50a8\u5230Session\u4e2d\n        //1. \u83b7\u53d6Session\u5bf9\u8c61\n        HttpSession session = request.getSession();\n        System.out.println(session);\n        //2. \u5b58\u50a8\u6570\u636e\n        session.setAttribute("username","zs");\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("p",null,"SessionDemo2"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/demo2")\npublic class SessionDemo2 extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        //\u83b7\u53d6\u6570\u636e\uff0c\u4ecesession\u4e2d\n        //1. \u83b7\u53d6Session\u5bf9\u8c61\n        HttpSession session = request.getSession();\n        System.out.println(session);\n        //2. \u83b7\u53d6\u6570\u636e\n        Object username = session.getAttribute("username");\n        System.out.println(username);\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("p",null,"\u542f\u52a8\u6d4b\u8bd5\uff0c\u5206\u522b\u8bbf\u95ee"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/cookie-demo/demo1")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/cookie-demo/demo2")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109213340408.png",alt:"image-20230109213340408"})),(0,r.kt)("p",null,"\u901a\u8fc7\u6253\u5370\u53ef\u4ee5\u5f97\u5230\u5982\u4e0b\u7ed3\u8bba:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u4e24\u4e2aServlet\u7c7b\u4e2d\u83b7\u53d6\u7684Session\u5bf9\u8c61\u662f\u540c\u4e00\u4e2a"),(0,r.kt)("li",{parentName:"ul"},"\u628ademo1\u548cdemo2\u8bf7\u6c42\u5237\u65b0\u591a\u6b21\uff0c\u63a7\u5236\u53f0\u6700\u7ec8\u6253\u5370\u7684\u7ed3\u679c\u90fd\u662f\u540c\u4e00\u4e2a")),(0,r.kt)("p",null,"\u90a3\u4e48\u95ee\u9898\u53c8\u6765\u4e86\uff0c\u5982\u679c\u65b0\u5f00\u4e00\u4e2a\u6d4f\u89c8\u5668\uff0c\u8bbf\u95eedemo1\u6216\u8005demo2,\u6253\u5370\u5728\u63a7\u5236\u53f0\u7684Session\u8fd8\u662f\u540c\u4e00\u4e2a\u5bf9\u8c61\u4e48?"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109213412992.png",alt:"image-20230109213412992"})),(0,r.kt)("p",null,"==\u6ce8\u610f:\u5728\u4e00\u53f0\u7535\u8111\u4e0a\u6f14\u793a\u7684\u65f6\u5019\uff0c\u5982\u679c\u662f\u76f8\u540c\u7684\u6d4f\u89c8\u5668\u5fc5\u987b\u8981\u628a\u6d4f\u89c8\u5668\u5168\u90e8\u5173\u6389\u91cd\u65b0\u6253\u5f00\uff0c\u624d\u7b97\u65b0\u5f00\u7684\u4e00\u4e2a\u6d4f\u89c8\u5668\u3002=="),(0,r.kt)("p",null,"\u5f53\u7136\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5c31\u4e0d\u9700\u8981\u628a\u4e4b\u524d\u7684\u6d4f\u89c8\u5668\u5168\u90e8\u5173\u95ed\u3002"),(0,r.kt)("p",null,"\u6d4b\u8bd5\u7684\u7ed3\u679c\uff1a\u5982\u679c\u662f\u4e0d\u540c\u6d4f\u89c8\u5668\u6216\u8005\u91cd\u65b0\u6253\u5f00\u6d4f\u89c8\u5668\u540e\uff0c\u6253\u5370\u7684Session\u5c31\u4e0d\u4e00\u6837\u4e86\u3002"),(0,r.kt)("p",null,"\u6240\u4ee5Session\u5b9e\u73b0\u7684\u4e5f\u662f\u4e00\u6b21\u4f1a\u8bdd\u4e2d\u7684\u591a\u6b21\u8bf7\u6c42\u4e4b\u95f4\u7684\u6570\u636e\u5171\u4eab\u3002"),(0,r.kt)("p",null,"\u90a3\u4e48\u6700\u4e3b\u8981\u7684\u95ee\u9898\u5c31\u6765\u4e86\uff0cSession\u662f\u5982\u4f55\u4fdd\u8bc1\u5728\u4e00\u6b21\u4f1a\u8bdd\u4e2d\u83b7\u53d6\u7684Session\u5bf9\u8c61\u662f\u540c\u4e00\u4e2a\u5462?"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109213430666.png",alt:"image-20230109213430666"})),(0,r.kt)("p",null,"(1)demo1\u5728\u7b2c\u4e00\u6b21\u83b7\u53d6session\u5bf9\u8c61\u7684\u65f6\u5019\uff0csession\u5bf9\u8c61\u4f1a\u6709\u4e00\u4e2a\u552f\u4e00\u7684\u6807\u8bc6\uff0c\u5047\u5982\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"id:10")),(0,r.kt)("p",null,"(2)demo1\u5728session\u4e2d\u5b58\u5165\u5176\u4ed6\u6570\u636e\u5e76\u5904\u7406\u5b8c\u6210\u6240\u6709\u4e1a\u52a1\u540e\uff0c\u9700\u8981\u901a\u8fc7Tomcat\u670d\u52a1\u5668\u54cd\u5e94\u7ed3\u679c\u7ed9\u6d4f\u89c8\u5668"),(0,r.kt)("p",null,"(3)Tomcat\u670d\u52a1\u5668\u53d1\u73b0\u4e1a\u52a1\u5904\u7406\u4e2d\u4f7f\u7528\u4e86session\u5bf9\u8c61\uff0c\u5c31\u4f1a\u628asession\u7684\u552f\u4e00\u6807\u8bc6",(0,r.kt)("inlineCode",{parentName:"p"},"id:10"),"\u5f53\u505a\u4e00\u4e2acookie\uff0c\u6dfb\u52a0",(0,r.kt)("inlineCode",{parentName:"p"},"Set-Cookie:JESSIONID=10"),"\u5230\u54cd\u5e94\u5934\u4e2d\uff0c\u5e76\u54cd\u5e94\u7ed9\u6d4f\u89c8\u5668"),(0,r.kt)("p",null,"(4)\u6d4f\u89c8\u5668\u63a5\u6536\u5230\u54cd\u5e94\u7ed3\u679c\u540e\uff0c\u4f1a\u628a\u54cd\u5e94\u5934\u4e2d\u7684coookie\u6570\u636e\u5b58\u50a8\u5230\u6d4f\u89c8\u5668\u7684\u5185\u5b58\u4e2d"),(0,r.kt)("p",null,"(5)\u6d4f\u89c8\u5668\u5728\u540c\u4e00\u4f1a\u8bdd\u4e2d\u8bbf\u95eedemo2\u7684\u65f6\u5019\uff0c\u4f1a\u628acookie\u4e2d\u7684\u6570\u636e\u6309\u7167",(0,r.kt)("inlineCode",{parentName:"p"},"cookie: JESSIONID=10"),"\u7684\u683c\u5f0f\u6dfb\u52a0\u5230\u8bf7\u6c42\u5934\u4e2d\u5e76\u53d1\u9001\u7ed9\u670d\u52a1\u5668Tomcat"),(0,r.kt)("p",null,"(6)demo2\u83b7\u53d6\u5230\u8bf7\u6c42\u540e\uff0c\u4ece\u8bf7\u6c42\u5934\u4e2d\u5c31\u8bfb\u53d6cookie\u4e2d\u7684JSESSIONID\u503c\u4e3a10\uff0c\u7136\u540e\u5c31\u4f1a\u5230\u670d\u52a1\u5668\u5185\u5b58\u4e2d\u5bfb\u627e",(0,r.kt)("inlineCode",{parentName:"p"},"id:10"),"\u7684session\u5bf9\u8c61\uff0c\u5982\u679c\u627e\u5230\u4e86\uff0c\u5c31\u76f4\u63a5\u8fd4\u56de\u8be5\u5bf9\u8c61\uff0c\u5982\u679c\u6ca1\u6709\u5219\u65b0\u521b\u5efa\u4e00\u4e2asession\u5bf9\u8c61"),(0,r.kt)("p",null,"(7)\u5173\u95ed\u6253\u5f00\u6d4f\u89c8\u5668\u540e\uff0c\u56e0\u4e3a\u6d4f\u89c8\u5668\u7684cookie\u5df2\u88ab\u9500\u6bc1\uff0c\u6240\u4ee5\u5c31\u6ca1\u6709JESSIONID\u7684\u6570\u636e\uff0c\u670d\u52a1\u7aef\u83b7\u53d6\u5230\u7684session\u5c31\u662f\u4e00\u4e2a\u5168\u65b0\u7684session\u5bf9\u8c61"),(0,r.kt)("p",null,"\u81f3\u6b64\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"Session\u662f\u57fa\u4e8eCookie\u6765\u5b9e\u73b0\u7684"),"\u8fd9\u5c31\u8bdd\uff0c\u6211\u4eec\u5c31\u89e3\u91ca\u5b8c\u4e86\uff0c\u63a5\u4e0b\u6765\u901a\u8fc7\u5b9e\u4f8b\u6765\u6f14\u793a\u4e0b:"),(0,r.kt)("p",null,"(1)\u4f7f\u7528chrome\u6d4f\u89c8\u5668\u8bbf\u95ee",(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/cookie-demo/demo1"),",\u6253\u5f00\u5f00\u53d1\u8005\u6a21\u5f0f(F12\u6216Ctrl+Shift+I),\u67e5\u770b==\u54cd\u5e94\u5934(Response Headers)==\u6570\u636e:"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109213458532.png",alt:"image-20230109213458532"})),(0,r.kt)("p",null,"(2)\u4f7f\u7528chrome\u6d4f\u89c8\u5668\u518d\u6b21\u8bbf\u95ee",(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/cookie-demo/demo2"),"\uff0c\u67e5\u770b==\u8bf7\u6c42\u5934(Request Headers)==\u6570\u636e:"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109213516834.png",alt:"image-20230109213516834"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5c0f\u7ed3")),(0,r.kt)("p",null,"\u4ecb\u7ecd\u5b8cSession\u7684\u539f\u7406\uff0c\u6211\u4eec\u53ea\u9700\u8981\u8bb0\u4f4f"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Session\u662f\u57fa\u4e8eCookie\u6765\u5b9e\u73b0\u7684")),(0,r.kt)("h3",{id:"33-session\u7684\u4f7f\u7528\u7ec6\u8282"},"3.3 Session\u7684\u4f7f\u7528\u7ec6\u8282"),(0,r.kt)("p",null,"\u8fd9\u8282\u6211\u4eec\u4f1a\u4e3b\u8981\u8bb2\u89e3\u4e24\u4e2a\u77e5\u8bc6\uff0c\u7b2c\u4e00\u4e2a\u662fSession\u7684\u949d\u5316\u548c\u6d3b\u5316\uff0c\u7b2c\u4e8c\u4e2a\u662fSession\u7684\u9500\u6bc1\uff0c\u9996\u5148\u6765\u5b66\u4e60\u4ec0\u4e48\u662fSession\u7684\u949d\u5316\u548c\u6d3b\u5316\uff1f"),(0,r.kt)("h4",{id:"331-session\u949d\u5316\u4e0e\u6d3b\u5316"},"3.3.1 Session\u949d\u5316\u4e0e\u6d3b\u5316"),(0,r.kt)("p",null,"\u9996\u5148\u9700\u8981\u5927\u5bb6\u601d\u8003\u7684\u95ee\u9898\u662f: "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u670d\u52a1\u5668\u91cd\u542f\u540e\uff0cSession\u4e2d\u7684\u6570\u636e\u662f\u5426\u8fd8\u5728?")),(0,r.kt)("p",null,"\u8981\u60f3\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u5148\u770b\u4e0b\u4e0b\u9762\u8fd9\u5e45\u56fe\uff0c"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109213546720.png",alt:"image-20230109213546720"})),(0,r.kt)("p",null,"(1)\u670d\u52a1\u5668\u7aefAServlet\u548cBServlet\u5171\u7528\u7684session\u5bf9\u8c61\u5e94\u8be5\u662f\u5b58\u50a8\u5728\u670d\u52a1\u5668\u7684\u5185\u5b58\u4e2d"),(0,r.kt)("p",null,"(2)\u670d\u52a1\u5668\u91cd\u65b0\u542f\u52a8\u540e\uff0c\u5185\u5b58\u4e2d\u7684\u6570\u636e\u5e94\u8be5\u662f\u5df2\u7ecf\u88ab\u91ca\u653e\uff0c\u5bf9\u8c61\u4e5f\u5e94\u8be5\u90fd\u9500\u6bc1\u4e86"),(0,r.kt)("p",null,"\u6240\u4ee5session\u6570\u636e\u5e94\u8be5\u4e5f\u5df2\u7ecf\u4e0d\u5b58\u5728\u4e86\u3002\u4f46\u662f\u5982\u679csession\u4e0d\u5b58\u5728\u4f1a\u5f15\u53d1\u4ec0\u4e48\u95ee\u9898\u5462?"),(0,r.kt)("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\u8bf4\u660e\u4e0b\uff0c"),(0,r.kt)("p",null,"(1)\u7528\u6237\u628a\u9700\u8981\u8d2d\u4e70\u7684\u5546\u54c1\u6dfb\u52a0\u5230\u8d2d\u7269\u8f66\uff0c\u56e0\u4e3a\u8981\u5b9e\u73b0\u540c\u4e00\u4e2a\u4f1a\u8bdd\u591a\u6b21\u8bf7\u6c42\u6570\u636e\u5171\u4eab\uff0c\u6240\u4ee5\u5047\u8bbe\u628a\u6570\u636e\u5b58\u5165Session\u5bf9\u8c61\u4e2d"),(0,r.kt)("p",null,"(2)\u7528\u6237\u6b63\u8981\u4ed8\u94b1\u7684\u65f6\u5019\u63a5\u5230\u4e00\u4e2a\u7535\u8bdd\uff0c\u4ed8\u94b1\u7684\u52a8\u4f5c\u5c31\u6401\u6d45\u4e86"),(0,r.kt)("p",null,"(3)\u6b63\u5728\u7528\u6237\u6253\u7535\u8bdd\u7684\u65f6\u5019\uff0c\u8d2d\u7269\u7f51\u7ad9\u56e0\u4e3a\u67d0\u4e9b\u539f\u56e0\u9700\u8981\u91cd\u542f"),(0,r.kt)("p",null,"(4)\u91cd\u542f\u540esession\u6570\u636e\u88ab\u9500\u6bc1\uff0c\u8d2d\u7269\u8f66\u4e2d\u7684\u5546\u54c1\u4fe1\u606f\u4e5f\u5c31\u4f1a\u968f\u4e4b\u800c\u6d88\u5931"),(0,r.kt)("p",null,"(5)\u7528\u6237\u60f3\u518d\u6b21\u53d1\u8d77\u652f\u4ed8\uff0c\u5c31\u4f1a\u51fa\u4e3a\u95ee\u9898"),(0,r.kt)("p",null,"\u6240\u4ee5\u8bf4\u5bf9\u4e8esession\u7684\u6570\u636e\uff0c\u6211\u4eec\u5e94\u8be5\u505a\u5230\u5c31\u7b97\u670d\u52a1\u5668\u91cd\u542f\u4e86\uff0c\u4e5f\u5e94\u8be5\u80fd\u628a\u6570\u636e\u4fdd\u5b58\u4e0b\u6765\u624d\u5bf9\u3002"),(0,r.kt)("p",null,"\u5206\u6790\u4e86\u8fd9\u4e48\u591a\uff0c\u90a3\u4e48Tomcat\u670d\u52a1\u5668\u5728\u91cd\u542f\u7684\u65f6\u5019\uff0csession\u6570\u636e\u5230\u5e95\u4f1a\u4e0d\u4f1a\u4fdd\u5b58\u4ee5\u53ca\u662f\u5982\u4f55\u4fdd\u5b58\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5b9e\u9645\u6848\u4f8b\u6765\u6f14\u793a\u4e0b:"),(0,r.kt)("p",null,"==\u6ce8\u610f:\u8fd9\u91cc\u6240\u8bf4\u7684\u5173\u95ed\u548c\u542f\u52a8\u5e94\u8be5\u8981\u786e\u4fdd\u662f\u6b63\u5e38\u7684\u5173\u95ed\u548c\u542f\u52a8\u3002=="),(0,r.kt)("p",null,"\u90a3\u5982\u4f55\u624d\u662f\u6b63\u5e38\u5173\u95edTomcat\u670d\u52a1\u5668\u5462?"),(0,r.kt)("p",null,"\u9700\u8981\u4f7f\u7528\u547d\u4ee4\u884c\u7684\u65b9\u5f0f\u6765\u542f\u52a8\u548c\u505c\u6b62Tomcat\u670d\u52a1\u5668:"),(0,r.kt)("p",null,"==\u542f\u52a8==:\u8fdb\u5165\u5230\u9879\u76eepom.xml\u6240\u5728\u76ee\u5f55\uff0c\u6267\u884c",(0,r.kt)("inlineCode",{parentName:"p"},"tomcat7:run")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109213608572.png",alt:"image-20230109213608572"})),(0,r.kt)("p",null,"==\u505c\u6b62==:\u5728\u542f\u52a8\u7684\u547d\u4ee4\u884c\u754c\u9762\uff0c\u8f93\u5165",(0,r.kt)("inlineCode",{parentName:"p"},"ctrl+c")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109213631739.png",alt:"image-20230109213631739"})),(0,r.kt)("p",null,"\u6709\u4e86\u4e0a\u8ff0\u4e24\u4e2a\u6b63\u5e38\u542f\u52a8\u548c\u5173\u95ed\u7684\u65b9\u5f0f\u540e\uff0c\u63a5\u4e0b\u6765\u7684\u6d4b\u8bd5\u6d41\u7a0b\u662f:"),(0,r.kt)("p",null,"(1)\u5148\u542f\u52a8Tomcat\u670d\u52a1\u5668"),(0,r.kt)("p",null,"(2)\u8bbf\u95ee",(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/cookie-demo/demo1"),"\u5c06\u6570\u636e\u5b58\u5165session\u4e2d"),(0,r.kt)("p",null,"(3)\u6b63\u786e\u505c\u6b62Tomcat\u670d\u52a1\u5668"),(0,r.kt)("p",null,"(4)\u518d\u6b21\u91cd\u65b0\u542f\u52a8Tomcat\u670d\u52a1\u5668"),(0,r.kt)("p",null,"(5)\u8bbf\u95ee",(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/cookie-demo/demo2")," \u67e5\u770b\u662f\u5426\u80fd\u83b7\u53d6\u5230session\u4e2d\u7684\u6570\u636e"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109213651875.png",alt:"image-20230109213651875"})),(0,r.kt)("p",null,"\u7ecf\u8fc7\u6d4b\u8bd5\uff0c\u4f1a\u53d1\u73b0\u53ea\u8981\u670d\u52a1\u5668\u662f\u6b63\u5e38\u5173\u95ed\u548c\u542f\u52a8\uff0csession\u4e2d\u7684\u6570\u636e\u662f\u53ef\u4ee5\u88ab\u4fdd\u5b58\u4e0b\u6765\u7684\u3002"),(0,r.kt)("p",null,"\u90a3\u4e48Tomcat\u670d\u52a1\u5668\u5230\u5e95\u662f\u5982\u4f55\u505a\u5230\u7684\u5462?"),(0,r.kt)("p",null,"\u5177\u4f53\u7684\u539f\u56e0\u5c31\u662f:Session\u7684\u949d\u5316\u548c\u6d3b\u5316:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u949d\u5316\uff1a\u5728\u670d\u52a1\u5668\u6b63\u5e38\u5173\u95ed\u540e\uff0cTomcat\u4f1a\u81ea\u52a8\u5c06Session\u6570\u636e\u5199\u5165\u786c\u76d8\u7684\u6587\u4ef6\u4e2d"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u949d\u5316\u7684\u6570\u636e\u8def\u5f84\u4e3a:",(0,r.kt)("inlineCode",{parentName:"p"},"\u9879\u76ee\u76ee\u5f55\\target\\tomcat\\work\\Tomcat\\localhost\\\u9879\u76ee\u540d\u79f0\\SESSIONS.ser")),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109213747475.png",alt:"image-20230109213747475"}))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6d3b\u5316\uff1a\u518d\u6b21\u542f\u52a8\u670d\u52a1\u5668\u540e\uff0c\u4ece\u6587\u4ef6\u4e2d\u52a0\u8f7d\u6570\u636e\u5230Session\u4e2d"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6570\u636e\u52a0\u8f7d\u5230Session\u4e2d\u540e\uff0c\u8def\u5f84\u4e2d\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"SESSIONS.ser"),"\u6587\u4ef6\u4f1a\u88ab\u5220\u9664\u6389")))),(0,r.kt)("p",null,"\u5bf9\u4e8e\u4e0a\u8ff0\u7684\u6574\u4e2a\u8fc7\u7a0b\uff0c\u5927\u5bb6\u53ea\u9700\u8981\u4e86\u89e3\u4e0b\u5373\u53ef\u3002\u56e0\u4e3a\u6240\u6709\u7684\u8fc7\u7a0b\u90fd\u662fTomcat\u81ea\u5df1\u5b8c\u6210\u7684\uff0c\u4e0d\u9700\u8981\u6211\u4eec\u53c2\u4e0e\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5c0f\u7ed3")),(0,r.kt)("p",null,"Session\u7684\u949d\u5316\u548c\u6d3b\u5316\u4ecb\u7ecd\u5b8c\u540e\uff0c\u9700\u8981\u6211\u4eec\u6ce8\u610f\u7684\u662f:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"session\u6570\u636e\u5b58\u50a8\u5728\u670d\u52a1\u7aef\uff0c\u670d\u52a1\u5668\u91cd\u542f\u540e\uff0csession\u6570\u636e\u4f1a\u88ab\u4fdd\u5b58")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6d4f\u89c8\u5668\u88ab\u5173\u95ed\u542f\u52a8\u540e\uff0c\u91cd\u65b0\u5efa\u7acb\u7684\u8fde\u63a5\u5c31\u5df2\u7ecf\u662f\u4e00\u4e2a\u5168\u65b0\u7684\u4f1a\u8bdd\uff0c\u83b7\u53d6\u7684session\u6570\u636e\u4e5f\u662f\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"session\u7684\u6570\u636e\u8981\u60f3\u5171\u4eab\uff0c\u6d4f\u89c8\u5668\u4e0d\u80fd\u5173\u95ed\uff0c\u6240\u4ee5session\u6570\u636e\u4e0d\u80fd\u957f\u671f\u4fdd\u5b58\u6570\u636e")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"cookie\u662f\u5b58\u50a8\u5728\u5ba2\u6237\u7aef\uff0c\u662f\u53ef\u4ee5\u957f\u671f\u4fdd\u5b58"))),(0,r.kt)("h4",{id:"332-session\u9500\u6bc1"},"3.3.2 Session\u9500\u6bc1"),(0,r.kt)("p",null,"session\u7684\u9500\u6bc1\u4f1a\u6709\u4e24\u79cd\u65b9\u5f0f:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u65e0\u64cd\u4f5c\uff0c30\u5206\u949f\u81ea\u52a8\u9500\u6bc1"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5bf9\u4e8e\u8fd9\u4e2a\u5931\u6548\u65f6\u95f4\uff0c\u662f\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u8fdb\u884c\u4fee\u6539\u7684"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728\u9879\u76ee\u7684web.xml\u4e2d\u914d\u7f6e"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"\n         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"\n         version="3.1">\n\n    <session-config>\n        <session-timeout>100</session-timeout>\n    </session-config>\n</web-app>\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5982\u679c\u6ca1\u6709\u914d\u7f6e\uff0c\u9ed8\u8ba4\u662f30\u5206\u949f\uff0c\u9ed8\u8ba4\u503c\u662f\u5728Tomcat\u7684web.xml\u914d\u7f6e\u6587\u4ef6\u4e2d\u5199\u6b7b\u7684"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109213810205.png",alt:"image-20230109213810205"}))))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u8c03\u7528Session\u5bf9\u8c61\u7684invalidate()\u8fdb\u884c\u9500\u6bc1"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728SessionDemo2\u7c7b\u4e2d\u6dfb\u52a0session\u9500\u6bc1\u7684\u65b9\u6cd5"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/demo2")\npublic class SessionDemo2 extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        //\u83b7\u53d6\u6570\u636e\uff0c\u4ecesession\u4e2d\n\n        //1. \u83b7\u53d6Session\u5bf9\u8c61\n        HttpSession session = request.getSession();\n        System.out.println(session);\n\n        // \u9500\u6bc1\n        session.invalidate();\n        //2. \u83b7\u53d6\u6570\u636e\n        Object username = session.getAttribute("username");\n        System.out.println(username);\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u542f\u52a8\u8bbf\u95ee\u6d4b\u8bd5\uff0c\u5148\u8bbf\u95eedemo1\u5c06\u6570\u636e\u5b58\u5165\u5230session\uff0c\u518d\u6b21\u8bbf\u95eedemo2\u4ecesession\u4e2d\u83b7\u53d6\u6570\u636e"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109213828703.png",alt:"image-20230109213828703"}))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u8be5\u9500\u6bc1\u65b9\u6cd5\u4e00\u822c\u4f1a\u5728\u7528\u6237\u9000\u51fa\u7684\u65f6\u5019\uff0c\u9700\u8981\u5c06session\u9500\u6bc1\u6389\u3002"))))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Cookie\u548cSession\u5c0f\u7ed3")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Cookie \u548c Session \u90fd\u662f\u6765\u5b8c\u6210\u4e00\u6b21\u4f1a\u8bdd\u5185\u591a\u6b21\u8bf7\u6c42\u95f4==\u6570\u636e\u5171\u4eab==\u7684\u3002")),(0,r.kt)("p",null,"\u6240\u9700\u4e24\u4e2a\u5bf9\u8c61\u653e\u5728\u4e00\u5757\uff0c\u5c31\u9700\u8981\u601d\u8003:"),(0,r.kt)("p",null,"Cookie\u548cSession\u7684\u533a\u522b\u662f\u4ec0\u4e48?"),(0,r.kt)("p",null,"Cookie\u548cSession\u7684\u5e94\u7528\u573a\u666f\u5206\u522b\u662f\u4ec0\u4e48?"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u533a\u522b:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5b58\u50a8\u4f4d\u7f6e\uff1aCookie \u662f\u5c06\u6570\u636e\u5b58\u50a8\u5728\u5ba2\u6237\u7aef\uff0cSession \u5c06\u6570\u636e\u5b58\u50a8\u5728\u670d\u52a1\u7aef"),(0,r.kt)("li",{parentName:"ul"},"\u5b89\u5168\u6027\uff1aCookie\u4e0d\u5b89\u5168\uff0cSession\u5b89\u5168"),(0,r.kt)("li",{parentName:"ul"},"\u6570\u636e\u5927\u5c0f\uff1aCookie\u6700\u59273KB\uff0cSession\u65e0\u5927\u5c0f\u9650\u5236"),(0,r.kt)("li",{parentName:"ul"},"\u5b58\u50a8\u65f6\u95f4\uff1aCookie\u53ef\u4ee5\u901a\u8fc7setMaxAge()\u957f\u671f\u5b58\u50a8\uff0cSession\u9ed8\u8ba430\u5206\u949f"),(0,r.kt)("li",{parentName:"ul"},"\u670d\u52a1\u5668\u6027\u80fd\uff1aCookie\u4e0d\u5360\u670d\u52a1\u5668\u8d44\u6e90\uff0cSession\u5360\u7528\u670d\u52a1\u5668\u8d44\u6e90"))),(0,r.kt)("li",{parentName:"ul"},"\u5e94\u7528\u573a\u666f:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u8d2d\u7269\u8f66:\u4f7f\u7528Cookie\u6765\u5b58\u50a8"),(0,r.kt)("li",{parentName:"ul"},"\u4ee5\u767b\u5f55\u7528\u6237\u7684\u540d\u79f0\u5c55\u793a:\u4f7f\u7528Session\u6765\u5b58\u50a8"),(0,r.kt)("li",{parentName:"ul"},"\u8bb0\u4f4f\u6211\u529f\u80fd:\u4f7f\u7528Cookie\u6765\u5b58\u50a8"),(0,r.kt)("li",{parentName:"ul"},"\u9a8c\u8bc1\u7801:\u4f7f\u7528session\u6765\u5b58\u50a8"))),(0,r.kt)("li",{parentName:"ul"},"\u7ed3\u8bba",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Cookie\u662f\u7528\u6765\u4fdd\u8bc1\u7528\u6237\u5728\u672a\u767b\u5f55\u60c5\u51b5\u4e0b\u7684\u8eab\u4efd\u8bc6\u522b"),(0,r.kt)("li",{parentName:"ul"},"Session\u662f\u7528\u6765\u4fdd\u5b58\u7528\u6237\u767b\u5f55\u540e\u7684\u6570\u636e")))),(0,r.kt)("p",null,"\u4ecb\u7ecd\u5b8cCookie\u548cSession\u4ee5\u540e\uff0c\u5177\u4f53\u7528\u54ea\u4e2a\u8fd8\u662f\u9700\u8981\u6839\u636e\u5177\u4f53\u7684\u4e1a\u52a1\u8fdb\u884c\u5177\u4f53\u5206\u6790\u3002"),(0,r.kt)("h2",{id:"4\u7528\u6237\u767b\u5f55\u6ce8\u518c\u6848\u4f8b"},"4\uff0c\u7528\u6237\u767b\u5f55\u6ce8\u518c\u6848\u4f8b"),(0,r.kt)("h3",{id:"41-\u9700\u6c42\u5206\u6790"},"4.1 \u9700\u6c42\u5206\u6790"),(0,r.kt)("p",null," \u9700\u6c42\u8bf4\u660e\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5b8c\u6210\u7528\u6237\u767b\u5f55\u529f\u80fd\uff0c\u5982\u679c\u7528\u6237\u52fe\u9009\u201c\u8bb0\u4f4f\u7528\u6237\u201d \uff0c\u5219\u4e0b\u6b21\u8bbf\u95ee\u767b\u5f55\u9875\u9762==\u81ea\u52a8==\u586b\u5145\u7528\u6237\u540d\u5bc6\u7801")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5b8c\u6210\u6ce8\u518c\u529f\u80fd\uff0c\u5e76\u5b9e\u73b0==\u9a8c\u8bc1\u7801==\u529f\u80fd"))),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109221810790.png",alt:"image-20230109221810790"})),(0,r.kt)("h3",{id:"42-\u7528\u6237\u767b\u5f55\u529f\u80fd"},"4.2 \u7528\u6237\u767b\u5f55\u529f\u80fd"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u9700\u6c42:")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109221826880.png",alt:"image-20230109221826880"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u7528\u6237\u767b\u5f55\u6210\u529f\u540e\uff0c\u8df3\u8f6c\u5230\u5217\u8868\u9875\u9762\uff0c\u5e76\u5728\u9875\u9762\u4e0a\u5c55\u793a\u5f53\u524d\u767b\u5f55\u7684\u7528\u6237\u540d\u79f0"),(0,r.kt)("li",{parentName:"ul"},"\u7528\u6237\u767b\u5f55\u5931\u8d25\u540e\uff0c\u8df3\u8f6c\u56de\u767b\u5f55\u9875\u9762\uff0c\u5e76\u5728\u9875\u9762\u4e0a\u5c55\u793a\u5bf9\u5e94\u7684\u9519\u8bef\u4fe1\u606f")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"\u5b9e\u73b0\u6d41\u7a0b\u5206\u6790")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109221838726.png",alt:"image-20230109221838726"})),(0,r.kt)("p",null,"(1)\u524d\u7aef\u901a\u8fc7\u8868\u5355\u53d1\u9001\u8bf7\u6c42\u548c\u6570\u636e\u7ed9Web\u5c42\u7684LoginServlet"),(0,r.kt)("p",null,"(2)\u5728LoginServlet\u4e2d\u63a5\u6536\u8bf7\u6c42\u548c\u6570\u636e","[\u7528\u6237\u540d\u548c\u5bc6\u7801]"),(0,r.kt)("p",null,"(3)LoginServlet\u63a5\u6536\u5230\u8bf7\u6c42\u548c\u6570\u636e\u540e\uff0c\u8c03\u7528Service\u5c42\u5b8c\u6210\u6839\u636e\u7528\u6237\u540d\u548c\u5bc6\u7801\u67e5\u8be2\u7528\u6237\u5bf9\u8c61"),(0,r.kt)("p",null,"(4)\u5728Service\u5c42\u9700\u8981\u7f16\u5199UserService\u7c7b\uff0c\u5728\u7c7b\u4e2d\u5b9e\u73b0login\u65b9\u6cd5\uff0c\u65b9\u6cd5\u4e2d\u8c03\u7528Dao\u5c42\u7684UserMapper"),(0,r.kt)("p",null,"(5)\u5728UserMapper\u63a5\u53e3\u4e2d\uff0c\u58f0\u660e\u4e00\u4e2a\u6839\u636e\u7528\u6237\u540d\u548c\u5bc6\u7801\u67e5\u8be2\u7528\u6237\u4fe1\u606f\u7684\u65b9\u6cd5"),(0,r.kt)("p",null,"(6)Dao\u5c42\u628a\u6570\u636e\u67e5\u8be2\u51fa\u6765\u4ee5\u540e\uff0c\u5c06\u8fd4\u56de\u6570\u636e\u5c01\u88c5\u5230User\u5bf9\u8c61\uff0c\u5c06\u5bf9\u8c61\u4ea4\u7ed9Service\u5c42"),(0,r.kt)("p",null,"(7)Service\u5c42\u5c06\u6570\u636e\u8fd4\u56de\u7ed9Web\u5c42"),(0,r.kt)("p",null,"(8)Web\u5c42\u83b7\u53d6\u5230User\u5bf9\u8c61\u540e\uff0c\u5224\u65adUser\u5bf9\u8c61\uff0c\u5982\u679c\u4e3aNull,\u5219\u5c06\u9519\u8bef\u4fe1\u606f\u54cd\u5e94\u7ed9\u767b\u5f55\u9875\u9762\uff0c\u5982\u679c\u4e0d\u4e3aNull\uff0c\u5219\u8df3\u8f6c\u5230\u5217\u8868\u9875\u9762\uff0c\u5e76\u628a\u5f53\u524d\u767b\u5f55\u7528\u6237\u7684\u4fe1\u606f\u5b58\u5165Session\u643a\u5e26\u5230\u5217\u8868\u9875\u9762\u3002"),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"\u5177\u4f53\u5b9e\u73b0")),(0,r.kt)("p",null,"(1)\u5b8c\u6210Dao\u5c42\u7684\u4ee3\u7801\u7f16\u5199"),(0,r.kt)("p",null,"(1.1)\u5c06",(0,r.kt)("inlineCode",{parentName:"p"},"04-\u8d44\u6599\\1. \u767b\u5f55\u6ce8\u518c\u6848\u4f8b\\2. MyBatis\u73af\u5883\\UserMapper.java"),"\u653e\u5230com.itheima.mapper`\u5305\u4e0b:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'public interface UserMapper {\n    /**\n     * \u6839\u636e\u7528\u6237\u540d\u548c\u5bc6\u7801\u67e5\u8be2\u7528\u6237\u5bf9\u8c61\n     * @param username\n     * @param password\n     * @return\n     */\n    @Select("select * from tb_user where username = #{username} and password = #{password}")\n    User select(@Param("username") String username,@Param("password")  String password);\n\n    /**\n     * \u6839\u636e\u7528\u6237\u540d\u67e5\u8be2\u7528\u6237\u5bf9\u8c61\n     * @param username\n     * @return\n     */\n    @Select("select * from tb_user where username = #{username}")\n    User selectByUsername(String username);\n\n    /**\n     * \u6dfb\u52a0\u7528\u6237\n     * @param user\n     */\n    @Insert("insert into tb_user values(null,#{username},#{password})")\n    void add(User user);\n}\n')),(0,r.kt)("p",null,"(1.2)\u5c06",(0,r.kt)("inlineCode",{parentName:"p"},"04-\u8d44\u6599\\1. \u767b\u5f55\u6ce8\u518c\u6848\u4f8b\\2. MyBatis\u73af\u5883\\User.java"),"\u653e\u5230",(0,r.kt)("inlineCode",{parentName:"p"},"com.itheima.pojo"),"\u5305\u4e0b:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public class User {\n\n    private Integer id;\n    private String username;\n    private String password;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    @Override\n    public String toString() {\n        return \"User{\" +\n                \"id=\" + id +\n                \", username='\" + username + '\\'' +\n                \", password='\" + password + '\\'' +\n                '}';\n    }\n}\n")),(0,r.kt)("p",null,"(1.3)\u5c06",(0,r.kt)("inlineCode",{parentName:"p"},"04-\u8d44\u6599\\1. \u767b\u5f55\u6ce8\u518c\u6848\u4f8b\\2. MyBatis\u73af\u5883\\UserMapper.xml"),"\u653e\u5165\u5230resources/com/itheima/mapper`\u76ee\u5f55\u4e0b:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE mapper\n        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\n        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n<mapper namespace="com.itheima.mapper.UserMapper">\n\n</mapper>\n')),(0,r.kt)("p",null,"(2)\u5b8c\u6210Service\u5c42\u7684\u4ee3\u7801\u7f16\u5199"),(0,r.kt)("p",null,"(2.1)\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"com.itheima.service"),"\u5305\u4e0b\uff0c\u521b\u5efaUserService\u7c7b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public class UserService {\n    //1.\u4f7f\u7528\u5de5\u5177\u7c7b\u83b7\u53d6SqlSessionFactory\n    SqlSessionFactory factory = SqlSessionFactoryUtils.getSqlSessionFactory();\n    /**\n     * \u767b\u5f55\u65b9\u6cd5\n     * @param username\n     * @param password\n     * @return\n     */\n    public User login(String username,String password){\n        //2. \u83b7\u53d6SqlSession\n        SqlSession sqlSession = factory.openSession();\n        //3. \u83b7\u53d6UserMapper\n        UserMapper mapper = sqlSession.getMapper(UserMapper.class);\n        //4. \u8c03\u7528\u65b9\u6cd5\n        User user = mapper.select(username, password);\n        //\u91ca\u653e\u8d44\u6e90\n        sqlSession.close();\n\n        return  user;\n    }\n}\n")),(0,r.kt)("p",null,"(3)\u5b8c\u6210\u9875\u9762\u548cWeb\u5c42\u7684\u4ee3\u7801\u7f16\u5199"),(0,r.kt)("p",null,"(3.1)\u5c06",(0,r.kt)("inlineCode",{parentName:"p"},"04-\u8d44\u6599\\1. \u767b\u5f55\u6ce8\u518c\u6848\u4f8b\\1. \u9759\u6001\u9875\u9762"),"\u62f7\u8d1d\u5230\u9879\u76ee\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"webapp"),"\u76ee\u5f55\u4e0b:"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109221908509.png",alt:"image-20230109221908509"})),(0,r.kt)("p",null,"(3.2)\u5c06login.html\u5185\u5bb9\u4fee\u6539\u6210login.jsp"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\n<!DOCTYPE html>\n<html lang="en">\n\n<head>\n    <meta charset="UTF-8">\n    <title>login</title>\n    <link href="css/login.css" rel="stylesheet">\n</head>\n\n<body>\n<div id="loginDiv" style="height: 350px">\n    <form action="/brand-demo/loginServlet" method="post" id="form">\n        <h1 id="loginMsg">LOGIN IN</h1>\n        <div id="errorMsg">\u7528\u6237\u540d\u6216\u5bc6\u7801\u4e0d\u6b63\u786e</div>\n        <p>Username:<input id="username" name="username" type="text"></p>\n        <p>Password:<input id="password" name="password" type="password"></p>\n        <p>Remember:<input id="remember" name="remember" type="checkbox"></p>\n        <div id="subDiv">\n            <input type="submit" class="button" value="login up">\n            <input type="reset" class="button" value="reset">&nbsp;&nbsp;&nbsp;\n            <a href="register.html">\u6ca1\u6709\u8d26\u53f7\uff1f</a>\n        </div>\n    </form>\n</div>\n</body>\n</html>\n')),(0,r.kt)("p",null,"(3.3)\u521b\u5efaLoginServlet\u7c7b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/loginServlet")\npublic class LoginServlet extends HttpServlet {\n    private UserService service = new UserService();\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        //1. \u83b7\u53d6\u7528\u6237\u540d\u548c\u5bc6\u7801\n        String username = request.getParameter("username");\n        String password = request.getParameter("password");\n   \n        //2. \u8c03\u7528service\u67e5\u8be2\n        User user = service.login(username, password);\n\n        //3. \u5224\u65ad\n        if(user != null){\n            //\u767b\u5f55\u6210\u529f\uff0c\u8df3\u8f6c\u5230\u67e5\u8be2\u6240\u6709\u7684BrandServlet\n            \n            //\u5c06\u767b\u9646\u6210\u529f\u540e\u7684user\u5bf9\u8c61\uff0c\u5b58\u50a8\u5230session\n            HttpSession session = request.getSession();\n            session.setAttribute("user",user);\n            \n            String contextPath = request.getContextPath();\n            response.sendRedirect(contextPath+"/selectAllServlet");\n        }else {\n            // \u767b\u5f55\u5931\u8d25,\n            // \u5b58\u50a8\u9519\u8bef\u4fe1\u606f\u5230request\n            request.setAttribute("login_msg","\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef");\n            // \u8df3\u8f6c\u5230login.jsp\n            request.getRequestDispatcher("/login.jsp").forward(request,response);\n\n        }\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("p",null,"(3.4)\u5728brand.jsp\u4e2d",(0,r.kt)("inlineCode",{parentName:"p"},"<body>"),"\u6807\u7b7e\u4e0b\u6dfb\u52a0\u6b22\u8fce\u5f53\u524d\u7528\u6237\u7684\u63d0\u793a\u4fe1\u606f:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},"<h1>${user.username},\u6b22\u8fce\u60a8</h1>\n")),(0,r.kt)("p",null,"(3.5) \u4fee\u6539login.jsp\uff0c\u5c06\u9519\u8bef\u4fe1\u606f\u4f7f\u7528EL\u8868\u8fbe\u5f0f\u6765\u83b7\u53d6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'\u4fee\u6539\u524d\u5185\u5bb9:<div id="errorMsg">\u7528\u6237\u540d\u6216\u5bc6\u7801\u4e0d\u6b63\u786e</div>\n\u4fee\u6539\u540e\u5185\u5bb9: <div id="errorMsg">${login_msg}</div>\n')),(0,r.kt)("p",null,"(4)\u542f\u52a8\uff0c\u8bbf\u95ee\u6d4b\u8bd5"),(0,r.kt)("p",null,"(4.1) \u8fdb\u5165\u767b\u5f55\u9875\u9762\uff0c\u8f93\u5165\u9519\u8bef\u7684\u7528\u6237\u540d\u6216\u5bc6\u7801"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109221940004.png",alt:"image-20230109221940004"})),(0,r.kt)("p",null,"(4.2)\u8f93\u5165\u6b63\u786e\u7684\u7528\u6237\u548c\u5bc6\u7801\u4fe1\u606f"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109221952732.png",alt:"image-20230109221952732"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5c0f\u7ed3")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5728LoginServlet\u4e2d\uff0c\u5c06\u767b\u5f55\u6210\u529f\u7684\u7528\u6237\u6570\u636e\u5b58\u5165session\u4e2d\uff0c\u65b9\u6cd5\u5728\u5217\u8868\u9875\u9762\u4e2d\u83b7\u53d6\u5f53\u524d\u767b\u5f55\u7528\u6237\u4fe1\u606f\u8fdb\u884c\u5c55\u793a"),(0,r.kt)("li",{parentName:"ul"},"\u5728LoginServlet\u4e2d\uff0c\u5c06\u767b\u5f55\u5931\u8d25\u7684\u9519\u8bef\u4fe1\u606f\u5b58\u5165\u5230request\u4e2d\uff0c\u5982\u679c\u5b58\u5165\u5230session\u4e2d\u5c31\u4f1a\u51fa\u73b0\u8fd9\u6b21\u4f1a\u8bdd\u7684\u6240\u6709\u8bf7\u6c42\u90fd\u6709\u767b\u5f55\u5931\u8d25\u7684\u9519\u8bef\u4fe1\u606f\uff0c\u8fd9\u4e2a\u662f\u4e0d\u9700\u8981\u7684\uff0c\u6240\u4ee5\u4e0d\u7528\u5b58\u5165\u5230session\u4e2d")),(0,r.kt)("h3",{id:"43-\u8bb0\u4f4f\u6211-\u8bbe\u7f6ecookie"},"4.3 \u8bb0\u4f4f\u6211-\u8bbe\u7f6eCookie"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u9700\u6c42:")),(0,r.kt)("p",null,"\u5982\u679c\u7528\u6237\u52fe\u9009\u201c\u8bb0\u4f4f\u7528\u6237\u201d \uff0c\u5219\u4e0b\u6b21\u8bbf\u95ee\u767b\u9646\u9875\u9762\u81ea\u52a8\u586b\u5145\u7528\u6237\u540d\u5bc6\u7801\u3002\u8fd9\u6837\u53ef\u4ee5\u63d0\u5347\u7528\u6237\u7684\u4f53\u9a8c\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109222145573.png",alt:"image-20230109222145573"})),(0,r.kt)("p",null,"\u5bf9\u5e94\u4e0a\u9762\u8fd9\u4e2a\u9700\u6c42\uff0c\u6700\u5927\u7684\u95ee\u9898\u5c31\u662f: \u5982\u4f55\u81ea\u52a8\u586b\u5145\u7528\u6237\u540d\u548c\u5bc6\u7801?"),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"\u5b9e\u73b0\u6d41\u7a0b\u5206\u6790")),(0,r.kt)("p",null,"\u56e0\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"\u8bb0\u4f4f\u6211"),"\u529f\u80fd\u8981\u5b9e\u73b0\u7684\u6548\u679c\u662f\uff0c\u5c31\u7b97\u7528\u6237\u628a\u6d4f\u89c8\u5668\u5173\u95ed\u8fc7\u51e0\u5929\u518d\u6765\u8bbf\u95ee\u4e5f\u80fd\u81ea\u52a8\u586b\u5145\uff0c\u6240\u4ee5\u9700\u8981\u5c06\u767b\u9646\u4fe1\u606f\u5b58\u5165\u4e00\u4e2a\u53ef\u4ee5\u957f\u4e45\u4fdd\u5b58\uff0c\u5e76\u4e14\u80fd\u591f\u5728\u6d4f\u89c8\u5668\u5173\u95ed\u91cd\u65b0\u542f\u52a8\u540e\u4f9d\u7136\u6709\u6548\u7684\u5730\u65b9\uff0c\u5c31\u662f\u6211\u4eec\u524d\u9762\u8bb2\u7684==Cookie==,\u6240\u4ee5:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5c06\u7528\u6237\u540d\u548c\u5bc6\u7801\u5199\u5165==Cookie==\u4e2d\uff0c\u5e76\u4e14\u6301\u4e45\u5316\u5b58\u50a8Cookie,\u4e0b\u6b21\u8bbf\u95ee\u6d4f\u89c8\u5668\u4f1a\u81ea\u52a8\u643a\u5e26Cookie")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728\u9875\u9762\u83b7\u53d6Cookie\u6570\u636e\u540e\uff0c\u8bbe\u7f6e\u5230\u7528\u6237\u540d\u548c\u5bc6\u7801\u6846\u4e2d")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4f55\u65f6\u5199\u5165Cookie?"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u7528\u6237\u5fc5\u987b\u767b\u9646\u6210\u529f\u540e\u624d\u9700\u8981\u5199"),(0,r.kt)("li",{parentName:"ul"},"\u7528\u6237\u5fc5\u987b\u5728\u767b\u5f55\u9875\u9762\u52fe\u9009\u4e86",(0,r.kt)("inlineCode",{parentName:"li"},"\u8bb0\u4f4f\u6211"),"\u7684\u590d\u9009\u6846")))),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109222223313.png",alt:"image-20230109222223313"})),(0,r.kt)("p",null,"(1)\u524d\u7aef\u9700\u8981\u5728\u53d1\u9001\u8bf7\u6c42\u548c\u6570\u636e\u7684\u65f6\u5019\uff0c\u591a\u643a\u5e26\u4e00\u4e2a\u7528\u6237\u662f\u5426\u52fe\u9009",(0,r.kt)("inlineCode",{parentName:"p"},"Remember"),"\u7684\u6570\u636e"),(0,r.kt)("p",null,"(2)LoginServlet\u83b7\u53d6\u5230\u6570\u636e\u540e\uff0c\u8c03\u7528Service\u5b8c\u6210\u7528\u6237\u540d\u548c\u5bc6\u7801\u7684\u5224\u5b9a"),(0,r.kt)("p",null,"(3)\u767b\u5f55\u6210\u529f\uff0c\u5e76\u4e14\u7528\u6237\u5728\u524d\u7aef\u52fe\u9009\u4e86",(0,r.kt)("inlineCode",{parentName:"p"},"\u8bb0\u4f4f\u6211"),"\uff0c\u9700\u8981\u5f80Cookie\u4e2d\u5199\u5165\u7528\u6237\u540d\u548c\u5bc6\u7801\u7684\u6570\u636e\uff0c\u5e76\u8bbe\u7f6eCookie\u5b58\u6d3b\u65f6\u95f4"),(0,r.kt)("p",null,"(4)\u8bbe\u7f6e\u6210\u529f\u540e\uff0c\u5c06\u6570\u636e\u54cd\u5e94\u7ed9\u524d\u7aef"),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"\u5177\u4f53\u5b9e\u73b0")),(0,r.kt)("p",null,"(1)\u5728login.jsp\u4e3a\u590d\u9009\u6846\u8bbe\u7f6e\u503c"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\n<!DOCTYPE html>\n<html lang="en">\n\n<head>\n    <meta charset="UTF-8">\n    <title>login</title>\n    <link href="css/login.css" rel="stylesheet">\n</head>\n\n<body>\n<div id="loginDiv" style="height: 350px">\n    <form action="/brand-demo/loginServlet" method="post" id="form">\n        <h1 id="loginMsg">LOGIN IN</h1>\n        <div id="errorMsg">${login_msg}</div>\n        <p>Username:<input id="username" name="username" type="text"></p>\n        <p>Password:<input id="password" name="password" type="password"></p>\n        <p>Remember:<input id="remember" name="remember" value="1" type="checkbox"></p>\n        <div id="subDiv">\n            <input type="submit" class="button" value="login up">\n            <input type="reset" class="button" value="reset">&nbsp;&nbsp;&nbsp;\n            <a href="register.html">\u6ca1\u6709\u8d26\u53f7\uff1f</a>\n        </div>\n    </form>\n</div>\n</body>\n</html>\n')),(0,r.kt)("p",null,"(2)\u5728LoginServlet\u83b7\u53d6\u590d\u9009\u6846\u7684\u503c\u5e76\u5728\u767b\u5f55\u6210\u529f\u540e\u8fdb\u884c\u8bbe\u7f6eCookie"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/loginServlet")\npublic class LoginServlet extends HttpServlet {\n    private UserService service = new UserService();\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        //1. \u83b7\u53d6\u7528\u6237\u540d\u548c\u5bc6\u7801\n        String username = request.getParameter("username");\n        String password = request.getParameter("password");\n\n        //\u83b7\u53d6\u590d\u9009\u6846\u6570\u636e\n        String remember = request.getParameter("remember");\n\n        //2. \u8c03\u7528service\u67e5\u8be2\n        User user = service.login(username, password);\n\n        //3. \u5224\u65ad\n        if(user != null){\n            //\u767b\u5f55\u6210\u529f\uff0c\u8df3\u8f6c\u5230\u67e5\u8be2\u6240\u6709\u7684BrandServlet\n\n            //\u5224\u65ad\u7528\u6237\u662f\u5426\u52fe\u9009\u8bb0\u4f4f\u6211\uff0c\u5b57\u7b26\u4e32\u5199\u524d\u9762\u662f\u4e3a\u4e86\u907f\u514d\u51fa\u73b0\u7a7a\u6307\u9488\u5f02\u5e38\n            if("1".equals(remember)){\n                //\u52fe\u9009\u4e86\uff0c\u53d1\u9001Cookie\n                //1. \u521b\u5efaCookie\u5bf9\u8c61\n                Cookie c_username = new Cookie("username",username);\n                Cookie c_password = new Cookie("password",password);\n                // \u8bbe\u7f6eCookie\u7684\u5b58\u6d3b\u65f6\u95f4\n                c_username.setMaxAge( 60 * 60 * 24 * 7);\n                c_password.setMaxAge( 60 * 60 * 24 * 7);\n                //2. \u53d1\u9001\n                response.addCookie(c_username);\n                response.addCookie(c_password);\n            }\n\n            //\u5c06\u767b\u9646\u6210\u529f\u540e\u7684user\u5bf9\u8c61\uff0c\u5b58\u50a8\u5230session\n            HttpSession session = request.getSession();\n            session.setAttribute("user",user);\n\n            String contextPath = request.getContextPath();\n            response.sendRedirect(contextPath+"/selectAllServlet");\n        }else {\n            // \u767b\u5f55\u5931\u8d25,\n\n            // \u5b58\u50a8\u9519\u8bef\u4fe1\u606f\u5230request\n            request.setAttribute("login_msg","\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef");\n\n            // \u8df3\u8f6c\u5230login.jsp\n            request.getRequestDispatcher("/login.jsp").forward(request,response);\n\n        }\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("p",null,"(3)\u542f\u52a8\u8bbf\u95ee\u6d4b\u8bd5\uff0c"),(0,r.kt)("p",null,"\u53ea\u6709\u5f53\u524d\u7528\u6237\u540d\u548c\u5bc6\u7801\u8f93\u5165\u6b63\u786e\uff0c\u5e76\u4e14\u52fe\u9009\u4e86Remeber\u7684\u590d\u9009\u6846\uff0c\u5728\u54cd\u5e94\u5934\u4e2d\u624d\u53ef\u4ee5\u770b\u5f97cookie\u7684\u76f8\u5173\u6570\u636e"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109222332515.png",alt:"image-20230109222332515"})),(0,r.kt)("h3",{id:"44-\u8bb0\u4f4f\u6211-\u83b7\u53d6cookie"},"4.4 \u8bb0\u4f4f\u6211-\u83b7\u53d6Cookie"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u9700\u6c42")),(0,r.kt)("p",null,"\u767b\u5f55\u6210\u529f\u5e76\u52fe\u9009\u4e86Remeber\u540e\uff0c\u540e\u7aef\u8fd4\u56de\u7ed9\u524d\u7aef\u7684Cookie\u6570\u636e\u5c31\u5df2\u7ecf\u5b58\u50a8\u597d\u4e86\uff0c\u63a5\u4e0b\u6765\u5c31\u9700\u8981\u5728\u9875\u9762\u83b7\u53d6Cookie\u4e2d\u7684\u6570\u636e\uff0c\u5e76\u628a\u6570\u636e\u8bbe\u7f6e\u5230\u767b\u5f55\u9875\u9762\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u6846\u4e2d\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109222345211.png",alt:"image-20230109222345211"})),(0,r.kt)("p",null,"\u5982\u4f55\u5728\u9875\u9762\u76f4\u63a5\u83b7\u53d6Cookie\u4e2d\u7684\u503c\u5462?"),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"\u5b9e\u73b0\u6d41\u7a0b\u5206\u6790")),(0,r.kt)("p",null,"\u5728\u9875\u9762\u53ef\u4ee5\u4f7f\u7528EL\u8868\u8fbe\u5f0f\uff0c${cookie.==key==.value}"),(0,r.kt)("p",null,"key:\u6307\u7684\u662f\u5b58\u50a8\u5728cookie\u4e2d\u7684\u952e\u540d\u79f0"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109222358762.png",alt:"image-20230109222358762"})),(0,r.kt)("p",null,"(1)\u5728login.jsp\u7528\u6237\u540d\u7684\u8868\u5355\u8f93\u5165\u6846\u4f7f\u7528value\u503c\u7ed9\u8868\u5355\u5143\u7d20\u6dfb\u52a0\u9ed8\u8ba4\u503c\uff0cvalue\u53ef\u4ee5\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"${cookie.username.value}")),(0,r.kt)("p",null,"(2)\u5728login.jsp\u5bc6\u7801\u7684\u8868\u5355\u8f93\u5165\u6846\u4f7f\u7528value\u503c\u7ed9\u8868\u5355\u5143\u7d20\u6dfb\u52a0\u9ed8\u8ba4\u503c\uff0cvalue\u53ef\u4ee5\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"${cookie.password.value}")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"\u5177\u4f53\u5b9e\u73b0")),(0,r.kt)("p",null,"(1)\u4fee\u6539login.jsp\u9875\u9762"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\n<!DOCTYPE html>\n<html lang="en">\n\n<head>\n    <meta charset="UTF-8">\n    <title>login</title>\n    <link href="css/login.css" rel="stylesheet">\n</head>\n\n<body>\n<div id="loginDiv" style="height: 350px">\n    <form action="/brand-demo/loginServlet" method="post" id="form">\n        <h1 id="loginMsg">LOGIN IN</h1>\n        <div id="errorMsg">${login_msg}</div>\n        <p>Username:<input id="username" name="username" value="${cookie.username.value}" type="text"></p>\n\n        <p>Password:<input id="password" name="password" value="${cookie.password.value}" type="password"></p>\n        <p>Remember:<input id="remember" name="remember" value="1" type="checkbox"></p>\n        <div id="subDiv">\n            <input type="submit" class="button" value="login up">\n            <input type="reset" class="button" value="reset">&nbsp;&nbsp;&nbsp;\n            <a href="register.html">\u6ca1\u6709\u8d26\u53f7\uff1f</a>\n        </div>\n    </form>\n</div>\n</body>\n</html>\n')),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"\u8bbf\u95ee\u6d4b\u8bd5\uff0c\u91cd\u65b0\u8bbf\u95ee\u767b\u5f55\u9875\u9762\uff0c\u5c31\u53ef\u4ee5\u770b\u5f97\u7528\u6237\u548c\u5bc6\u7801\u5df2\u7ecf\u88ab\u586b\u5145\u3002")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"C:/Users/levana/AppData/Roaming/Typora/typora-user-images/image-20230109222419286.png",alt:"image-20230109222419286"})),(0,r.kt)("h3",{id:"45-\u7528\u6237\u6ce8\u518c\u529f\u80fd"},"4.5 \u7528\u6237\u6ce8\u518c\u529f\u80fd"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u9700\u6c42")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6ce8\u518c\u529f\u80fd\uff1a\u4fdd\u5b58\u7528\u6237\u4fe1\u606f\u5230\u6570\u636e\u5e93"),(0,r.kt)("li",{parentName:"ul"},"\u9a8c\u8bc1\u7801\u529f\u80fd",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5c55\u793a\u9a8c\u8bc1\u7801\uff1a\u5c55\u793a\u9a8c\u8bc1\u7801\u56fe\u7247\uff0c\u5e76\u53ef\u4ee5\u70b9\u51fb\u5207\u6362"),(0,r.kt)("li",{parentName:"ul"},"\u6821\u9a8c\u9a8c\u8bc1\u7801\uff1a\u9a8c\u8bc1\u7801\u586b\u5199\u4e0d\u6b63\u786e\uff0c\u5219\u6ce8\u518c\u5931\u8d25")))),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109222703078.png",alt:"image-20230109222703078"})),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"\u5b9e\u73b0\u6d41\u7a0b\u5206\u6790")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109222715303.png",alt:"image-20230109222715303"})),(0,r.kt)("p",null,"(1)\u524d\u7aef\u901a\u8fc7\u8868\u5355\u53d1\u9001\u8bf7\u6c42\u548c\u6570\u636e\u7ed9Web\u5c42\u7684RegisterServlet"),(0,r.kt)("p",null,"(2)\u5728RegisterServlet\u4e2d\u63a5\u6536\u8bf7\u6c42\u548c\u6570\u636e","[\u7528\u6237\u540d\u548c\u5bc6\u7801]"),(0,r.kt)("p",null,"(3)RegisterServlet\u63a5\u6536\u5230\u8bf7\u6c42\u548c\u6570\u636e\u540e\uff0c\u8c03\u7528Service\u5c42\u5b8c\u6210\u7528\u6237\u4fe1\u606f\u7684\u4fdd\u5b58"),(0,r.kt)("p",null,"(4)\u5728Service\u5c42\u9700\u8981\u7f16\u5199UserService\u7c7b\uff0c\u5728\u7c7b\u4e2d\u5b9e\u73b0register\u65b9\u6cd5\uff0c\u9700\u8981\u5224\u65ad\u7528\u6237\u662f\u5426\u5df2\u7ecf\u5b58\u5728\uff0c\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u5b8c\u6210\u7528\u6237\u6570\u636e\u7684\u4fdd\u5b58"),(0,r.kt)("p",null,"(5)\u5728UserMapper\u63a5\u53e3\u4e2d\uff0c\u58f0\u660e\u4e24\u4e2a\u65b9\u6cd5\uff0c\u4e00\u4e2a\u662f\u6839\u636e\u7528\u6237\u540d\u67e5\u8be2\u7528\u6237\u4fe1\u606f\u65b9\u6cd5\uff0c\u53e6\u4e00\u4e2a\u662f\u4fdd\u5b58\u7528\u6237\u4fe1\u606f\u65b9\u6cd5"),(0,r.kt)("p",null,"(6)\u5728UserService\u7c7b\u4e2d\u4fdd\u5b58\u6210\u529f\u5219\u8fd4\u56detrue\uff0c\u5931\u8d25\u5219\u8fd4\u56defalse,\u5c06\u6570\u636e\u8fd4\u56de\u7ed9Web\u5c42"),(0,r.kt)("p",null,"(7)Web\u5c42\u83b7\u53d6\u5230\u7ed3\u679c\u540e\uff0c\u5982\u679c\u8fd4\u56de\u7684\u662ftrue,\u5219\u63d0\u793a",(0,r.kt)("inlineCode",{parentName:"p"},"\u6ce8\u518c\u6210\u529f"),"\uff0c\u5e76\u8f6c\u53d1\u5230\u767b\u5f55\u9875\u9762\uff0c\u5982\u679c\u8fd4\u56defalse\u5219\u63d0\u793a",(0,r.kt)("inlineCode",{parentName:"p"},"\u7528\u6237\u540d\u5df2\u5b58\u5728"),"\u5e76\u8f6c\u53d1\u5230\u6ce8\u518c\u9875\u9762"),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"\u5177\u4f53\u5b9e\u73b0")),(0,r.kt)("p",null,"(1)Dao\u5c42\u4ee3\u7801\u53c2\u8003\u8d44\u6599\u4e2d\u7684\u5185\u5bb9\u5b8c\u6210"),(0,r.kt)("p",null,"(2)\u7f16\u5199Service\u5c42\u4ee3\u7801"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public class UserService {\n    //1.\u4f7f\u7528\u5de5\u5177\u7c7b\u83b7\u53d6SqlSessionFactory\n    SqlSessionFactory factory = SqlSessionFactoryUtils.getSqlSessionFactory();\n    /**\n     * \u6ce8\u518c\u65b9\u6cd5\n     * @return\n     */\n\n    public boolean register(User user){\n        //2. \u83b7\u53d6SqlSession\n        SqlSession sqlSession = factory.openSession();\n        //3. \u83b7\u53d6UserMapper\n        UserMapper mapper = sqlSession.getMapper(UserMapper.class);\n        //4. \u5224\u65ad\u7528\u6237\u540d\u662f\u5426\u5b58\u5728\n        User u = mapper.selectByUsername(user.getUsername());\n\n        if(u == null){\n            // \u7528\u6237\u540d\u4e0d\u5b58\u5728\uff0c\u6ce8\u518c\n            mapper.add(user);\n            sqlSession.commit();\n        }\n        sqlSession.close();\n\n        return u == null;\n\n    }\n}\n")),(0,r.kt)("p",null,"(3)\u5b8c\u6210\u9875\u9762\u548cWeb\u5c42\u7684\u4ee3\u7801\u7f16\u5199"),(0,r.kt)("p",null,"(3.1)\u5c06register.html\u5185\u5bb9\u4fee\u6539\u6210register.jsp"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <title>\u6b22\u8fce\u6ce8\u518c</title>\n    <link href="css/register.css" rel="stylesheet">\n</head>\n<body>\n<div class="form-div">\n    <div class="reg-content">\n        <h1>\u6b22\u8fce\u6ce8\u518c</h1>\n        <span>\u5df2\u6709\u5e10\u53f7\uff1f</span> <a href="login.html">\u767b\u5f55</a>\n    </div>\n    <form id="reg-form" action="/brand-demo/registerServlet" method="post">\n        <table>\n            <tr>\n                <td>\u7528\u6237\u540d</td>\n                <td class="inputs">\n                    <input name="username" type="text" id="username">\n                    <br>\n                    <span id="username_err" class="err_msg" style="display:none">\u7528\u6237\u540d\u4e0d\u592a\u53d7\u6b22\u8fce</span>\n                </td>\n            </tr>\n            <tr>\n                <td>\u5bc6\u7801</td>\n                <td class="inputs">\n                    <input name="password" type="password" id="password">\n                    <br>\n                    <span id="password_err" class="err_msg" style="display: none">\u5bc6\u7801\u683c\u5f0f\u6709\u8bef</span>\n                </td>\n            </tr>\n            <tr>\n                <td>\u9a8c\u8bc1\u7801</td>\n                <td class="inputs">\n                    <input name="checkCode" type="text" id="checkCode">\n                    <img src="imgs/a.jpg">\n                    <a href="#" id="changeImg" >\u770b\u4e0d\u6e05\uff1f</a>\n                </td>\n            </tr>\n        </table>\n        <div class="buttons">\n            <input value="\u6ce8 \u518c" type="submit" id="reg_btn">\n        </div>\n        <br class="clear">\n    </form>\n</div>\n</body>\n</html>\n')),(0,r.kt)("p",null,"(3.2)\u7f16\u5199RegisterServlet"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/registerServlet")\npublic class RegisterServlet extends HttpServlet {\n    private UserService service = new UserService();\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n       //1. \u83b7\u53d6\u7528\u6237\u540d\u548c\u5bc6\u7801\u6570\u636e\n        String username = request.getParameter("username");\n        String password = request.getParameter("password");\n        \n        User user = new User();\n        user.setUsername(username);\n        user.setPassword(password);\n\n        //2. \u8c03\u7528service \u6ce8\u518c\n        boolean flag = service.register(user);\n        //3. \u5224\u65ad\u6ce8\u518c\u6210\u529f\u4e0e\u5426\n        if(flag){\n             //\u6ce8\u518c\u529f\u80fd\uff0c\u8df3\u8f6c\u767b\u9646\u9875\u9762\n            request.setAttribute("register_msg","\u6ce8\u518c\u6210\u529f\uff0c\u8bf7\u767b\u5f55");\n            request.getRequestDispatcher("/login.jsp").forward(request,response);\n        }else {\n            //\u6ce8\u518c\u5931\u8d25\uff0c\u8df3\u8f6c\u5230\u6ce8\u518c\u9875\u9762\n\n            request.setAttribute("register_msg","\u7528\u6237\u540d\u5df2\u5b58\u5728");\n            request.getRequestDispatcher("/register.jsp").forward(request,response);\n        }\n\n\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("p",null,"(3.3)\u9700\u8981\u5728\u9875\u9762\u4e0a\u5c55\u793a\u540e\u53f0\u8fd4\u56de\u7684\u9519\u8bef\u4fe1\u606f\uff0c\u9700\u8981\u4fee\u6539register.jsp"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'\u4fee\u6539\u524d:<span id="username_err" class="err_msg" style="display:none">\u7528\u6237\u540d\u4e0d\u592a\u53d7\u6b22\u8fce</span>\n\u4fee\u6539\u540e:<span id="username_err" class="err_msg">${register_msg}</span>\n')),(0,r.kt)("p",null,"(3.4)\u5982\u679c\u6ce8\u518c\u6210\u529f\uff0c\u9700\u8981\u628a\u6210\u529f\u4fe1\u606f\u5c55\u793a\u5728\u767b\u5f55\u9875\u9762\uff0c\u6240\u4ee5\u4e5f\u9700\u8981\u4fee\u6539login.jsp"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'\u4fee\u6539\u524d:<div id="errorMsg">${login_msg}</div>\n\u4fee\u6539\u540e:<div id="errorMsg">${login_msg} ${register_msg}</div>\n')),(0,r.kt)("p",null,"(3.5)\u4fee\u6539login.jsp\uff0c\u5c06\u6ce8\u518c\u8df3\u8f6c\u5730\u5740\u4fee\u6539\u4e3aregister.jsp"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'\u4fee\u6539\u524d\uff1a<a href="register.html">\u6ca1\u6709\u8d26\u53f7\uff1f</a>\n\u4fee\u6539\u540e: <a href="register.jsp">\u6ca1\u6709\u8d26\u53f7\uff1f</a>\n')),(0,r.kt)("p",null,"(3.6)\u542f\u52a8\u6d4b\u8bd5\uff0c"),(0,r.kt)("p",null,"\u5982\u679c\u662f\u6ce8\u518c\u7684\u7528\u6237\u4fe1\u606f\u5df2\u7ecf\u5b58\u5728:"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109222731561.png",alt:"image-20230109222731561"})),(0,r.kt)("p",null,"\u5982\u679c\u6ce8\u518c\u7684\u7528\u6237\u4fe1\u606f\u4e0d\u5b58\u5728\uff0c\u6ce8\u518c\u6210\u529f:"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109222740718.png",alt:"image-20230109222740718"})),(0,r.kt)("h3",{id:"46-\u9a8c\u8bc1\u7801-\u5c55\u793a"},"4.6 \u9a8c\u8bc1\u7801-\u5c55\u793a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u9700\u6c42\u5206\u6790")),(0,r.kt)("p",null,"\u5c55\u793a\u9a8c\u8bc1\u7801\uff1a\u5c55\u793a\u9a8c\u8bc1\u7801\u56fe\u7247\uff0c\u5e76\u53ef\u4ee5\u70b9\u51fb\u5207\u6362"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109222758616.png",alt:"image-20230109222758616"})),(0,r.kt)("p",null,"\u9a8c\u8bc1\u7801\u7684\u751f\u6210\u662f\u901a\u8fc7\u5de5\u5177\u7c7b\u6765\u5b9e\u73b0\u7684\uff0c\u5177\u4f53\u7684\u5de5\u5177\u7c7b\u53c2\u8003"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"04-\u8d44\u6599\\1. \u767b\u5f55\u6ce8\u518c\u6848\u4f8b\\CheckCodeUtil.java")),(0,r.kt)("p",null,"\u5728\u8be5\u5de5\u5177\u7c7b\u4e2d\u7f16\u5199main\u65b9\u6cd5\u8fdb\u884c\u6d4b\u8bd5:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'public static void main(String[] args) throws IOException {\n    //\u751f\u6210\u9a8c\u8bc1\u7801\u7684\u56fe\u7247\u4f4d\u7f6e\n    OutputStream fos = new FileOutputStream("d://a.jpg");\n    //checkCode\u4e3a\u6700\u7ec8\u9a8c\u8bc1\u7801\u7684\u6570\u636e\n    String checkCode = CheckCodeUtil.outputVerifyImage(100, 50, fos, 4);\n    System.out.println(checkCode);\n}\n\n')),(0,r.kt)("p",null,"\u751f\u6210\u5b8c\u9a8c\u8bc1\u7801\u4ee5\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u77e5\u6653:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9a8c\u8bc1\u7801\u5c31\u662f\u4f7f\u7528Java\u4ee3\u7801\u751f\u6210\u7684\u4e00\u5f20\u56fe\u7247"),(0,r.kt)("li",{parentName:"ul"},"\u9a8c\u8bc1\u7801\u7684\u4f5c\u7528:\u9632\u6b62\u673a\u5668\u81ea\u52a8\u6ce8\u518c\uff0c\u653b\u51fb\u670d\u52a1\u5668")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"\u5b9e\u73b0\u6d41\u7a0b\u5206\u6790")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109222828291.png",alt:"image-20230109222828291"})),(0,r.kt)("p",null,"(1)\u524d\u7aef\u53d1\u9001\u8bf7\u6c42\u7ed9CheckCodeServlet"),(0,r.kt)("p",null,"(2)CheckCodeServlet\u63a5\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u751f\u6210\u9a8c\u8bc1\u7801\u56fe\u7247\uff0c\u5c06\u56fe\u7247\u7528Reponse\u5bf9\u8c61\u7684\u8f93\u51fa\u6d41\u5199\u56de\u5230\u524d\u7aef"),(0,r.kt)("p",null,"\u601d\u8003:\u5982\u4f55\u5c06\u56fe\u7247\u5199\u56de\u5230\u524d\u7aef\u6d4f\u89c8\u5668\u5462?"),(0,r.kt)("p",null,"(1)Java\u4e2d\u5df2\u7ecf\u6709\u5de5\u5177\u7c7b\u751f\u6210\u9a8c\u8bc1\u7801\u56fe\u7247\uff0c\u6d4b\u8bd5\u7c7b\u4e2d\u53ea\u662f\u628a\u56fe\u7247\u751f\u6210\u5230\u78c1\u76d8\u4e0a\n(2)\u751f\u6210\u78c1\u76d8\u7684\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u7684\u662fOutputStream\u6d41\uff0c\u5982\u4f55\u628a\u8fd9\u4e2a\u56fe\u7247\u751f\u6210\u5728\u9875\u9762\u5462?\n(3)\u524d\u9762\u5728\u5c06Reponse\u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u5b83\u6709\u4e00\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u83b7\u53d6\u5176\u5b57\u8282\u8f93\u51fa\u6d41\uff0cgetOutputStream()\n(4)\u7efc\u4e0a\u6240\u8ff0\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u5199\u5f80\u78c1\u76d8\u7684\u6d41\u5bf9\u8c61\u66f4\u597d\u6210Response\u7684\u5b57\u8282\u6d41\uff0c\u5373\u53ef\u5b8c\u6210\u56fe\u7247\u54cd\u5e94\u7ed9\u524d\u7aef"),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"\u5177\u4f53\u5b9e\u73b0")),(0,r.kt)("p",null,"(1)\u4fee\u6539Register.jsp\u9875\u9762\uff0c\u5c06\u9a8c\u8bc1\u7801\u7684\u56fe\u7247\u4ece\u540e\u53f0\u83b7\u53d6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},'<tr>\n    <td>\u9a8c\u8bc1\u7801</td>\n        <td class="inputs">\n        <input name="checkCode" type="text" id="checkCode">\n        <img id="checkCodeImg" src="/brand-demo/checkCodeServlet">\n        <a href="#" id="changeImg" >\u770b\u4e0d\u6e05\uff1f</a>\n    </td>\n</tr>\n\n<script>\n    document.getElementById("changeImg").onclick = function () {\n        //\u8def\u5f84\u540e\u9762\u6dfb\u52a0\u65f6\u95f4\u6233\u7684\u76ee\u7684\u662f\u907f\u514d\u6d4f\u89c8\u5668\u8fdb\u884c\u7f13\u5b58\u9759\u6001\u8d44\u6e90\n        document.getElementById("checkCodeImg").src = "/brand-demo/checkCodeServlet?"+new Date().getMilliseconds();\n    }\n<\/script>\n')),(0,r.kt)("p",null,"(2)\u7f16\u5199CheckCodeServlet\u7c7b\uff0c\u7528\u6765\u63a5\u6536\u8bf7\u6c42\u751f\u6210\u9a8c\u8bc1\u7801"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/checkCodeServlet")\npublic class CheckCodeServlet extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        // \u751f\u6210\u9a8c\u8bc1\u7801\n        ServletOutputStream os = response.getOutputStream();\n        String checkCode = CheckCodeUtil.outputVerifyImage(100, 50, os, 4);\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("h3",{id:"47\u9a8c\u8bc1\u7801-\u6821\u9a8c"},"4.7\u9a8c\u8bc1\u7801-\u6821\u9a8c"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u9700\u6c42")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5224\u65ad\u7a0b\u5e8f\u751f\u6210\u7684\u9a8c\u8bc1\u7801 \u548c \u7528\u6237\u8f93\u5165\u7684\u9a8c\u8bc1\u7801 \u662f\u5426\u4e00\u6837\uff0c\u5982\u679c\u4e0d\u4e00\u6837\uff0c\u5219\u963b\u6b62\u6ce8\u518c"),(0,r.kt)("li",{parentName:"ul"},"\u9a8c\u8bc1\u7801\u56fe\u7247\u8bbf\u95ee\u548c\u63d0\u4ea4\u6ce8\u518c\u8868\u5355\u662f==\u4e24\u6b21==\u8bf7\u6c42\uff0c\u6240\u4ee5\u8981\u5c06\u7a0b\u5e8f\u751f\u6210\u7684\u9a8c\u8bc1\u7801\u5b58\u5165Session\u4e2d")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109222845971.png",alt:"image-20230109222845971"})),(0,r.kt)("p",null,"\u601d\u8003:\u4e3a\u4ec0\u4e48\u8981\u628a\u9a8c\u8bc1\u7801\u6570\u636e\u5b58\u5165\u5230Session\u4e2d\u5462?"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u751f\u6210\u9a8c\u8bc1\u7801\u548c\u6821\u9a8c\u9a8c\u8bc1\u7801\u662f\u4e24\u6b21\u8bf7\u6c42\uff0c\u6b64\u5904\u5c31\u9700\u8981\u5728\u4e00\u4e2a\u4f1a\u8bdd\u7684\u4e24\u6b21\u8bf7\u6c42\u4e4b\u95f4\u5171\u4eab\u6570\u636e"),(0,r.kt)("li",{parentName:"ul"},"\u9a8c\u8bc1\u7801\u5c5e\u4e8e\u5b89\u5168\u6570\u636e\u7c7b\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u9009\u4e2dSession\u6765\u5b58\u50a8\u9a8c\u8bc1\u7801\u6570\u636e\u3002")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"\u5b9e\u73b0\u6d41\u7a0b\u5206\u6790")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/levanaya/web-img/main/img/image-20230109222856686.png",alt:"image-20230109222856686"})),(0,r.kt)("p",null,"(1)\u5728CheckCodeServlet\u4e2d\u751f\u6210\u9a8c\u8bc1\u7801\u7684\u65f6\u5019\uff0c\u5c06\u9a8c\u8bc1\u7801\u6570\u636e\u5b58\u5165Session\u5bf9\u8c61"),(0,r.kt)("p",null,"(2)\u524d\u7aef\u5c06\u9a8c\u8bc1\u7801\u548c\u6ce8\u518c\u6570\u636e\u63d0\u4ea4\u5230\u540e\u53f0\uff0c\u4ea4\u7ed9RegisterServlet\u7c7b"),(0,r.kt)("p",null,"(3)RegisterServlet\u7c7b\u63a5\u6536\u5230\u8bf7\u6c42\u548c\u6570\u636e\u540e\uff0c\u5176\u4e2d\u5c31\u6709\u9a8c\u8bc1\u7801\uff0c\u548cSession\u4e2d\u7684\u9a8c\u8bc1\u7801\u8fdb\u884c\u5bf9\u6bd4"),(0,r.kt)("p",null,"(4)\u5982\u679c\u4e00\u81f4\uff0c\u5219\u5b8c\u6210\u6ce8\u518c\uff0c\u5982\u679c\u4e0d\u4e00\u81f4\uff0c\u5219\u63d0\u793a\u9519\u8bef\u4fe1\u606f"),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"\u5177\u4f53\u5b9e\u73b0")),(0,r.kt)("p",null,"(1)\u4fee\u6539CheckCodeServlet\u7c7b\uff0c\u5c06\u9a8c\u8bc1\u7801\u5b58\u5165Session\u5bf9\u8c61"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@WebServlet("/checkCodeServlet")\npublic class CheckCodeServlet extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n        // \u751f\u6210\u9a8c\u8bc1\u7801\n        ServletOutputStream os = response.getOutputStream();\n        String checkCode = CheckCodeUtil.outputVerifyImage(100, 50, os, 4);\n\n        // \u5b58\u5165Session\n        HttpSession session = request.getSession();\n        session.setAttribute("checkCodeGen",checkCode);\n\n\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("p",null,"(2)\u5728RegisterServlet\u4e2d\uff0c\u83b7\u53d6\u9875\u9762\u7684\u548csession\u5bf9\u8c61\u4e2d\u7684\u9a8c\u8bc1\u7801\uff0c\u8fdb\u884c\u5bf9\u6bd4"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'package com.itheima.web;\n\nimport com.itheima.pojo.User;\nimport com.itheima.service.UserService;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.*;\nimport java.io.IOException;\n\n@WebServlet("/registerServlet")\npublic class RegisterServlet extends HttpServlet {\n    private UserService service = new UserService();\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n       //1. \u83b7\u53d6\u7528\u6237\u540d\u548c\u5bc6\u7801\u6570\u636e\n        String username = request.getParameter("username");\n        String password = request.getParameter("password");\n\n        User user = new User();\n        user.setUsername(username);\n        user.setPassword(password);\n\n        // \u83b7\u53d6\u7528\u6237\u8f93\u5165\u7684\u9a8c\u8bc1\u7801\n        String checkCode = request.getParameter("checkCode");\n\n        // \u7a0b\u5e8f\u751f\u6210\u7684\u9a8c\u8bc1\u7801\uff0c\u4eceSession\u83b7\u53d6\n        HttpSession session = request.getSession();\n        String checkCodeGen = (String) session.getAttribute("checkCodeGen");\n\n        // \u6bd4\u5bf9\n        if(!checkCodeGen.equalsIgnoreCase(checkCode)){\n\n            request.setAttribute("register_msg","\u9a8c\u8bc1\u7801\u9519\u8bef");\n            request.getRequestDispatcher("/register.jsp").forward(request,response);\n\n            // \u4e0d\u5141\u8bb8\u6ce8\u518c\n            return;\n        }\n        //2. \u8c03\u7528service \u6ce8\u518c\n        boolean flag = service.register(user);\n        //3. \u5224\u65ad\u6ce8\u518c\u6210\u529f\u4e0e\u5426\n        if(flag){\n             //\u6ce8\u518c\u529f\u80fd\uff0c\u8df3\u8f6c\u767b\u9646\u9875\u9762\n\n            request.setAttribute("register_msg","\u6ce8\u518c\u6210\u529f\uff0c\u8bf7\u767b\u5f55");\n            request.getRequestDispatcher("/login.jsp").forward(request,response);\n        }else {\n            //\u6ce8\u518c\u5931\u8d25\uff0c\u8df3\u8f6c\u5230\u6ce8\u518c\u9875\u9762\n\n            request.setAttribute("register_msg","\u7528\u6237\u540d\u5df2\u5b58\u5728");\n            request.getRequestDispatcher("/register.jsp").forward(request,response);\n        }\n\n\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doGet(request, response);\n    }\n}\n')),(0,r.kt)("p",null,"\u81f3\u6b64\uff0c\u7528\u6237\u7684\u6ce8\u518c\u767b\u5f55\u529f\u80fd\u5c31\u5df2\u7ecf\u5b8c\u6210\u4e86\u3002"))}d.isMDXComponent=!0}}]);